<!DOCTYPE html>
<html xmlns:og="http://ogp.me/ns#" lang="fr"><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
	<meta charset="iso-8859-1">
	<title>OpenERP Tutorial: Module creation and modification of the Point Of Sale</title>
	<meta name="generator" content="developpez-com">
	<meta name="description" content="This is the english version of the OpenERP Tutorial: module creation and modification of the Point Of Sale">
	<script src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/async-ads.js" async=""></script><script src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/ga.js" async="" type="text/javascript"></script><script src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/cse.js" async="" type="text/javascript"></script><script type="text/javascript" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/jquery-1.js"></script>
	<script async="" type="text/javascript" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/a"></script>
	<link rel="shortcut icon" type="image/x-icon" href="http://thierry-godin.developpez.com/template/favicon.ico">
	<link rel="image_src" href="http://www.developpez.com/facebook-icon.png">
	<link rel="stylesheet" type="text/css" href="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/gabarit.css">
	<link rel="stylesheet" type="text/css" media="print" href="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/printer.css">
	<link rel="stylesheet" type="text/css" media="screen" href="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/developpez-kit-generation.css">
	<link rel="stylesheet" type="text/css" media="screen" href="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/code.css">
	<link rel="stylesheet" type="text/css" media="screen" href="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/lightbox.css">
	<script type="text/javascript" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/developpez-kit-generation.js"></script>
	<script type="text/javascript" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/lightbox.js"></script>
	<script type="text/javascript" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/fonctions-kit.js"></script>
	<meta name="author" content="Thierry Godin">
	<!--[if lt IE 7]>
	<script src="/template/ie7/IE7.js" type="text/javascript"></script>
	<![endif]-->

	<!--[if IE 6]>
	<link rel="stylesheet" type="text/css" href="/template/gabarit-ie6.css" />
	<![endif]-->

	<!--[if IE 7]>
	<link rel="stylesheet" type="text/css" href="/template/gabarit-ie7.css" />
	<![endif]-->

	<!--[if lt IE 9]>
	<script type="text/javascript" src="/template/kit/html5_ie.js"></script>
	<![endif]-->
	<!--[if IE 9]><link rel="stylesheet" type="text/css" href="http://www.developpez.com/template/kit/ie9.css" /><![endif]-->
	<!--[if IE 8]><link rel="stylesheet" type="text/css" href="http://www.developpez.com/template/kit/ie8.css" /><![endif]-->
	<!--[if lt IE 9]><link rel="stylesheet" type="text/css" href="http://www.developpez.com/template/kit/ie.css" /><![endif]-->
	<!--[if IE 7]><link rel="stylesheet" type="text/css" href="http://www.developpez.com/template/kit/ie7.css" /><![endif]-->
	<!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="http://www.developpez.com/template/kit/ie6.css" /><![endif]-->
	<!--[if lt IE 9]><script type="text/javascript" src="http://www.developpez.com/template/kit/html5_ie.js"></script><![endif]-->

<script src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/secureAnonymousFramework"></script><style type="text/css">* html #li_ui_li_gen_1453056507824_0 a#li_ui_li_gen_1453056507824_0-link{height:1% !important;}#li_ui_li_gen_1453056507824_0{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1453056507824_0 span{-webkit-box-sizing:content-box !important;-moz-box-sizing:content-box !important;box-sizing:content-box !important;}#li_ui_li_gen_1453056507824_0 a#li_ui_li_gen_1453056507824_0-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1453056507824_0 a#li_ui_li_gen_1453056507824_0-link:link, #li_ui_li_gen_1453056507824_0 a#li_ui_li_gen_1453056507824_0-link:visited, #li_ui_li_gen_1453056507824_0 a#li_ui_li_gen_1453056507824_0-link:hover, #li_ui_li_gen_1453056507824_0 a#li_ui_li_gen_1453056507824_0-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1453056507824_0 a#li_ui_li_gen_1453056507824_0-link:after{content:"." !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-logo{background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-position:0px -593px !important;background-repeat:no-repeat !important;background-color:#0077b5 !important;background-size:initial !important;cursor:pointer !important;border:0 !important;border-right:1px solid #066094 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;border-radius:2px !important;-moz-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-moz-border-radius-topright:2px !important;-moz-border-radius-bottomright:2px !important;}#li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title{color:#fff !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;text-shadow:0 -1px #005887 !important;line-height:20px !important;border-radius:2px !important;-moz-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-moz-border-radius-topright:2px !important;-moz-border-radius-bottomright:2px !important;background-color:#0077b5 !important;background-image:-moz-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}#li_ui_li_gen_1453056507824_0.hovered #li_ui_li_gen_1453056507824_0-title{border:1px solid #000 !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-moz-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}#li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title, #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title{color:#fff !important;border:1px solid #000 !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-moz-linear-gradient(top, #066094 0%, #066094 100%) !important;}.IN-shadowed #li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title{}.IN-shadowed #li_ui_li_gen_1453056507824_0.hovered #li_ui_li_gen_1453056507824_0-title{}.IN-shadowed #li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title, .IN-shadowed #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title{}#li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title-text, #li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title-text *{color:#fff !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;-webkit-font-smoothing:antialiased !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title-text em{font-style:italic !important;}#li_ui_li_gen_1453056507824_0.hovered #li_ui_li_gen_1453056507824_0-title-text, #li_ui_li_gen_1453056507824_0.hovered #li_ui_li_gen_1453056507824_0-title-text *{color:#fff !important;}#li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title-text, #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title-text, #li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title-text *, #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title-text *{color:#fff !important;}#li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title #li_ui_li_gen_1453056507824_0-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title{color:#fff !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;background-color:#0077b5 !important;background-image:-moz-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}.success #li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title-text, .success #li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1453056507824_0 #li_ui_li_gen_1453056507824_0-title{}.success #li_ui_li_gen_1453056507824_0.hovered #li_ui_li_gen_1453056507824_0-title{color:#fff !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-moz-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}.success #li_ui_li_gen_1453056507824_0.hovered #li_ui_li_gen_1453056507824_0-title-text, .success #li_ui_li_gen_1453056507824_0.hovered #li_ui_li_gen_1453056507824_0-title-text *{color:#fff !important;}.success #li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title, .success #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title{color:#fff !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-moz-linear-gradient(top, #066094 0%, #066094 100%) !important;}.success #li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title-text, .success #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title-text, .success #li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title-text *, .success #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1453056507824_0.clicked #li_ui_li_gen_1453056507824_0-title, .IN-shadowed .success #li_ui_li_gen_1453056507824_0.down #li_ui_li_gen_1453056507824_0-title{}</style><script type="text/javascript" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/jsapi"></script><link rel="stylesheet" href="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/defaultfr.css" type="text/css"><link rel="stylesheet" href="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/default.css" type="text/css"><script src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/defaultfr.js" type="text/javascript"></script><style type="text/css">
.gsc-control-cse {
font-family: Verdana, sans-serif;
border-color: #E1E1E2;
background-color: #E1E1E2;
}
.gsc-control-cse .gsc-table-result {
font-family: Verdana, sans-serif;
}
input.gsc-input, .gsc-input-box, .gsc-input-box-hover, .gsc-input-box-focus {
border-color: #D9D9D9;
}
input.gsc-search-button, input.gsc-search-button:hover, input.gsc-search-button:focus {
border-color: #9EB6C5;
background-color: #9EB6C5;
background-image: none;
filter: none;
}
.gsc-tabHeader.gsc-tabhInactive {
border-color: #CCCCCC;
background-color: #FFFFFF;
}
.gsc-tabHeader.gsc-tabhActive {
border-color: #CCCCCC;
border-bottom-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-tabsArea {
border-color: #CCCCCC;
}
.gsc-webResult.gsc-result,
.gsc-results .gsc-imageResult {
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-webResult.gsc-result:hover,
.gsc-imageResult:hover {
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gs-webResult.gs-result a.gs-title:link,
.gs-webResult.gs-result a.gs-title:link b,
.gs-imageResult a.gs-title:link,
.gs-imageResult a.gs-title:link b {
color: #1155CC;
}
.gs-webResult.gs-result a.gs-title:visited,
.gs-webResult.gs-result a.gs-title:visited b,
.gs-imageResult a.gs-title:visited,
.gs-imageResult a.gs-title:visited b {
color: #1155CC;
}
.gs-webResult.gs-result a.gs-title:hover,
.gs-webResult.gs-result a.gs-title:hover b,
.gs-imageResult a.gs-title:hover,
.gs-imageResult a.gs-title:hover b {
color: #1155CC;
}
.gs-webResult.gs-result a.gs-title:active,
.gs-webResult.gs-result a.gs-title:active b,
.gs-imageResult a.gs-title:active,
.gs-imageResult a.gs-title:active b {
color: #1155CC;
}
.gsc-cursor-page {
color: #1155CC;
}
a.gsc-trailing-more-results:link {
color: #1155CC;
}
.gs-webResult .gs-snippet,
.gs-imageResult .gs-snippet,
.gs-fileFormatType {
color: #333333;
}
.gs-webResult div.gs-visibleUrl,
.gs-imageResult div.gs-visibleUrl {
color: #009933;
}
.gs-webResult div.gs-visibleUrl-short {
color: #009933;
}
.gs-webResult div.gs-visibleUrl-short {
display: none;
}
.gs-webResult div.gs-visibleUrl-long {
display: block;
}
.gs-promotion div.gs-visibleUrl-short {
display: none;
}
.gs-promotion div.gs-visibleUrl-long {
display: block;
}
.gsc-cursor-box {
border-color: #FFFFFF;
}
.gsc-results .gsc-cursor-box .gsc-cursor-page {
border-color: #CCCCCC;
background-color: #FFFFFF;
color: #1155CC;
}
.gsc-results .gsc-cursor-box .gsc-cursor-current-page {
border-color: #CCCCCC;
background-color: #FFFFFF;
color: #1155CC;
}
.gsc-webResult.gsc-result.gsc-promotion {
border-color: #F6F6F6;
background-color: #F6F6F6;
}
.gsc-completion-title {
color: #1155CC;
}
.gsc-completion-snippet {
color: #333333;
}
.gs-promotion a.gs-title:link,
.gs-promotion a.gs-title:link *,
.gs-promotion .gs-snippet a:link {
color: #1155CC;
}
.gs-promotion a.gs-title:visited,
.gs-promotion a.gs-title:visited *,
.gs-promotion .gs-snippet a:visited {
color: #1155CC;
}
.gs-promotion a.gs-title:hover,
.gs-promotion a.gs-title:hover *,
.gs-promotion .gs-snippet a:hover {
color: #1155CC;
}
.gs-promotion a.gs-title:active,
.gs-promotion a.gs-title:active *,
.gs-promotion .gs-snippet a:active {
color: #1155CC;
}
.gs-promotion .gs-snippet,
.gs-promotion .gs-title .gs-promotion-title-right,
.gs-promotion .gs-title .gs-promotion-title-right * {
color: #333333;
}
.gs-promotion .gs-visibleUrl,
.gs-promotion .gs-visibleUrl-short {
color: #009933;
}</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-moz-user-select:none;white-space:nowrap}.gsst_e{opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gscsep_a{display:none}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gsfe_a{border:1px solid #b9b9b9;border-top-color:#a0a0a0;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);}.gsfe_b{border:1px solid #4d90fe;outline:none;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);}.gssb_a{padding:0 9px}.gsib_a{padding-right:8px;padding-left:8px}.gsst_a{padding-top:3px}.gssb_e{border:0}.gssb_l{margin:5px 0}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style></head>
<body>
<header>

<div id="gabarit_recherche">

<script>
  (function() {
    var cx = '000462451456271969647:i5w4qgpxrno';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div id="___gcse_0"><div class="gsc-control-cse gsc-control-cse-fr"><div dir="ltr" class="gsc-control-wrapper-cse"><form accept-charset="utf-8" class="gsc-search-box gsc-search-box-tools"><table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-input"><div id="gsc-iw-id1" class="gsc-input-box"><table class="gstl_50 " id="gs_id50" style="width: 100%; padding: 0px;" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsib_a" id="gs_tti50"><input spellcheck="false" dir="ltr" id="gsc-i-id1" style="width: 100%; padding: 0px; border: medium none; margin: 0px; height: auto; outline: medium none; background: rgb(255, 255, 255) url(&quot;http://www.google.com/cse/static/fr/google_custom_search_watermark.gif&quot;) no-repeat scroll left center;" title="rechercher" name="search" class="gsc-input" size="10" autocomplete="off" type="text"></td><td class="gsib_b"><div dir="ltr" id="gs_st50" class="gsst_b"><a style="display: none;" href="javascript:void(0)" class="gsst_a"><span id="gs_cb50" class="gscb_a">×</span></a></div></td></tr></tbody></table></div><input id="bgresponse" name="bgresponse" type="hidden"></td><td class="gsc-search-button"><input title="rechercher" class="gsc-search-button gsc-search-button-v2" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/search_box_icon.png" type="image"></td><td class="gsc-clear-button"><div title="effacer les résultats" class="gsc-clear-button">&nbsp;</div></td></tr></tbody></table><table class="gsc-branding" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-branding-user-defined"></td><td class="gsc-branding-text"><div class="gsc-branding-text">fourni par</div></td><td class="gsc-branding-img"><img class="gsc-branding-img" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/small-logo.png"></td></tr></tbody></table></form><div class="gsc-results-wrapper-overlay"><div tabindex="0" class="gsc-results-close-btn"></div><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">Recherche personnalisée</div><span class="gs-spacer"> </span></div><div class="gsc-tabsAreaInvisible"></div><div class="gsc-above-wrapper-area-invisible"><table class="gsc-above-wrapper-area-container" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td><td class="gsc-orderby-container"><div class="gsc-orderby-invisible"><div class="gsc-orderby-label gsc-inline-block">Trier par&nbsp;:</div><div class="gsc-option-menu-container gsc-inline-block"><div class="gsc-selected-option-container gsc-inline-block"><div class="gsc-selected-option">Relevance</div><div class="gsc-option-selector"></div></div><div class="gsc-option-menu-invisible"><div class="gsc-option-menu-item gsc-option-menu-item-highlighted"><div class="gsc-option">Relevance</div></div><div class="gsc-option-menu-item"><div class="gsc-option">Date</div></div></div></div></div></td></tr></tbody></table></div><div class="gsc-adBlockInvisible"></div><div class="gsc-wrapper"><div class="gsc-adBlockInvisible"></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table class="gsc-resultsHeader" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">Web</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-all-results-active"><div title="afficher un résultat" class="gsc-result-selector gsc-one-result">&nbsp;</div><div title="afficher plus de résultats" class="gsc-result-selector gsc-more-results">&nbsp;</div><div title="afficher tous les résultats" class="gsc-result-selector gsc-all-results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div><div tabindex="0" class="gsc-modal-background-image"></div></div></div></div>

</div>

<div id="gabarit_superieur">
	<nav>
	<ul>
		<li><a href="http://www.developpez.net/forums/" title="">Forums</a></li>
		<li><a href="http://general.developpez.com/cours/" title="">Tutoriels</a></li>
		<li><a href="http://magazine.developpez.com/" title="">Magazine</a></li>
		<li><a href="http://general.developpez.com/faq/" title="">FAQs</a></li>
		<li><a href="http://www.developpez.net/forums/blogs/" title="">Blogs</a></li>
		<li><a href="http://chat.developpez.com/" title="">Chat</a></li>
		<li><a href="http://www.developpez.com/newsletter/">Newsletter</a></li>
		<li><a href="http://etudes.developpez.com/">Études</a></li>
		<li><a href="http://emploi.developpez.com/" title="">Emploi</a></li>
		<li><a href="http://club.developpez.com/">Club</a></li>
		<li><a href="http://club.developpez.com/contacts/" title="">Contacts</a></li>
	</ul>
	</nav>
</div>
<div style="position: relative; clear: both; float: right; top: -2px; width: 745px; margin-top: 10px; margin-right: 5px; background-color: #E1E1E2">
<div id="gabarit_pub0"></div><div id="bu91ko0y" style="display: inline-block; width: 728px; height: 90px"><style type="text/css">html, body { margin: 0; padding: 0; }</style><iframe src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/show_i.htm" marginwidth="0" marginheight="0" hspace="0" vspace="0" scrolling="no" frameborder="0" height="90" width="728"></iframe><style type="text/css"> #gabarit_pub0 { display: inline-block; }</style></div>
</div>

<div id="gabarit_logo">
	<a href="http://www.developpez.com/" title="Accueil Developpez.com"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/logo.png" alt=""></a>
</div>

<nav>

<div id="gabarit_mobile">
	<img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/logo-mobile.png" alt="">
	<div>Developpez.com - <strong>ERP / PGI</strong></div>
	<ul>
		<li><a href="http://www.developpez.net/forums/f556/logiciels/solutions-dentreprise/erp/">Forums</a></li>
		<li><span>Autre rubrique</span></li>
	</ul>
</div>

<div id="gabarit_menu_mobile">
	<div>X</div>
	<p>Choisissez <span>d'abord la catégorie</span><span>ensuite la rubrique</span> :</p>
	<ul><li></li></ul>
</div>

<ul id="gabarit_menu">
	<li><a href="http://www.developpez.com/" data-idrub="1" data-niv="1">Accueil<span class="gabarit_tooltip">Actualités IT Pro</span></a>
			</li>
	<li><a href="http://alm.developpez.com/" data-idrub="42" data-niv="1">ALM<span class="gabarit_tooltip">Cycle de vie du logiciel</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://alm.developpez.com/" data-idrub="42" data-niv="2">ALM</a></li>
				<li><a href="http://merise.developpez.com/" data-idrub="43" data-niv="2">Merise</a></li>
				<li><a href="http://uml.developpez.com/" data-idrub="12" data-niv="2">UML</a></li>
			</ul></li>
	<li><a href="http://java.developpez.com/" data-idrub="4" data-niv="1">Java<span class="gabarit_tooltip">Plateforme et langage Java</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://java.developpez.com/" data-idrub="4" data-niv="2">Java</a></li>
				<li><a href="http://javaweb.developpez.com/" data-idrub="97" data-niv="2">Java Web</a></li>
				<li><a href="http://spring.developpez.com/" data-idrub="87" data-niv="2">Spring</a></li>
				<li><a href="http://android.developpez.com/" data-idrub="95" data-niv="2">Android</a></li>
				<li><a href="http://eclipse.developpez.com/" data-idrub="55" data-niv="2">Eclipse</a></li>
				<li><a href="http://netbeans.developpez.com/" data-idrub="66" data-niv="2">NetBeans</a></li>
			</ul></li>
	<li><a href="http://dotnet.developpez.com/" data-idrub="20" data-niv="1">.NET<span class="gabarit_tooltip">Microsoft Framework .NET</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://dotnet.developpez.com/" data-idrub="20" data-niv="2">Microsoft DotNET</a></li>
				<li><a href="http://dotnet.developpez.com/visual-studio/" data-idrub="84" data-niv="2">Visual Studio</a></li>
				<li><a href="http://dotnet.developpez.com/aspnet/" data-idrub="83" data-niv="2">ASP.NET</a></li>
				<li><a href="http://dotnet.developpez.com/csharp/" data-idrub="81" data-niv="2">C#</a></li>
				<li><a href="http://dotnet.developpez.com/vbnet/" data-idrub="82" data-niv="2">VB.NET</a></li>
				<li><a href="http://windowsphone.developpez.com/" data-idrub="105" data-niv="2">Windows Phone</a></li>
				<li><a href="http://windows-azure.developpez.com/" data-idrub="107" data-niv="2">Microsoft Azure</a></li>
			</ul></li>
	<li><a href="http://web.developpez.com/" data-idrub="8" data-niv="1">Dév. Web<span class="gabarit_tooltip">Développement Web et Webmarketing</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://web.developpez.com/" data-idrub="8" data-niv="2">Développement Web</a></li>
				<li><a href="http://ajax.developpez.com/" data-idrub="85" data-niv="2">AJAX</a></li>
				<li><a href="http://apache.developpez.com/" data-idrub="71" data-niv="2">Apache</a></li>
				<li><a href="http://asp.developpez.com/" data-idrub="10" data-niv="2">ASP</a></li>
				<li><a href="http://css.developpez.com/" data-idrub="51" data-niv="2">CSS</a></li>
				<li><a href="http://dart.developpez.com/" data-idrub="125" data-niv="2">Dart</a></li>
				<li><a href="http://flash.developpez.com/" data-idrub="41" data-niv="2">Flash / Flex</a></li>
				<li><a href="http://javascript.developpez.com/" data-idrub="45" data-niv="2">JavaScript</a></li>
				<li><a href="http://php.developpez.com/" data-idrub="9" data-niv="2">PHP</a></li>
				<li><a href="http://ruby.developpez.com/" data-idrub="53" data-niv="2">Ruby &amp; Rails</a></li>
				<li><a href="http://typescript.developpez.com/" data-idrub="127" data-niv="2">TypeScript</a></li>
				<li><a href="http://web-semantique.developpez.com/" data-idrub="111" data-niv="2">Web sémantique</a></li>
				<li><a href="http://webmarketing.developpez.com/" data-idrub="80" data-niv="2">Webmarketing</a></li>
				<li><a href="http://xhtml.developpez.com/" data-idrub="50" data-niv="2">(X)HTML</a></li>
			</ul></li>
	<li><a href="http://edi.developpez.com/" data-idrub="90" data-niv="1">EDI<span class="gabarit_tooltip">Environnements de Développement Intégré</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://edi.developpez.com/" data-idrub="90" data-niv="2">EDI</a></li>
				<li><a href="http://4d.developpez.com/" data-idrub="39" data-niv="2">4D</a></li>
				<li><a href="http://delphi.developpez.com/" data-idrub="2" data-niv="2">Delphi</a></li>
				<li><a href="http://eclipse.developpez.com/" data-idrub="55" data-niv="2">Eclipse</a></li>
				<li><a href="http://labview.developpez.com/" data-idrub="72" data-niv="2">LabVIEW</a></li>
				<li><a href="http://netbeans.developpez.com/" data-idrub="66" data-niv="2">NetBeans</a></li>
				<li><a href="http://matlab.developpez.com/" data-idrub="58" data-niv="2">MATLAB</a></li>
				<li><a href="http://scilab.developpez.com/" data-idrub="120" data-niv="2">Scilab</a></li>
				<li><a href="http://dotnet.developpez.com/visual-studio/" data-idrub="84" data-niv="2">Visual Studio</a></li>
				<li><a href="http://wind.developpez.com/" data-idrub="74" data-niv="2">WinDev</a></li>
				<li><a href="http://vb.developpez.com/" data-idrub="5" data-niv="2">Visual Basic 6</a></li>
				<li><a href="http://lazarus.developpez.com/" data-idrub="96" data-niv="2">Lazarus</a></li>
				<li><a href="http://qt-creator.developpez.com/" data-idrub="109" data-niv="2">Qt Creator</a></li>
			</ul></li>
	<li><a href="http://programmation.developpez.com/" data-idrub="119" data-niv="1">Programmation<span class="gabarit_tooltip">Programmation et langages de programmation applicatifs</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://programmation.developpez.com/" data-idrub="119" data-niv="2">Programmation</a></li>
				<li><a href="http://algo.developpez.com/" data-idrub="47" data-niv="2">Débuter - Algorithmique</a></li>
				<li><a href="http://jeux.developpez.com/" data-idrub="38" data-niv="2">2D - 3D - Jeux</a></li>
				<li><a href="http://asm.developpez.com/" data-idrub="16" data-niv="2">Assembleur</a></li>
				<li><a href="http://c.developpez.com/" data-idrub="3" data-niv="2">C</a></li>
				<li><a href="http://cpp.developpez.com/" data-idrub="59" data-niv="2">C++</a></li>
				<li><a href="http://go.developpez.com/" data-idrub="124" data-niv="2">Go</a></li>
				<li><a href="http://objective-c.developpez.com/" data-idrub="117" data-niv="2">Objective C</a></li>
				<li><a href="http://pascal.developpez.com/" data-idrub="7" data-niv="2">Pascal</a></li>
				<li><a href="http://perl.developpez.com/" data-idrub="29" data-niv="2">Perl</a></li>
				<li><a href="http://python.developpez.com/" data-idrub="27" data-niv="2">Python</a></li>
				<li><a href="http://swift.developpez.com/" data-idrub="128" data-niv="2">Swift</a></li>
				<li><a href="http://qt.developpez.com/" data-idrub="65" data-niv="2">Qt</a></li>
				<li><a href="http://xml.developpez.com/" data-idrub="11" data-niv="2">XML</a></li>
				<li><a href="http://general.developpez.com/cours/" data-idrub="21" data-niv="2">Autres</a></li>
			</ul></li>
	<li><a href="http://sgbd.developpez.com/" data-idrub="13" data-niv="1">SGBD<span class="gabarit_tooltip">Systèmes de Gestion de Bases de Données</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://sgbd.developpez.com/" data-idrub="13" data-niv="2">SGBD &amp; SQL</a></li>
				<li><a href="http://4d.developpez.com/" data-idrub="39" data-niv="2">4D</a></li>
				<li><a href="http://access.developpez.com/" data-idrub="19" data-niv="2">Access</a></li>
				<li><a href="http://big-data.developpez.com/" data-idrub="126" data-niv="2">Big Data</a></li>
				<li><a href="http://db2.developpez.com/" data-idrub="36" data-niv="2">DB2</a></li>
				<li><a href="http://firebird.developpez.com/" data-idrub="73" data-niv="2">Firebird</a></li>
				<li><a href="http://interbase.developpez.com/" data-idrub="32" data-niv="2">InterBase</a></li>
				<li><a href="http://mysql.developpez.com/" data-idrub="31" data-niv="2">MySQL</a></li>
				<li><a href="http://nosql.developpez.com/" data-idrub="114" data-niv="2">NoSQL</a></li>
				<li><a href="http://postgresql.developpez.com/" data-idrub="33" data-niv="2">PostgreSQL</a></li>
				<li><a href="http://oracle.developpez.com/" data-idrub="25" data-niv="2">Oracle</a></li>
				<li><a href="http://sybase.developpez.com/" data-idrub="37" data-niv="2">Sybase</a></li>
				<li><a href="http://sqlserver.developpez.com/" data-idrub="34" data-niv="2">SQL-Server</a></li>
			</ul></li>
	<li><a href="http://office.developpez.com/" data-idrub="54" data-niv="1">Office<span class="gabarit_tooltip">Bureautique pour l'entreprise</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://office.developpez.com/" data-idrub="54" data-niv="2">Microsoft Office</a></li>
				<li><a href="http://access.developpez.com/" data-idrub="19" data-niv="2">Access</a></li>
				<li><a href="http://excel.developpez.com/" data-idrub="75" data-niv="2">Excel</a></li>
				<li><a href="http://word.developpez.com/" data-idrub="76" data-niv="2">Word</a></li>
				<li><a href="http://outlook.developpez.com/" data-idrub="77" data-niv="2">Outlook</a></li>
				<li><a href="http://powerpoint.developpez.com/" data-idrub="78" data-niv="2">PowerPoint</a></li>
				<li><a href="http://sharepoint.developpez.com/" data-idrub="79" data-niv="2">SharePoint</a></li>
				<li><a href="http://project.developpez.com/" data-idrub="99" data-niv="2">Microsoft Project</a></li>
				<li><a href="http://openoffice-libreoffice.developpez.com/" data-idrub="116" data-niv="2">OpenOffice &amp; LibreOffice</a></li>
			</ul></li>
	<li><a href="http://solutions-entreprise.developpez.com/" data-idrub="86" data-niv="1" class="gabarit_selection">Solutions d'entreprise<span class="gabarit_tooltip">Autres logiciels pour l'entreprise</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://solutions-entreprise.developpez.com/" data-idrub="86" data-niv="2">Solutions d'entreprise</a></li>
				<li><a href="http://big-data.developpez.com/" data-idrub="126" data-niv="2">Big Data</a></li>
				<li><a href="http://bpm.developpez.com/" data-idrub="134" data-niv="2">BPM</a></li>
				<li><a href="http://business-intelligence.developpez.com/" data-idrub="61" data-niv="2">Business Intelligence</a></li>
				<li><a href="http://solutions-entreprise.developpez.com/erp-pgi/presentation-erp-pgi/" data-idrub="91" data-niv="2">ERP / PGI</a></li>
				<li><a href="http://crm.developpez.com/" data-idrub="92" data-niv="2">CRM</a></li>
				<li><a href="http://sas.developpez.com/" data-idrub="93" data-niv="2">SAS</a></li>
				<li><a href="http://cloud-computing.developpez.com/" data-idrub="103" data-niv="2">Cloud Computing</a></li>
				<li><a href="http://sap.developpez.com/" data-idrub="106" data-niv="2">SAP</a></li>
				<li><a href="http://www.developpez.net/forums/f1664/systemes/windows/windows-serveur/biztalk-server/" data-idrub="115" data-niv="2">Microsoft BizTalk Server</a></li>
				<li><a href="http://talend.developpez.com/" data-idrub="118" data-niv="2">Talend</a></li>
				<li><a href="http://bluemix.developpez.com/" data-idrub="135" data-niv="2">IBM Bluemix</a></li>
			</ul></li>
	<li><a href="http://applications.developpez.com/" data-idrub="88" data-niv="1">Applications<span class="gabarit_tooltip">Applications logicielles</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://applications.developpez.com/" data-idrub="88" data-niv="2">Applications</a></li>
				<li><a href="http://open-source.developpez.com/" data-idrub="121" data-niv="2">Libres &amp; Open Source</a></li>
				<li><a href="http://openoffice-libreoffice.developpez.com/" data-idrub="116" data-niv="2">OpenOffice &amp; LibreOffice</a></li>
				<li><a href="http://portail-projets.developpez.com/" data-idrub="98" data-niv="2">Projets</a></li>
			</ul></li>
	<li><a href="http://mobiles.developpez.com/" data-idrub="94" data-niv="1">Mobiles<span class="gabarit_tooltip">Logiciels et matériels mobiles</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://mobiles.developpez.com/" data-idrub="94" data-niv="2">Mobiles</a></li>
				<li><a href="http://android.developpez.com/" data-idrub="95" data-niv="2">Android</a></li>
				<li><a href="http://ios.developpez.com/" data-idrub="101" data-niv="2">iOS</a></li>
				<li><a href="http://windowsphone.developpez.com/" data-idrub="105" data-niv="2">Windows Phone</a></li>
			</ul></li>
	<li><a href="http://systeme.developpez.com/" data-idrub="30" data-niv="1">Systèmes<span class="gabarit_tooltip">Logiciels et matériels systèmes</span></a>
			<ul class="gabarit_sousmenu">
				<li><a href="http://systeme.developpez.com/" data-idrub="30" data-niv="2">Systèmes</a></li>
				<li><a href="http://windows.developpez.com/" data-idrub="17" data-niv="2">Windows</a></li>
				<li><a href="http://linux.developpez.com/" data-idrub="18" data-niv="2">Linux</a></li>
				<li><a href="http://securite.developpez.com/" data-idrub="40" data-niv="2">Sécurité</a></li>
				<li><a href="http://hardware.developpez.com/" data-idrub="64" data-niv="2">PC</a></li>
				<li><a href="http://mac.developpez.com/" data-idrub="57" data-niv="2">Mac</a></li>
				<li><a href="http://raspberry-pi.developpez.com/" data-idrub="131" data-niv="2">Raspberry Pi</a></li>
				<li><a href="http://reseau.developpez.com/" data-idrub="70" data-niv="2">Réseau</a></li>
				<li><a href="http://green-it.developpez.com/" data-idrub="104" data-niv="2">Green IT</a></li>
				<li><a href="http://embarque.developpez.com/" data-idrub="110" data-niv="2">Systèmes Embarqués</a></li>
				<li><a href="http://virtualisation.developpez.com/" data-idrub="108" data-niv="2">Virtualisation</a></li>
			</ul></li>
</ul>

<ul id="gabarit_barre1">
	<li><a href="http://solutions-entreprise.developpez.com/">Solutions d'entreprise</a></li>
	<li><a href="http://big-data.developpez.com/">Big Data</a></li>
	<li><a href="http://bpm.developpez.com/">BPM</a></li>
	<li><a href="http://business-intelligence.developpez.com/">Business Intelligence</a></li>
	<li class="gabarit_selection"><a href="http://solutions-entreprise.developpez.com/erp-pgi/presentation-erp-pgi/">ERP / PGI</a></li>
	<li><a href="http://crm.developpez.com/">CRM</a></li>
	<li><a href="http://sas.developpez.com/">SAS</a></li>
	<li><a href="http://cloud-computing.developpez.com/">Cloud Computing</a></li>
	<li><a href="http://sap.developpez.com/">SAP</a></li>
	<li><a href="http://www.developpez.net/forums/f1664/systemes/windows/windows-serveur/biztalk-server/">Microsoft BizTalk Server</a></li>
	<li><a href="http://talend.developpez.com/">Talend</a></li>
	<li><a href="http://bluemix.developpez.com/">IBM Bluemix</a></li>
</ul>

<div id="gabarit_barre2">
	<ul>
		<li><a href="http://www.developpez.net/forums/f556/logiciels/solutions-dentreprise/erp/">Forums ERP</a></li>
		<li><a href="http://solutions-entreprise.developpez.com/solutions-entreprise/cours/#erp">Tutoriels ERP</a></li>
		<li><a href="http://solutions-entreprise.developpez.com/solutions-entreprise/livres/">Livres</a></li>
		<li><a href="http://solutions-entreprise.developpez.com/faq/openerp">FAQ Odoo</a></li>
		<li><a href="http://solutions-entreprise.developpez.com/telecharger/index/categorie/285/ERP-PGI">Télécharger</a></li>
	</ul>
</div>

</nav>
</header>
<section>

<div class="contenuPage">		<article style="margin: 0px 20px;" class="ArticleComplet" itemscope="" itemtype="http://schema.org/Article">
<meta itemprop="genre" content="informatique">
<meta itemprop="inLanguage" content="fr-FR">
		
<header class="EnteteTitres">
<h1 class="titre-article" itemprop="name">OpenERP Tutorial: Module creation and modification of the Point Of Sale</h1>

</header><nav style="height: 468px; width: 321px;" class="nav-sommaire fixed2" role="navigation">
<header><h1 class="TitreHeader StopArrondi ToggleGecko">Table des matières<img class="ToggleImgPlier" title="Plier" alt="Plier" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/fleche-haut-bleue.gif"><img class="ToggleImgDeplier" title="Déplier" alt="Déplier" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/fleche-bas-bleue.gif" style="display:none;"></h1></header>
<ul style="overflow-y: scroll; height: 418px;" id="nav_sommaire_ul_principal" class="nav-sommaire-ul">
    <li><a class="summaryIndent0" href="#LI">I. Introduction</a></li>
    <li><a class="summaryIndent0" href="#LII">II. Requirements</a></li>
    <li><a class="summaryIndent0" href="#LIII">III. Basics</a></li>
    <li><a class="summaryIndent0" href="#LIV">IV. Necessary tools</a></li>
    <li><a class="summaryIndent0" href="#LV">V. Stages of completion</a></li>
    <li><a class="summaryIndent0" href="#LVI">VI. Module structure</a></li>
    <li><a class="summaryIndent0" href="#LVII">VII. Creation of a basic OpenERP module</a><ul class="nav-sommaire-ul IndentationVII">
      
      
      <li><a class="summaryIndent1" href="#LVII-A">VII-A. Creation of the directories</a></li>
      <li><a class="summaryIndent1" href="#LVII-B">VII-B. Required Python files</a><ul class="nav-sommaire-ul IndentationVII-B">
        
        
        
        <li><a class="summaryIndent2" href="#LVII-B-1">VII-B-1. The __init__.py file</a></li>
        <li><a class="summaryIndent2" href="#LVII-B-2">VII-B-2. The __openerp__.py file</a></li>
        <li><a class="summaryIndent2" href="#LVII-B-3">VII-B-3. The pos_cashier.py file</a><ul class="nav-sommaire-ul IndentationVII-B-3">
          
          
          
          
          
          
          
          
          
          
          <li><a class="summaryIndent3" href="#LVII-B-3-a">VII-B-3-a. Statements</a></li>
          <li><a class="summaryIndent3" href="#LVII-B-3-b">VII-B-3-b. Overload pos.order object of Point Of Sale</a></li>
        </ul></li>
        <li><a class="summaryIndent2" href="#LVII-B-4">VII-B-4. cashier_view.xml file</a><ul class="nav-sommaire-ul IndentationVII-B-4">
          
          
          
          
          
          <li><a class="summaryIndent3" href="#LVII-B-4-a">VII-B-4-a. The form view</a></li>
          <li><a class="summaryIndent3" href="#LVII-B-4-b">VII-B-4-b. The Tree view</a></li>
          <li><a class="summaryIndent3" href="#LVII-B-4-c">VII-B-4-c. The search view</a></li>
          <li><a class="summaryIndent3" href="#LVII-B-4-d">VII-B-4-d. The Cashiers menu</a></li>
          <li><a class="summaryIndent3" href="#LVII-B-4-e">VII-B-4-e. The action of the menu</a></li>
        </ul></li>
        <li><a class="summaryIndent2" href="#LVII-B-5">VII-B-5. The order_cashier_view.xml file</a><ul class="nav-sommaire-ul IndentationVII-B-5">
          
          
          
          
          
          
          <li><a class="summaryIndent3" href="#LVII-B-5-a">VII-B-5-a. The form view</a></li>
          <li><a class="summaryIndent3" href="#LVII-B-5-b">VII-B-5-b. The Tree View</a></li>
        </ul></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#LVII-C">VII-C. Security Settings of the module</a><ul class="nav-sommaire-ul IndentationVII-C">
        
        
        <li><a class="summaryIndent2" href="#LVII-C-1">VII-C-1. Access Rights</a></li>
        <li><a class="summaryIndent2" href="#LVII-C-2">VII-C-2. Record rules</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#LVII-D">VII-D. Add an icon to the module</a></li>
      <li><a class="summaryIndent1" href="#LVII-E">VII-E. End of the basic OpenERP module</a></li>
    </ul></li>
    <li><a class="summaryIndent0" href="#LVIII">VIII. Creation of the Web module for the Point Of Sale</a><ul class="nav-sommaire-ul IndentationVIII">
      
      
      
      
      
      
      <li><a class="summaryIndent1" href="#LVIII-A">VIII-A. The pos_cashier.js file</a><ul class="nav-sommaire-ul IndentationVIII-A">
        
        
        
        
        
        
        <li><a class="summaryIndent2" href="#LVIII-A-1">VIII-A-1. openerp_pos_cashier() function</a></li>
        <li><a class="summaryIndent2" href="#LVIII-A-2">VIII-A-2. The CashierWidget module</a></li>
        <li><a class="summaryIndent2" href="#LVIII-A-3">VIII-A-3. The CashierPayScreenWidget module</a></li>
        <li><a class="summaryIndent2" href="#LVIII-A-4">VIII-A-4. The CashierReceiptScreenWidget module</a></li>
        <li><a class="summaryIndent2" href="#LVIII-A-5">VIII-A-5. GoToPayWidget module</a></li>
        <li><a class="summaryIndent2" href="#LVIII-A-6">VIII-A-6. GoToPayButtonWidget module (Pay button)</a></li>
        <li><a class="summaryIndent2" href="#LVIII-A-7">VIII-A-7. Order module</a></li>
        <li><a class="summaryIndent2" href="#LVIII-A-8">VIII-A-8. The best for last</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#LVIII-B">VIII-B. the pos_cashier.xml file</a><ul class="nav-sommaire-ul IndentationVIII-B">
        
        
        
        
        
        
        <li><a class="summaryIndent2" href="#LVIII-B-1">VIII-B-1. The dropdown cashiers</a></li>
      </ul></li>
      <li><a class="summaryIndent1" href="#LVIII-C">VIII-C. pos_cashier.css file</a></li>
    </ul></li>
    <li><a class="summaryIndent0" href="#LIX">IX. Installation of the module</a></li>
    <li><a class="summaryIndent0" href="#LX">X. Internationalisation</a></li>
    <li><a class="summaryIndent0" href="#LXI">XI. Conclusion</a></li>
    <li><a class="summaryIndent0" href="#LXII">XII. Download module</a></li>
    <li><a class="summaryIndent0" href="#LXIII">XIII. Thanks</a></li>
  </ul></nav>


<div class="fixeMarge"><section itemprop="about" class="SectionSynopsis">
    <p>This tutorial aims to show you how to create a module for OpenERP
 Point Of Sale from A to Z. You will learn to create a basic OpenERP 
module with its icon, manage access rights and registration rules, 
create a menu, modify the Point Of Sale by adding a drop-down list, put 
the name of the cashier on the receipt and finally make the translation 
files of the module<br></p>
  <p class="TextNbrVues">Article lu <span id="NbrVues">-1</span> fois.</p></section></div><div style="height: 132px;" class="InfoAuthArtBook">
	<section class="SectionAuteurs">
	<header><h1 class="TitreHeader">L'auteur</h1></header>
<p class="auteur" itemprop="name" itemscope="" itemtype="http://schema.org/Person"><a itemprop="url" class="auteur" href="http://www.developpez.net/forums/u11720/n1bus/"><span itemprop="author">Thierry Godin</span></a><a class="homepage" href="http://thierry-godin.developpez.com/"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/kitbm-site-personnel.png" title="Bienvenue sur la page perso de Thierry Godin (N1bus) à developpez.com" alt="Site personnel" style="vertical-align:middle;"></a></p>
</section>
<section class="SectionInformationArticle">
<header><h1 class="TitreHeader">L'article</h1></header>

<p class="InfoArticle">Publié&nbsp;le&nbsp;<span itemprop="datePublished">1<sup>er</sup>&nbsp;août&nbsp;2013&nbsp;</span></p><p>
<span class="lientelechargementpdf"><a class="lientelechargement" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/openerp-pos-tutorial-en.pdf" title="Télécharger la version PDF de cet article.">Version PDF</a></span>
<span class="lientelechargementzip"><a class="lientelechargement" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/openerp-pos-tutorial-en.zip" title="Télécharger la version HTML de cet article.">Version hors-ligne</a></span></p>
<p><span class="lientelechargementebook"><a class="lientelechargement" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/openerp-pos-tutorial-en.epub" title="Télécharger la version ePub de l'article compatible avec la plupart des liseuses non Kindle (Amazon).">ePub</a></span>, <span class="lientelechargementebook"><a class="lientelechargement" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/openerp-pos-tutorial-en.azw" title="Télécharger la version Azw spécifique aux liseuses Kindle (Amazon).">Azw</a></span> et <span class="lientelechargementebook"><a class="lientelechargement" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/openerp-pos-tutorial-en.mobi" title="Télécharger la version Mobi de l'article compatible avec les liseuses Amazon.">Mobi</a></span></p>
</section>
<section class="SectionBookmarks">
<header><h1 class="TitreHeader">Liens&nbsp;sociaux</h1></header>
<div class="InfoBookmarks"><a title="Viadeo" href="http://www.viadeo.com/shareit/share/?url=http%3A%2F%2Fthierry-godin.developpez.com%2Fopenerp%2Ftutorial-module-creation-pos-modification-english-version%2F&amp;Title=OpenERP+Tutorial%3A+Module+creation+and+modification+of+the+Point+Of+Sale" rel="nofollow"><img alt="Viadeo" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/kitbm-viadeo.png"></a>&nbsp;<a title="Twitter" href="http://twitter.com/timeline/home?status=http%3A%2F%2Fthierry-godin.developpez.com%2Fopenerp%2Ftutorial-module-creation-pos-modification-english-version%2F" rel="nofollow"><img alt="Twitter" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/kitbm-twitter.png"></a>&nbsp;<a title="Facebook" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fthierry-godin.developpez.com%2Fopenerp%2Ftutorial-module-creation-pos-modification-english-version%2F" rel="nofollow"><img alt="Facebook" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/kitbm-facebook.png"></a>&nbsp;<a title="Google +" href="https://plus.google.com/share?url=http%3A%2F%2Fthierry-godin.developpez.com%2Fopenerp%2Ftutorial-module-creation-pos-modification-english-version%2F" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/gplus-16.png" alt="Share on Google+"></a>&nbsp;<script src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/in.js" type="text/javascript"> lang: fr_FR</script>
			<span class="IN-widget" style="line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;"><span style="padding: 0px ! important; margin: 0px ! important; text-indent: 0px ! important; display: inline-block ! important; vertical-align: baseline ! important; font-size: 1px ! important;"><span id="li_ui_li_gen_1453056507824_0"><a id="li_ui_li_gen_1453056507824_0-link" href="javascript:void(0);"><span id="li_ui_li_gen_1453056507824_0-logo">in</span><span id="li_ui_li_gen_1453056507824_0-title"><span id="li_ui_li_gen_1453056507824_0-mark"></span><span id="li_ui_li_gen_1453056507824_0-title-text">Partager</span></span></a></span></span></span><script type="IN/Share+init" data-url="$url"></script>&nbsp;</div>
</section></div><section style="margin-left: 346px; margin-top: 20px; clear: none;" itemprop="articleBody" class="articleBody">
    
		<h1 class="TitreSection0" id="LI">I. Introduction<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p class="imgtext-warning"><b>WARNING</b><br>
				This is the english translation of <a class="lienArticle Fr" href="http://thierry-godin.developpez.com/openerp/tutoriel-openerp-realisation-module-web-pour-point-vente/" target="_blank">the french tutorial I made</a>.<br>
				My native language is french. I have some basic knowledge of english
 language, thus I translated the tutorial by myself and sometimes by the
 use of a famous translation service, so I hope the whole text is easily
 understandable.<br>
				Whatever, the french version prevails.<br><br>
				In case of misunderstanding, do not hesitate to contact me at <a class=" tooltip blue-tooltip lienArticle En" href="http://help.openerp.com/users/5801/95878/" target="_blank">OpenERP Official Forum<span>Contact me</span></a><br><br>
				Thank you for reading
			</p>
      <p>OpenERP programming is a rather complicated task. It is 
necessary to know several programming languages &#8203;&#8203;and you must also have
 a good idea of &#8203;&#8203;how OpenERP does work.</p>
      <p>The documentation is quite limited and very brief. There are 
very few forums or specialized blogs about OpenERP, and almost all are 
in English.</p>
      <p>The few tutorials found on the Web are limited to specific problems.</p>
      <p>They do not fully achieve a complex module, they just allow you to add a button or function somewhere. It's not enough.</p>
      <p>The tutorial that I propose is the result of hundreds of hours 
of learning everything I could find in the official documentation and on
 the Web, as well as number of lines of code, of countless tests, bugs 
and other gaieties. You know what I mean...</p>
      <p>This is due to a request from a customer that I had the mission
 to make a module that will allow the creation of cashiers for the Point
 Of Sale.<br><br><b>The context</b></p>
      <p>OpenERP is installed on a Debian server. The client sells 
products through franchises. Each society can access to OpenERP, which 
is configured with <b>Multi-Company</b> feature.</p>
      <p>Each company has a PC in its location that is connected to the 
Point of Sale. And each company has several cashiers as employees.<br><br><b>Customer demand</b><br>
		How could we make purchases with the Point Of Sale on the same 
computer (PC) without having to create a session each time a cashier 
wants to make a sale?<br><br>
		Point Of Sale actually allows to make sales with several seller. To do
 this, simply create users in the company, put them in the <b>Point Of Sale/User</b> Group and assign them a Point Of Sale and voila.</p>
      <p>But each seller must then log in to make the sale.<br><br>
		These functions, however, native, did not suit the customer needs.<br><br>
		So I made a module that allows to create a different kind of users, <b>the cashiers</b>. You'll see later that this is not very complicated. </p>
      <p>Where it gets complicated is the part of the module, (<b>The Web module</b>),
 which operates in the Point Of Sale, and which allows to open only one 
session in the morning, make sales by several cashiers without leaving 
the Point Of Sale, and thus prevent to close close the previous session 
to open a new one.<br><br><b>Finally, the last statement of the customer:</b> the cashier is required. The sale must not be possible if the Point Of Sale has no cashiers.<br><br>
		Here is what it is.</p>
      <p>I will show you the steps that will help you for the creation of your own modules.</p>
      <p>The source code certainly needs some improvements and 
optimizations, do not hesitate to share your comments, it will also help
 me to move further into the intricacies of the OpenERP programming.</p>
    </div>
    
		<h1 class="TitreSection0" id="LII">II. Requirements<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>To go with this tutorial, you need a good knowledge of programming languages &#8203;&#8203;used in OpenERP&nbsp;:</p>
      <ul class="ListeDVP">
        <li>Python&nbsp;;</li>
        <li>XML&nbsp;;</li>
        <li>JavaScript&nbsp;;</li>
        <li>Qweb/JQuery&nbsp;;</li>
        <li>Linux command line</li>
      </ul>
    </div>
    
		<h1 class="TitreSection0" id="LIII">III. Basics<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>To make it short, we can say that the making of a conventional module is done in three steps.:</p>
      <ul class="ListeDVP">
        <li>The creation of the initialization file of the module.</li>
        <li>The creation of the Python Object.</li>
        <li>The creation of the XML view.</li>
      </ul>
      <p>Regarding the Point Of Sale, it is a « Web » module. When you 
login to the Point Of Sale, OpenERP disapears and the Point Of Sale 
interface appears. You must then close the Point Of Sale to return to 
OpenERP.<br><br>
		This is a special case which will require additional programming 
steps. The POS is not integrated with OpenERP, so its entire Web 
interface will keep our attention.</p>
    </div>
    
		<h1 class="TitreSection0" id="LIV">IV. Necessary tools<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Here are the softwares I use, feel free to use them or find similar softwares.</p>
      <ul class="ListeDVP">
        <li><a class=" tooltip blue-tooltip lienArticle En" href="http://winscp.net/eng/docs/lang:fr" target="_blank">WinSCP<span>WinSCP</span></a>&nbsp;: SFTP/FTP client, very pleasant to use, and allows to easily navigate through the file tree.</li>
        <li><a class=" tooltip blue-tooltip lienArticle Fr" href="http://www.putty.org/" target="_blank">PuTTY<span>PuTTY</span></a>&nbsp;: Telnet / SSH client that will run Linux commands on the server (WinSCP also allows, but with some limitations)</li>
        <li><a class=" tooltip blue-tooltip lienArticle En" href="http://www.sublimetext.com/" target="_blank">Sublime<span>Sublime</span></a>&nbsp;: a very well made text editor. It is aptly named.</li>
        <li><a class=" tooltip blue-tooltip lienArticle En" href="http://www.mozilla.org/en-US/" target="_blank">Firefox<span>Firefox</span></a> with <a class=" tooltip blue-tooltip lienArticle En" href="https://addons.mozilla.org/fr/firefox/addon/firebug/" target="_blank">Firebug<span>Firebug</span></a> extension. Essential for JavaScript debugging.</li>
      </ul>
      <p>OpenERP is installed on a Debian server (Dev one). I'm working on a PC running Windows 7 pro.</p>
      <p><b>Configure WinSCP</b><br>
		We will configure WinSCP for it opens directly with your favorite code editor when you double-click a file.</p>
      <ul class="ListeDVP">
        <li>Launch WinSCP.</li>
        <li>Go to <b>See </b>menu, then <b>Settings</b>.</li>
        <li>In the dialog form, click on <b>Editor</b> in the left column.</li>
        <li>In the frame <b>Editors preferences</b>, click <b>Add</b>.</li>
        <li>In the dialog box, clik <b>External editor</b> then select the exe file of your text editor.</li>
        <li>In <b>Use this editor for following files,</b> select filter <b>*.*</b> (all files).</li>
        <li>Validate.</li>
      </ul>
      <p class="imgtext-info">In this tutorial, we assume that OpenERP is installed on a Linux/Debian server and that we are working on a Windows PC.<br><b>I have installed OpenERP Version 7.0-20130703-231023</b> (version therefore dated 03 July 2013).<br>
			If you are working directly on the server, you will adapt the 
guidelines relating to the server administration (files, rights, etc..).
 The construction of the module remains the same.</p>
    </div>
    
		<h1 class="TitreSection0" id="LV">V. Stages of completion<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p><b>Creation of OpenERP internal module</b> </p>
      <ul class="ListeDVP">
        <li>Creation of the module initialization file .</li>
        <li>Creation of the file that contains Python Object</li>
        <li>creation of the views (Form view, Tree view).</li>
        <li>Creation of a menu for the POS/Manager users group</li>
        <li>Creation of the access rights for the module</li>
        <li>Creation of the recording rules</li>
        <li>Creation of the icon </li>
      </ul>
      <p>
        <b>Creation of the Point Of Sale module</b>
      </p>
      <ul class="ListeDVP">
        <li>Creation of the JavaScript file that contains module's actions and functions</li>
        <li>Creation of the GUI elements (drop-down list, labels, etc.) in a XML file</li>
        <li>Creation of the style file *.css for the design of the elements</li>
      </ul>
      <p><b>Module internationalization</b> </p>
      <ul class="ListeDVP">
        <li>Creation of the language template (*.pot)</li>
        <li>Creation of the french tanslated file (*.po)</li>
      </ul>
      <p class="imgtext-warning"><b>Warning</b>&nbsp;: <br>
			In this tutorial, Point Of Sale may be called <b>POS</b><br>
			Source code will be written in english, but texts and labels will be translated later<br>
			The module is called <b>pos_cashier</b>.</p>
      <p><b>Once completed, the POS Cashiers Module will appear in the list of installed modules, like in the image below</b> </p>
      <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/modules_config_pos_cashier.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/modules_config_pos_cashier.jpg" alt="The pos_cashier module installed" height="204" width="550"></a><figcaption>The pos_cashier module installed</figcaption></figure>
      <p class="imgtext-info"><b>Warning</b> <br>
			The tutorial may seem very long, but I tried to dissect all stages of
 the implementation of a module and I also tried to explain as best as I
 could all the source code and the various files that compose the module</p>
    </div>
    
		<h1 class="TitreSection0" id="LVI">VI. Module structure<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Here is the file-tree of the <b>pos_cashier </b>module</p>
      <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_tree.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_tree.jpg" alt="pos_cashier file tree" height="315" width="550"></a><figcaption>pos_cashier file tree</figcaption></figure>
      <p><b><span style="color:#ff0000;">i18n</span>&nbsp;directory :</b><br>
		Contains the internationalization files of the module. <br><br><b><span style="color:#ff0000;">security</span>&nbsp;directory :</b><br>
		Contains the access control file and recording rules file. <br><br><b><span style="color:#ff0000;">static</span>&nbsp;directory :</b><br>
		Contains the «&nbsp;Web&nbsp;» part of the module. <br><br>
		It contains the <b><span style="color:#ff0000;">css</span></b> directory that will host the stylesheet, the <b><span style="color:#ff0000;">img</span></b> directory that will host the icon of the module and the requiered pictures, the <b><span style="color:#ff0000;">js</span></b> directory that will host the JavaScript file and the <b><span style="color:#ff0000;">xml</span></b> directory that will host the views of the module. <br><br>
		Also , at the root of the module, there is the Python module and the XML views.</p>
    </div>
    
		<h1 class="TitreSection0" id="LVII">VII. Creation of a basic OpenERP module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>First, we will achieve the module that will allow the creation 
of the cashiers within OpenERP. The Web part of the module (which is in 
POS) will be discussed later.</p>
      
		<h2 class="TitreSection1" id="LVII-A">VII-A. Creation of the directories<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>The OpenERP modules are usually placed in the « addons » 
directory, but I recommend that you create a special directory (outside 
OpenERP) where you will place your own modules.</p>
        <p>For the tutorial, we will create a <b>modules-openerp</b> directory in the <b>/opt</b> directory on your server.<br><br>
		Log in with WinSCP (as root) and connect to your dev server.<br>Navigate to the <b>/opt</b> directory and create a new folder. Name it <b>modules-openerp</b>.</p>
        <p>Log in using PuTTY (from WinSCP) and enter the following commands:</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e558">Modify owner and rights<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e558" onclick="selectionCode('contenuCoded0e558');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e558" class="contenuCode">cd /opt [+Enter]
chown openerp:openerp ./modules-openerp [+Enter]
chmod <code class="shell_digit">0755</code> ./modules-openerp [+Enter]
</code></pre></div>
        <p>We assigned the<b> /opt/modules-openerp</b> directory to the user <b>openerp</b> and the group <b>openerp</b>, then we changed the rights.<br><br>
		For our future modules to be taken into account by OpenERP, we have to
 modify the server configuration file and add the path to our directory.</p>
        <p>
          <b>Modify openerp-server.conf file</b>
        </p>
        <ul class="ListeDVP">
          <li>In WinSCP, go to <b>/etc.</b></li>
          <li>Depending on the version, the <b>openerp-server.conf</b> file can be found in <b>/etc </b>or <b>/etc /openerp</b>.</li>
          <li>Double-click the file to edit.</li>
          <li>Change the line below by adding the full path to the modules directory that we have just created.</li>
        </ul>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e611">openerp-server.conf<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e611" onclick="selectionCode('contenuCoded0e611');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e611" class="contenuCode">addons_path = /opt/openerp/addons,/opt/openerp/server/openerp/addons,/opt/openerp/web/addons,/opt/modules-openerp
</code></pre></div>
        <p>If this line does not exist, add it by putting only the path to your directory.<br>
		There may be many paths to directories. They must be separated by a comma.</p>
        <p>Save and close the file.<br>
		Restart the server using the following command</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e624">Restart OpenERP<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e624" onclick="selectionCode('contenuCoded0e624');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e624" class="contenuCode">/etc/init.d/openerp-server restart [+Enter]
</code></pre></div>
        <p>Make sure the server is started by opening a Web page with the corresponding URL</p>
        <blockquote class="citation"><div>
          <b><span style="color:#0000ff;">http://IP_OF_YOUR_SERVER:8069</span> </b>
        </div></blockquote>
        <p>Then create different directories within the <b>modules-openerp </b>directory<br></p>
        <ul class="ListeDVP">
          <li><b>pos_cashier</b> <ul class="ListeDVP"><li><b>i18n</b> </li><li><b>security</b> </li><li><b>static</b> <ul class="ListeDVP"><li><b>src</b> <ul class="ListeDVP"><li><b>css</b> </li><li><b>img</b> </li><li><b>js</b> </li><li><b>xml</b> </li></ul></li></ul></li></ul></li>
        </ul>
        <p>Then change the user, group and rights with the following command</p>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e691">Modify owner and rights<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e691" onclick="selectionCode('contenuCoded0e691');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e691" class="contenuCode">cd /opt [+Enter]
chown openerp:openerp ./modules-openerp -R [+Enter]
chmod <code class="shell_digit">0755</code> ./modules-openerp -R [+Enter]
</code></pre></div>
      </div>
      
		<h2 class="TitreSection1" id="LVII-B">VII-B. Required Python files<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>There are three mandatory files when you create a module.</p>
        <ul class="ListeDVP">
          <li>
            <b><span style="color:#ff0000;">__init__.py</span> </b>
          </li>
          <li>
            <b><span style="color:#ff0000;">__openerp__.py</span> </b>
          </li>
          <li>
            <b><span style="color:#ff0000;">our_famous_module.py</span> </b>
          </li>
        </ul>
        
		<h3 class="TitreSection2" id="LVII-B-1">VII-B-1. The __init__.py file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>This is the file that will invite OpenERP to load our module.<br>
		The contents of this file is very simple:</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e743">__init__.py<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e743" onclick="selectionCode('contenuCoded0e743');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e743" class="contenuCode"><code class="python_keyword1">import</code> pos_cashier
</code></pre></div>
          <p>Put the name of the module. It is also the name of the directory.</p>
        </div>
        
		<h3 class="TitreSection2" id="LVII-B-2">VII-B-2. The __openerp__.py file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <a id="openerppy">&nbsp;</a>
          <p>This is the file that contains all the information about 
the module&nbsp;: name, version, category, description, files to load, 
etc.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e762">__openerp__.py<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e762" onclick="selectionCode('contenuCoded0e762');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e762" class="contenuCode"><code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1">-*-</code><code class="python_comment1"> </code><code class="python_comment1">coding:</code><code class="python_comment1"> </code><code class="python_comment1">utf-8</code><code class="python_comment1"> </code><code class="python_comment1">-*-</code>
{
    <code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>: <code class="python_literal1">'</code><code class="python_literal1">POS</code><code class="python_literal1"> </code><code class="python_literal1">Cashiers</code><code class="python_literal1">'</code>,
    <code class="python_literal1">'</code><code class="python_literal1">version</code><code class="python_literal1">'</code>: <code class="python_literal1">'</code><code class="python_literal1">1</code><code class="python_literal1">.</code><code class="python_literal1">0</code><code class="python_literal1">.</code><code class="python_literal1">0</code><code class="python_literal1">'</code>,
    <code class="python_literal1">'</code><code class="python_literal1">category</code><code class="python_literal1">'</code>: <code class="python_literal1">'</code><code class="python_literal1">Point</code><code class="python_literal1"> </code><code class="python_literal1">Of</code><code class="python_literal1"> </code><code class="python_literal1">Sale</code><code class="python_literal1">'</code>,
    <code class="python_literal1">'</code><code class="python_literal1">sequence</code><code class="python_literal1">'</code>: <code class="python_digit">3</code>,
    <code class="python_literal1">'</code><code class="python_literal1">author</code><code class="python_literal1">'</code>: <code class="python_literal1">'</code><code class="python_literal1">Thierry</code><code class="python_literal1"> </code><code class="python_literal1">Godin</code><code class="python_literal1">'</code>,
    <code class="python_literal1">'</code><code class="python_literal1">summary</code><code class="python_literal1">'</code>: <code class="python_literal1">'</code><code class="python_literal1">Manage</code><code class="python_literal1"> </code><code class="python_literal1">cashiers</code><code class="python_literal1"> </code><code class="python_literal1">for</code><code class="python_literal1"> </code><code class="python_literal1">Point</code><code class="python_literal1"> </code><code class="python_literal1">Of</code><code class="python_literal1"> </code><code class="python_literal1">Sale</code><code class="python_literal1">'</code>,
    <code class="python_literal1">'</code><code class="python_literal1">description</code><code class="python_literal1">'</code>: <code class="python_literal2">"""</code>
<code class="python_literal2">Manage</code><code class="python_literal2"> </code><code class="python_literal2">several</code><code class="python_literal2"> </code><code class="python_literal2">cashiers</code><code class="python_literal2"> </code><code class="python_literal2">for</code><code class="python_literal2"> </code><code class="python_literal2">each</code><code class="python_literal2"> </code><code class="python_literal2">Point</code><code class="python_literal2"> </code><code class="python_literal2">Of</code><code class="python_literal2"> </code><code class="python_literal2">Sale</code>
<code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code><code class="python_literal2">=</code>

<code class="python_literal2">This</code><code class="python_literal2"> </code><code class="python_literal2">could</code><code class="python_literal2"> </code><code class="python_literal2">be</code><code class="python_literal2"> </code><code class="python_literal2">handy</code><code class="python_literal2"> </code><code class="python_literal2">in</code><code class="python_literal2"> </code><code class="python_literal2">case</code><code class="python_literal2"> </code><code class="python_literal2">of</code><code class="python_literal2"> </code><code class="python_literal2">using</code><code class="python_literal2"> </code><code class="python_literal2">the</code><code class="python_literal2"> </code><code class="python_literal2">same</code><code class="python_literal2"> </code><code class="python_literal2">POS</code><code class="python_literal2"> </code><code class="python_literal2">at</code><code class="python_literal2"> </code><code class="python_literal2">the</code><code class="python_literal2"> </code><code class="python_literal2">same</code><code class="python_literal2"> </code><code class="python_literal2">cash</code><code class="python_literal2"> </code><code class="python_literal2">register</code><code class="python_literal2"> </code><code class="python_literal2">while</code><code class="python_literal2"> </code><code class="python_literal2">it</code><code class="python_literal2"> </code><code class="python_literal2">is</code><code class="python_literal2"> </code><code class="python_literal2">used</code><code class="python_literal2"> </code><code class="python_literal2">by</code><code class="python_literal2"> </code><code class="python_literal2">several</code><code class="python_literal2"> </code><code class="python_literal2">cashiers</code><code class="python_literal2">.</code>
<code class="python_literal2">Cashier</code><code class="python_literal2">'</code><code class="python_literal2">s</code><code class="python_literal2"> </code><code class="python_literal2">name</code><code class="python_literal2"> </code><code class="python_literal2">is</code><code class="python_literal2"> </code><code class="python_literal2">displayed</code><code class="python_literal2"> </code><code class="python_literal2">on</code><code class="python_literal2"> </code><code class="python_literal2">the</code><code class="python_literal2"> </code><code class="python_literal2">payement</code><code class="python_literal2"> </code><code class="python_literal2">receipt</code><code class="python_literal2"> </code><code class="python_literal2">and</code><code class="python_literal2"> </code><code class="python_literal2">on</code><code class="python_literal2"> </code><code class="python_literal2">the</code><code class="python_literal2"> </code><code class="python_literal2">order</code><code class="python_literal2">.</code>

<code class="python_literal2">Cashiers</code><code class="python_literal2"> </code><code class="python_literal2">are</code><code class="python_literal2"> </code><code class="python_literal2">allowed</code><code class="python_literal2"> </code><code class="python_literal2">to</code><code class="python_literal2"> </code><code class="python_literal2">change</code><code class="python_literal2"> </code><code class="python_literal2">the</code><code class="python_literal2"> </code><code class="python_literal2">current</code><code class="python_literal2"> </code><code class="python_literal2">cashier</code><code class="python_literal2"> </code><code class="python_literal2">(</code><code class="python_literal2">by</code><code class="python_literal2"> </code><code class="python_literal2">choosing</code><code class="python_literal2"> </code><code class="python_literal2">their</code><code class="python_literal2"> </code><code class="python_literal2">name</code><code class="python_literal2"> </code><code class="python_literal2">in</code><code class="python_literal2"> </code><code class="python_literal2">the</code><code class="python_literal2"> </code><code class="python_literal2">drop</code><code class="python_literal2">-</code><code class="python_literal2">down</code><code class="python_literal2"> </code><code class="python_literal2">list</code><code class="python_literal2">)</code><code class="python_literal2"> </code><code class="python_literal2">and</code><code class="python_literal2"> </code><code class="python_literal2">can</code><code class="python_literal2"> </code><code class="python_literal2">make</code><code class="python_literal2"> </code><code class="python_literal2">a</code><code class="python_literal2"> </code><code class="python_literal2">sell</code><code class="python_literal2"> </code><code class="python_literal2">without</code><code class="python_literal2"> </code><code class="python_literal2">creating</code><code class="python_literal2"> </code><code class="python_literal2">a</code><code class="python_literal2"> </code><code class="python_literal2">new</code><code class="python_literal2"> </code><code class="python_literal2">session</code><code class="python_literal2">.</code>

<code class="python_literal2">Cashier</code><code class="python_literal2">'</code><code class="python_literal2">s</code><code class="python_literal2"> </code><code class="python_literal2">name</code><code class="python_literal2"> </code><code class="python_literal2">is</code><code class="python_literal2"> </code><code class="python_literal2">mandatory</code><code class="python_literal2">.</code><code class="python_literal2"> </code><code class="python_literal2">You</code><code class="python_literal2"> </code><code class="python_literal2">cannot</code><code class="python_literal2"> </code><code class="python_literal2">perform</code><code class="python_literal2"> </code><code class="python_literal2">a</code><code class="python_literal2"> </code><code class="python_literal2">sell</code><code class="python_literal2"> </code><code class="python_literal2">if</code><code class="python_literal2"> </code><code class="python_literal2">no</code><code class="python_literal2"> </code><code class="python_literal2">cashier</code><code class="python_literal2"> </code><code class="python_literal2">has</code><code class="python_literal2"> </code><code class="python_literal2">been</code><code class="python_literal2"> </code><code class="python_literal2">created</code><code class="python_literal2"> </code><code class="python_literal2">or</code><code class="python_literal2"> </code><code class="python_literal2">is</code><code class="python_literal2"> </code><code class="python_literal2">active</code><code class="python_literal2"> </code><code class="python_literal2">in</code><code class="python_literal2"> </code><code class="python_literal2">your</code><code class="python_literal2"> </code><code class="python_literal2">POS</code><code class="python_literal2">.</code>

<code class="python_literal2">The</code><code class="python_literal2"> </code><code class="python_literal2">shop</code><code class="python_literal2"> </code><code class="python_literal2">manager</code><code class="python_literal2"> </code><code class="python_literal2">will</code><code class="python_literal2"> </code><code class="python_literal2">know</code><code class="python_literal2"> </code><code class="python_literal2">who</code><code class="python_literal2"> </code><code class="python_literal2">made</code><code class="python_literal2"> </code><code class="python_literal2">the</code><code class="python_literal2"> </code><code class="python_literal2">sell</code><code class="python_literal2">.</code>
<code class="python_literal2"> </code><code class="python_literal2"> </code><code class="python_literal2"> </code><code class="python_literal2"> </code><code class="python_literal2">"""</code>,
    <code class="python_literal1">'</code><code class="python_literal1">depends</code><code class="python_literal1">'</code>: [<code class="python_literal1">"</code><code class="python_literal1">point_of_sale</code><code class="python_literal1">"</code>],
    <code class="python_literal1">'</code><code class="python_literal1">data</code><code class="python_literal1">'</code>: [
        <code class="python_literal1">'</code><code class="python_literal1">security</code><code class="python_literal1">/</code><code class="python_literal1">pos_cashier_security</code><code class="python_literal1">.</code><code class="python_literal1">xml</code><code class="python_literal1">'</code>,
        <code class="python_literal1">'</code><code class="python_literal1">security</code><code class="python_literal1">/</code><code class="python_literal1">ir</code><code class="python_literal1">.</code><code class="python_literal1">model</code><code class="python_literal1">.</code><code class="python_literal1">access</code><code class="python_literal1">.</code><code class="python_literal1">csv</code><code class="python_literal1">'</code>,
        <code class="python_literal1">'</code><code class="python_literal1">cashier_view</code><code class="python_literal1">.</code><code class="python_literal1">xml</code><code class="python_literal1">'</code>,
        <code class="python_literal1">'</code><code class="python_literal1">order_cashier_view</code><code class="python_literal1">.</code><code class="python_literal1">xml</code><code class="python_literal1">'</code>,
    ],
    <code class="python_literal1">'</code><code class="python_literal1">js</code><code class="python_literal1">'</code>: [
        <code class="python_literal1">'</code><code class="python_literal1">static</code><code class="python_literal1">/</code><code class="python_literal1">src</code><code class="python_literal1">/</code><code class="python_literal1">js</code><code class="python_literal1">/</code><code class="python_literal1">pos_cashier</code><code class="python_literal1">.</code><code class="python_literal1">js</code><code class="python_literal1">'</code>,
    ],
    <code class="python_literal1">'</code><code class="python_literal1">css</code><code class="python_literal1">'</code>: [
        <code class="python_literal1">'</code><code class="python_literal1">static</code><code class="python_literal1">/</code><code class="python_literal1">src</code><code class="python_literal1">/</code><code class="python_literal1">css</code><code class="python_literal1">/</code><code class="python_literal1">pos_cashier</code><code class="python_literal1">.</code><code class="python_literal1">css</code><code class="python_literal1">'</code>,
    ],
    <code class="python_literal1">'</code><code class="python_literal1">qweb</code><code class="python_literal1">'</code>: [
        <code class="python_literal1">'</code><code class="python_literal1">static</code><code class="python_literal1">/</code><code class="python_literal1">src</code><code class="python_literal1">/</code><code class="python_literal1">xml</code><code class="python_literal1">/</code><code class="python_literal1">pos_cashier</code><code class="python_literal1">.</code><code class="python_literal1">xml</code><code class="python_literal1">'</code>,
    ],
    <code class="python_literal1">'</code><code class="python_literal1">installable</code><code class="python_literal1">'</code>: <code class="python_keyword3">True</code>,
    <code class="python_literal1">'</code><code class="python_literal1">application</code><code class="python_literal1">'</code>: <code class="python_keyword3">False</code>,
    <code class="python_literal1">'</code><code class="python_literal1">auto_install</code><code class="python_literal1">'</code>: <code class="python_keyword3">False</code>,
}
</code></pre></div>
          <p class="imgtext-warning"><b>If you copy the code from this page</b><br>
			Beware of Python code indentation. This can be estimated in this 
article. This is due to the editor I used to write this article.<br>
			The source code of the module can be downloaded at the bottom of the page.</p>
          <p>
            <b>The file is to fill like this</b>
          </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e1638">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e1638" onclick="selectionCode('contenuCoded0e1638');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e1638" class="contenuCode"><code class="python_literal1">'</code><code class="python_literal1">parameter</code><code class="python_literal1">'</code>: <code class="python_literal1">'</code><code class="python_literal1">value</code><code class="python_literal1">'</code>,
<code class="python_literal1">'</code><code class="python_literal1">parameter</code><code class="python_literal1">'</code>: [<code class="python_literal1">'</code><code class="python_literal1">value1</code><code class="python_literal1">'</code>,<code class="python_literal1">'</code><code class="python_literal1">value2</code><code class="python_literal1">'</code>,<code class="python_literal1">'</code><code class="python_literal1">value3</code><code class="python_literal1">'</code>],
</code></pre></div>
          <p>The data are noted as <b>key:value</b> separated by a comma (end of line).<br>
		The value can also contain an array like in the case of <b>depends</b>, <b>data</b>,<b> js</b> parameters , etc..</p>
          <p><b>Parameters&nbsp;:</b> </p>
          <ul class="ListeDVP">
            <li><b>name&nbsp;:</b> the module&nbsp;name;</li>
            <li><b>version&nbsp;:</b> the module&nbsp;version;</li>
            <li><b>category&nbsp;:</b> the category in which you put the module;</li>
            <li><b>sequence&nbsp;:</b> This is a number that will show your module in the list of modules. 1, it will be up, 100 it will be down&nbsp;;</li>
            <li><b>author&nbsp;:</b> author of the module&nbsp;;</li>
            <li><b>summary&nbsp;:</b> a summary that explains what is 
your module. A very short text, it appears under the name of the module 
in the module list&nbsp;;</li>
            <li><b>description&nbsp;:</b> the full description of the module&nbsp;;</li>
            <li><b>depends&nbsp;:</b> modules that your module depends;</li>
            <li><b>data&nbsp;:</b> files to load&nbsp;;</li>
            <li><b>js&nbsp;:</b> in case of a Web module like this one, the JavaScript files;</li>
            <li><b>css&nbsp;:</b> the stylesheet;</li>
            <li><b>qweb&nbsp;:</b> View of the Web Part (Template);</li>
            <li><b>installable&nbsp;:</b> if your module is installable or not;</li>
            <li><b>application&nbsp;:</b> set it to False. Your module 
will not be recognized as an application. It's OpenERP that issues 
certificates that qualify your module as an application;</li>
            <li><b>auto_install&nbsp;:</b> set it to False, we will install the module by hand. (With a button, anyway ...)</li>
          </ul>
          <p>There are other parameters, but for this module we have enough like that,</p>
          <p><b>The «&nbsp;description&nbsp;» parameter</b><br>
		To insert a text on multiple lines, you must enclose with three double quotes<br>
		(""" text here """) <br><br>
		Put the fullest possible description.<br>
		To return to the line, you actually have to jump one more, otherwise the new line will not be visible in OpenERP.<br><br></p>
          <p class="imgtext-idea">Underline text with the <b>=</b> sign will appear as the &lt;h1&gt;&lt;/h1&gt; web tag.</p>
          <p>We created two files (which still bear the same names) for module initialization. But this is not enough!<br><br>
		As we stated in the <b>__ init__.py</b> file, OpenERP will attempt to load the <b>pos_cashier</b> module. We must now create the <b>pos_cashier.py </b>file (the module itself).</p>
        </div>
        
		<h3 class="TitreSection2" id="LVII-B-3">VII-B-3. The pos_cashier.py file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>I put the contents of the entire file.<br></p>
          <p>
		Do not worry, we'll dissect it all quietly.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e1834">pos_cashier.py<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e1834" onclick="selectionCode('contenuCoded0e1834');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e1834" class="contenuCode"> <code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1">-*-</code><code class="python_comment1"> </code><code class="python_comment1">coding:</code><code class="python_comment1"> </code><code class="python_comment1">utf-8</code><code class="python_comment1"> </code><code class="python_comment1">-*-</code>
<code class="python_comment1">#</code><code class="python_comment1">#############################################################################</code>
<code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1"> </code><code class="python_comment1"> </code><code class="python_comment1"> </code>
<code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1">Module</code><code class="python_comment1"> </code><code class="python_comment1">:</code><code class="python_comment1"> </code><code class="python_comment1">pos_cashier</code>
<code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1">Créé</code><code class="python_comment1"> </code><code class="python_comment1">le</code><code class="python_comment1"> </code><code class="python_comment1">:</code><code class="python_comment1"> </code><code class="python_comment1">2013-06-06</code><code class="python_comment1"> </code><code class="python_comment1">par</code><code class="python_comment1"> </code><code class="python_comment1">Thierry</code><code class="python_comment1"> </code><code class="python_comment1">Godin</code>
<code class="python_comment1">#</code>
<code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1">Module</code><code class="python_comment1"> </code><code class="python_comment1">permettant</code><code class="python_comment1"> </code><code class="python_comment1">la</code><code class="python_comment1"> </code><code class="python_comment1">création</code><code class="python_comment1"> </code><code class="python_comment1">de</code><code class="python_comment1"> </code><code class="python_comment1">vendeurs</code><code class="python_comment1"> </code><code class="python_comment1">pour</code><code class="python_comment1"> </code><code class="python_comment1">les</code><code class="python_comment1"> </code><code class="python_comment1">points</code><code class="python_comment1"> </code><code class="python_comment1">de</code><code class="python_comment1"> </code><code class="python_comment1">vente</code>
<code class="python_comment1">#</code>
<code class="python_comment1">#</code><code class="python_comment1">#############################################################################</code>
<code class="python_keyword1">import</code> openerp
<code class="python_keyword1">from</code> openerp <code class="python_keyword1">import</code> netsvc, tools, pooler
<code class="python_keyword1">from</code> openerp.osv <code class="python_keyword1">import</code> fields, osv
<code class="python_keyword1">from</code> openerp.tools.translate <code class="python_keyword1">import</code> _
<code class="python_keyword1">import</code> time

<code class="python_keyword1">class</code> <code class="python_function">pos_cashier</code>(osv.osv):
    _name <code class="python_operator">=</code> <code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">cashier</code><code class="python_literal1">'</code>
    _order <code class="python_operator">=</code> <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1"> </code><code class="python_literal1">asc</code><code class="python_literal1">'</code>

    _columns <code class="python_operator">=</code> {
        <code class="python_literal1">'</code><code class="python_literal1">pos_config_id</code><code class="python_literal1">'</code> : fields.<code class="python_function">many2one</code>(<code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">config</code><code class="python_literal1">'</code>, <code class="python_literal1">'</code><code class="python_literal1">Point</code><code class="python_literal1"> </code><code class="python_literal1">Of</code><code class="python_literal1"> </code><code class="python_literal1">Sale</code><code class="python_literal1">'</code>, required<code class="python_operator">=</code><code class="python_keyword3">True</code>),
        <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>: fields.<code class="python_function">char</code>(<code class="python_literal1">'</code><code class="python_literal1">Cashier</code><code class="python_literal1">'</code>, size<code class="python_operator">=</code><code class="python_digit">128</code>, required<code class="python_operator">=</code><code class="python_keyword3">True</code>),
        <code class="python_literal1">'</code><code class="python_literal1">active</code><code class="python_literal1">'</code>: fields.<code class="python_function">boolean</code>(<code class="python_literal1">'</code><code class="python_literal1">Active</code><code class="python_literal1">'</code>, help<code class="python_operator">=</code><code class="python_literal1">"</code><code class="python_literal1">If</code><code class="python_literal1"> </code><code class="python_literal1">a</code><code class="python_literal1"> </code><code class="python_literal1">cashier</code><code class="python_literal1"> </code><code class="python_literal1">is</code><code class="python_literal1"> </code><code class="python_literal1">not</code><code class="python_literal1"> </code><code class="python_literal1">active</code><code class="python_literal1">,</code><code class="python_literal1"> </code><code class="python_literal1">it</code><code class="python_literal1"> </code><code class="python_literal1">will</code><code class="python_literal1"> </code><code class="python_literal1">not</code><code class="python_literal1"> </code><code class="python_literal1">be</code><code class="python_literal1"> </code><code class="python_literal1">displayed</code><code class="python_literal1"> </code><code class="python_literal1">in</code><code class="python_literal1"> </code><code class="python_literal1">POS</code><code class="python_literal1">"</code>),
    }

    _defaults <code class="python_operator">=</code> {
        <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code> : <code class="python_literal1">'</code><code class="python_literal1">'</code>,
        <code class="python_literal1">'</code><code class="python_literal1">active</code><code class="python_literal1">'</code> : <code class="python_keyword3">True</code>,
        <code class="python_literal1">'</code><code class="python_literal1">pos_config_id</code><code class="python_literal1">'</code>: <code class="python_keyword1">lambda</code> self,cr,uid,c: self.pool.<code class="python_function">get</code>(<code class="python_literal1">'</code><code class="python_literal1">res</code><code class="python_literal1">.</code><code class="python_literal1">users</code><code class="python_literal1">'</code>).<code class="python_function">browse</code>(cr, uid, uid, c).pos_config.<code class="python_keyword2">id</code>,
    }

    _sql_constraints <code class="python_operator">=</code> [
        (<code class="python_literal1">'</code><code class="python_literal1">uniq_name</code><code class="python_literal1">'</code>, <code class="python_literal1">'</code><code class="python_literal1">unique</code><code class="python_literal1">(</code><code class="python_literal1">cashier_name</code><code class="python_literal1">,</code><code class="python_literal1"> </code><code class="python_literal1">pos_config_id</code><code class="python_literal1">)</code><code class="python_literal1">'</code>, <code class="python_literal1">"</code><code class="python_literal1">A</code><code class="python_literal1"> </code><code class="python_literal1">cashier</code><code class="python_literal1"> </code><code class="python_literal1">already</code><code class="python_literal1"> </code><code class="python_literal1">exists</code><code class="python_literal1"> </code><code class="python_literal1">with</code><code class="python_literal1"> </code><code class="python_literal1">this</code><code class="python_literal1"> </code><code class="python_literal1">name</code><code class="python_literal1"> </code><code class="python_literal1">in</code><code class="python_literal1"> </code><code class="python_literal1">this</code><code class="python_literal1"> </code><code class="python_literal1">Point</code><code class="python_literal1"> </code><code class="python_literal1">Of</code><code class="python_literal1"> </code><code class="python_literal1">sale</code><code class="python_literal1">.</code><code class="python_literal1"> </code><code class="python_literal1">Cashier</code><code class="python_literal1">'</code><code class="python_literal1">s</code><code class="python_literal1"> </code><code class="python_literal1">name</code><code class="python_literal1"> </code><code class="python_literal1">must</code><code class="python_literal1"> </code><code class="python_literal1">be</code><code class="python_literal1"> </code><code class="python_literal1">unique</code><code class="python_literal1">!</code><code class="python_literal1">"</code>),
    ]


<code class="python_keyword1">class</code> <code class="python_function">inherit_pos_order_for_cashiers</code>(osv.osv):
    _name<code class="python_operator">=</code><code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">order</code><code class="python_literal1">'</code>
    _inherit<code class="python_operator">=</code><code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">order</code><code class="python_literal1">'</code>
                   
    <code class="python_keyword1">def</code> <code class="python_function">create_from_ui</code>(self, cr, uid, orders, context<code class="python_operator">=</code><code class="python_keyword3">None</code>):
        <code class="python_comment1">#</code><code class="python_comment1">_logger.info("orders:</code><code class="python_comment1"> </code><code class="python_comment1">%r",</code><code class="python_comment1"> </code><code class="python_comment1">orders)</code>
        order_ids <code class="python_operator">=</code> []
        <code class="python_keyword1">for</code> tmp_order <code class="python_keyword1">in</code> orders:
            order <code class="python_operator">=</code> tmp_order[<code class="python_literal1">'</code><code class="python_literal1">data</code><code class="python_literal1">'</code>]
            order_id <code class="python_operator">=</code> self.<code class="python_function">create</code>(cr, uid, {
                <code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>],
                <code class="python_literal1">'</code><code class="python_literal1">user_id</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">user_id</code><code class="python_literal1">'</code>] <code class="python_keyword1">or</code> <code class="python_keyword3">False</code>,
                <code class="python_literal1">'</code><code class="python_literal1">session_id</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">pos_session_id</code><code class="python_literal1">'</code>],
                <code class="python_literal1">'</code><code class="python_literal1">lines</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">lines</code><code class="python_literal1">'</code>],
                <code class="python_literal1">'</code><code class="python_literal1">pos_reference</code><code class="python_literal1">'</code>:order[<code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>],
                <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>]
            }, context)

            <code class="python_keyword1">for</code> payments <code class="python_keyword1">in</code> order[<code class="python_literal1">'</code><code class="python_literal1">statement_ids</code><code class="python_literal1">'</code>]:
                payment <code class="python_operator">=</code> payments[<code class="python_digit">2</code>]
                self.<code class="python_function">add_payment</code>(cr, uid, order_id, {
                    <code class="python_literal1">'</code><code class="python_literal1">amount</code><code class="python_literal1">'</code>: payment[<code class="python_literal1">'</code><code class="python_literal1">amount</code><code class="python_literal1">'</code>] <code class="python_keyword1">or</code> <code class="python_digit">0</code>.<code class="python_digit">0</code>,
                    <code class="python_literal1">'</code><code class="python_literal1">payment_date</code><code class="python_literal1">'</code>: payment[<code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>],
                    <code class="python_literal1">'</code><code class="python_literal1">statement_id</code><code class="python_literal1">'</code>: payment[<code class="python_literal1">'</code><code class="python_literal1">statement_id</code><code class="python_literal1">'</code>],
                    <code class="python_literal1">'</code><code class="python_literal1">payment_name</code><code class="python_literal1">'</code>: payment.<code class="python_function">get</code>(<code class="python_literal1">'</code><code class="python_literal1">note</code><code class="python_literal1">'</code>, <code class="python_keyword3">False</code>),
                    <code class="python_literal1">'</code><code class="python_literal1">journal</code><code class="python_literal1">'</code>: payment[<code class="python_literal1">'</code><code class="python_literal1">journal_id</code><code class="python_literal1">'</code>]
                }, context<code class="python_operator">=</code>context)

            <code class="python_keyword1">if</code> order[<code class="python_literal1">'</code><code class="python_literal1">amount_return</code><code class="python_literal1">'</code>]:
                session <code class="python_operator">=</code> self.pool.<code class="python_function">get</code>(<code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">session</code><code class="python_literal1">'</code>).<code class="python_function">browse</code>(cr, uid, order[<code class="python_literal1">'</code><code class="python_literal1">pos_session_id</code><code class="python_literal1">'</code>], context<code class="python_operator">=</code>context)
                cash_journal <code class="python_operator">=</code> session.cash_journal_id
                cash_statement <code class="python_operator">=</code> <code class="python_keyword3">False</code>
                <code class="python_keyword1">if</code> <code class="python_keyword1">not</code> cash_journal:
                    cash_journal_ids <code class="python_operator">=</code> <code class="python_keyword2">filter</code>(<code class="python_keyword1">lambda</code> st: st.journal_id.<code class="python_keyword2">type</code><code class="python_operator">=</code><code class="python_operator">=</code><code class="python_literal1">'</code><code class="python_literal1">cash</code><code class="python_literal1">'</code>, session.statement_ids)
                    <code class="python_keyword1">if</code> <code class="python_keyword1">not</code> <code class="python_keyword2">len</code>(cash_journal_ids):
                        <code class="python_keyword1">raise</code> osv.<code class="python_function">except_osv</code>( <code class="python_function">_</code>(<code class="python_literal1">'</code><code class="python_literal1">error</code><code class="python_literal1">!</code><code class="python_literal1">'</code>),
                            <code class="python_function">_</code>(<code class="python_literal1">"</code><code class="python_literal1">No</code><code class="python_literal1"> </code><code class="python_literal1">cash</code><code class="python_literal1"> </code><code class="python_literal1">statement</code><code class="python_literal1"> </code><code class="python_literal1">found</code><code class="python_literal1"> </code><code class="python_literal1">for</code><code class="python_literal1"> </code><code class="python_literal1">this</code><code class="python_literal1"> </code><code class="python_literal1">session</code><code class="python_literal1">.</code><code class="python_literal1"> </code><code class="python_literal1">Unable</code><code class="python_literal1"> </code><code class="python_literal1">to</code><code class="python_literal1"> </code><code class="python_literal1">record</code><code class="python_literal1"> </code><code class="python_literal1">returned</code><code class="python_literal1"> </code><code class="python_literal1">cash</code><code class="python_literal1">.</code><code class="python_literal1">"</code>))
                    cash_journal <code class="python_operator">=</code> cash_journal_ids[<code class="python_digit">0</code>].journal_id
                self.<code class="python_function">add_payment</code>(cr, uid, order_id, {
                    <code class="python_literal1">'</code><code class="python_literal1">amount</code><code class="python_literal1">'</code>: <code class="python_operator">-</code>order[<code class="python_literal1">'</code><code class="python_literal1">amount_return</code><code class="python_literal1">'</code>],
                    <code class="python_literal1">'</code><code class="python_literal1">payment_date</code><code class="python_literal1">'</code>: time.<code class="python_function">strftime</code>(<code class="python_literal1">'</code><code class="python_literal1">%</code><code class="python_literal1">Y</code><code class="python_literal1">-</code><code class="python_literal1">%</code><code class="python_literal1">m</code><code class="python_literal1">-</code><code class="python_literal4">%d</code><code class="python_literal1"> </code><code class="python_literal1">%</code><code class="python_literal1">H</code><code class="python_literal1">:</code><code class="python_literal1">%</code><code class="python_literal1">M</code><code class="python_literal1">:</code><code class="python_literal4">%S</code><code class="python_literal1">'</code>),
                    <code class="python_literal1">'</code><code class="python_literal1">payment_name</code><code class="python_literal1">'</code>: <code class="python_function">_</code>(<code class="python_literal1">'</code><code class="python_literal1">return</code><code class="python_literal1">'</code>),
                    <code class="python_literal1">'</code><code class="python_literal1">journal</code><code class="python_literal1">'</code>: cash_journal.<code class="python_keyword2">id</code>,
                }, context<code class="python_operator">=</code>context)
            order_ids.<code class="python_function">append</code>(order_id)
            wf_service <code class="python_operator">=</code> netsvc.<code class="python_function">LocalService</code>(<code class="python_literal1">"</code><code class="python_literal1">workflow</code><code class="python_literal1">"</code>)
            wf_service.<code class="python_function">trg_validate</code>(uid, <code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">order</code><code class="python_literal1">'</code>, order_id, <code class="python_literal1">'</code><code class="python_literal1">paid</code><code class="python_literal1">'</code>, cr)
        <code class="python_keyword1">return</code> order_ids

    _columns <code class="python_operator">=</code> {
        <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>: fields.<code class="python_function">char</code>(<code class="python_literal1">'</code><code class="python_literal1">Cashier</code><code class="python_literal1">'</code>, size<code class="python_operator">=</code><code class="python_digit">128</code>),
    }


<code class="python_function">inherit_pos_order_for_cashiers</code>()
</code></pre></div>
          <p><b>At the very beginning of the file</b><br>
		We will import the libraries we need for the module.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2962">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2962" onclick="selectionCode('contenuCoded0e2962');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2962" class="contenuCode"><code class="python_keyword1">import</code> openerp
<code class="python_keyword1">from</code> openerp <code class="python_keyword1">import</code> netsvc, tools, pooler
<code class="python_keyword1">from</code> openerp.osv <code class="python_keyword1">import</code> fields, osv
<code class="python_keyword1">from</code> openerp.tools.translate <code class="python_keyword1">import</code> _
<code class="python_keyword1">import</code> time 
</code></pre></div>
          <p>This is necessary because we will use native OpenERP and Python functions.</p>
          <p>
            <b>Then we create the Python object</b>
          </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e2997">Object is stated like this<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e2997" onclick="selectionCode('contenuCoded0e2997');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e2997" class="contenuCode"> <code class="python_keyword1">class</code> <code class="python_function">pos_cashier</code>(osv.osv): 
</code></pre></div>
          <p class="imgtext-warning">From now on, we must be very 
careful with the code indentation. You will notice that there is no 
signal of the end of the object.<br>
			This is why we must pay attention to the code editor we use, it must be able to handle Python for apropriate indentation.<br>
			If in doubt, do not hesitate to read this page&nbsp;: <img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/100000000000000C0000000C8ED6566A.jpg" alt="Image non disponible" class="image_verticale" height="12" width="12"><a class=" tooltip blue-tooltip lienArticle simple" href="http://python.developpez.com/faq/" target="_blank">FAQ Python<span>FAQ Python</span></a> and this one&nbsp;: <img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/100000000000000C0000000C8ED6566A.jpg" alt="Image non disponible" class="image_verticale" height="12" width="12"><a class=" tooltip blue-tooltip lienArticle simple" href="http://python.developpez.com/cours/" target="_blank">Cours Python<span>Cours Python</span></a>.</p>
          
		<h4 class="TitreSection3" id="LVII-B-3-a">VII-B-3-a. Statements<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p><b><span style="color:#ff0000;">_name&nbsp;:</span></b> is the name of the table in OpenERP database. In fact, the table is really named <b>« pos_cashier »</b> in the database.</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3035">_name<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3035" onclick="selectionCode('contenuCoded0e3035');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3035" class="contenuCode"> _name <code class="python_operator">=</code> <code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">cashier</code><code class="python_literal1">'</code> 
</code></pre></div>
            <p><b><span style="color:#ff0000;">_order&nbsp;:</span></b> as you may understand , this is like SQL statement <b>« ORDER BY »</b>. Here, cashiers will be sorted by their names</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3061">_order<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3061" onclick="selectionCode('contenuCoded0e3061');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3061" class="contenuCode"> _order <code class="python_operator">=</code> <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1"> </code><code class="python_literal1">asc</code><code class="python_literal1">'</code> 
</code></pre></div>
            <p><b><span style="color:#ff0000;">_columns&nbsp;:</span></b> these are the fields that will be created in the <b>pos_cashier</b> table.</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3087">_columns<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3087" onclick="selectionCode('contenuCoded0e3087');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3087" class="contenuCode"> _columns <code class="python_operator">=</code> {
<code class="python_literal1">'</code><code class="python_literal1">pos_config_id</code><code class="python_literal1">'</code> : fields.<code class="python_function">many2one</code>(<code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">config</code><code class="python_literal1">'</code>, <code class="python_literal1">'</code><code class="python_literal1">Point</code><code class="python_literal1"> </code><code class="python_literal1">Of</code><code class="python_literal1"> </code><code class="python_literal1">Sale</code><code class="python_literal1">'</code>, required<code class="python_operator">=</code><code class="python_keyword3">True</code>),
<code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>: fields.<code class="python_function">char</code>(<code class="python_literal1">'</code><code class="python_literal1">Cashier</code><code class="python_literal1">'</code>, size<code class="python_operator">=</code><code class="python_digit">128</code>, required<code class="python_operator">=</code><code class="python_keyword3">True</code>),
<code class="python_literal1">'</code><code class="python_literal1">active</code><code class="python_literal1">'</code>: fields.<code class="python_function">boolean</code>(<code class="python_literal1">'</code><code class="python_literal1">Active</code><code class="python_literal1">'</code>, help<code class="python_operator">=</code><code class="python_literal1">"</code><code class="python_literal1">If</code><code class="python_literal1"> </code><code class="python_literal1">a</code><code class="python_literal1"> </code><code class="python_literal1">cashier</code><code class="python_literal1"> </code><code class="python_literal1">is</code><code class="python_literal1"> </code><code class="python_literal1">not</code><code class="python_literal1"> </code><code class="python_literal1">active</code><code class="python_literal1">,</code><code class="python_literal1"> </code><code class="python_literal1">it</code><code class="python_literal1"> </code><code class="python_literal1">will</code><code class="python_literal1"> </code><code class="python_literal1">not</code><code class="python_literal1"> </code><code class="python_literal1">be</code><code class="python_literal1"> </code><code class="python_literal1">displayed</code><code class="python_literal1"> </code><code class="python_literal1">in</code><code class="python_literal1"> </code><code class="python_literal1">POS</code><code class="python_literal1">"</code>),
} 
</code></pre></div>
            <p><b><span style="color:#008000;">pos_config_id</span> field</b><br>
		Here we record the ID of the Point of Sale of the user. This field relationship with the <b>pos_config</b> table wich contains settings of each Point Of Sale.<br><br><b> c<span style="color:#008000;">ashier_name</span></b> <b>field</b><br>
		It is in this field that will record the name of the cashier.<br><br><b><span style="color:#008000;">active</span></b> <b>field</b><br>
		This field will allow us to enable or disable a cashier (when on leave due to illness or travel, for example).</p>
            <p class="imgtext-info">In OpenERP, the <b>active</b> field is a special field. When <b>active = False</b>, the record is automatically not visible.</p>
            <p><b><span style="color:#ff0000;">_defaults&nbsp;:</span></b> these are the default values &#8203;&#8203;for records .</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3284">_columns<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3284" onclick="selectionCode('contenuCoded0e3284');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3284" class="contenuCode"> _defaults <code class="python_operator">=</code> {
<code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code> : <code class="python_literal1">'</code><code class="python_literal1">'</code>,
<code class="python_literal1">'</code><code class="python_literal1">active</code><code class="python_literal1">'</code> : <code class="python_keyword3">True</code>,
<code class="python_literal1">'</code><code class="python_literal1">pos_config_id</code><code class="python_literal1">'</code>: <code class="python_keyword1">lambda</code> self,cr,uid,c: self.pool.<code class="python_function">get</code>(<code class="python_literal1">'</code><code class="python_literal1">res</code><code class="python_literal1">.</code><code class="python_literal1">users</code><code class="python_literal1">'</code>).<code class="python_function">browse</code>(cr, uid, uid, c).pos_config.<code class="python_keyword2">id</code>,
} 
</code></pre></div>
            <p>By default, the <b>active</b> check box in the form will 
be checked and we automatically retrieve the ID of the Point of Sale of 
the user. That means, that when we create a new cashier, the Point of 
Sale of the user will be selected in (pos_config_id) drop-down list in 
the form. The <b>name</b> field (cashier_name) will be empty.<br><br><b><span style="color:#ff0000;">_sql_constraints&nbsp;:</span></b> that are record rules , which is in SQL is called <b>CONSTRAINT</b>. </p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3360">_sql_constraints<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3360" onclick="selectionCode('contenuCoded0e3360');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3360" class="contenuCode"> _sql_constraints <code class="python_operator">=</code> [
(<code class="python_literal1">'</code><code class="python_literal1">uniq_name</code><code class="python_literal1">'</code>, <code class="python_literal1">'</code><code class="python_literal1">unique</code><code class="python_literal1">(</code><code class="python_literal1">cashier_name</code><code class="python_literal1">,</code><code class="python_literal1"> </code><code class="python_literal1">pos_config_id</code><code class="python_literal1">)</code><code class="python_literal1">'</code>, <code class="python_literal1">"</code><code class="python_literal1">A</code><code class="python_literal1"> </code><code class="python_literal1">cashier</code><code class="python_literal1"> </code><code class="python_literal1">already</code><code class="python_literal1"> </code><code class="python_literal1">exists</code><code class="python_literal1"> </code><code class="python_literal1">with</code><code class="python_literal1"> </code><code class="python_literal1">this</code><code class="python_literal1"> </code><code class="python_literal1">name</code><code class="python_literal1"> </code><code class="python_literal1">in</code><code class="python_literal1"> </code><code class="python_literal1">this</code><code class="python_literal1"> </code><code class="python_literal1">Point</code><code class="python_literal1"> </code><code class="python_literal1">Of</code><code class="python_literal1"> </code><code class="python_literal1">sale</code><code class="python_literal1">.</code><code class="python_literal1"> </code><code class="python_literal1">Cashier</code><code class="python_literal1">'</code><code class="python_literal1">s</code><code class="python_literal1"> </code><code class="python_literal1">name</code><code class="python_literal1"> </code><code class="python_literal1">must</code><code class="python_literal1"> </code><code class="python_literal1">be</code><code class="python_literal1"> </code><code class="python_literal1">unique</code><code class="python_literal1">!</code><code class="python_literal1">"</code>),
] 
</code></pre></div>
            <p>The rules are to be recorded as follows:</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3474">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3474" onclick="selectionCode('contenuCoded0e3474');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3474" class="contenuCode"> (<code class="python_literal1">'</code><code class="python_literal1">NAME</code><code class="python_literal1"> </code><code class="python_literal1">OF</code><code class="python_literal1"> </code><code class="python_literal1">THE</code><code class="python_literal1"> </code><code class="python_literal1">RULE</code><code class="python_literal1">'</code>, <code class="python_literal1">'</code><code class="python_literal1">RULE</code><code class="python_literal1">'</code>, <code class="python_literal1">"</code><code class="python_literal1">MESSAGE</code><code class="python_literal1"> </code><code class="python_literal1">IN</code><code class="python_literal1"> </code><code class="python_literal1">CASE</code><code class="python_literal1"> </code><code class="python_literal1">OF</code><code class="python_literal1"> </code><code class="python_literal1">CONSTRAINT</code><code class="python_literal1"> </code><code class="python_literal1">VIOLATION</code><code class="python_literal1">"</code>) 
</code></pre></div>
            <p>The rule <b>unique(cashier_name, pos_config_id)</b> means that there can be only one cashier with the same name <span class="mot_souligne">in the same Point Of Sale</span>.<br><br><b>_sql_constraints</b> is an array. You can set multiple rules separated by a comma. </p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_constraint.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_constraint.jpg" alt="The error message is displayed in a message box" height="262" width="550"></a><figcaption>The error message is displayed in a message box</figcaption></figure>
          </div>
          
		<h4 class="TitreSection3" id="LVII-B-3-b">VII-B-3-b. Overload pos.order object of Point Of Sale<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>In addition to creating the <b>pos_cashier</b> object that allows us to manage the cashiers, we need to override the original <b>pos_order</b> object of the Point Of sale<br><br>
		This module is in the original directory of Point Of Sale. You find it in the file <b>point_of_sale.py</b> around line 479. </p>
            <blockquote class="citation"><div>
              <b><span style="color:#0000ff;">openerp_path/addons/point_of_sale/point_of_sale.py</span> </b>
            </div></blockquote>
            <p>We need to change the <b>create_from_ui ()</b> function and add a <b>cashier_name</b> field in the orders table called <b>pos_order</b>.</p>
            <p>For this, we will create a new object that inherits from the original parent class.</p>
            <p class="imgtext-info">This is why we stated that our module depended of <b>point_of_sale</b> module in the <b>__ openerp__.py</b> file.</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3599">inherit_pos_order_for_cashiers<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3599" onclick="selectionCode('contenuCoded0e3599');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3599" class="contenuCode"> <code class="python_keyword1">class</code> <code class="python_function">inherit_pos_order_for_cashiers</code>(osv.osv):
    _name<code class="python_operator">=</code><code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">order</code><code class="python_literal1">'</code>
    _inherit<code class="python_operator">=</code><code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">order</code><code class="python_literal1">'</code> 
</code></pre></div>
            <p>For our module inherits<b> pos_order</b> module, we will give it the same name</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3640">_name<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3640" onclick="selectionCode('contenuCoded0e3640');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3640" class="contenuCode"> _name<code class="python_operator">=</code><code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">order</code><code class="python_literal1">'</code> 
</code></pre></div>
            <p>And we will add the <b>_inherit</b> statement specifying the name of the parent module</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3662">_inherit<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3662" onclick="selectionCode('contenuCoded0e3662');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3662" class="contenuCode"> _inherit<code class="python_operator">=</code><code class="python_literal1">'</code><code class="python_literal1">pos</code><code class="python_literal1">.</code><code class="python_literal1">order</code><code class="python_literal1">'</code> 
</code></pre></div>
            <p class="imgtext-info">About OpenERP objects inheritance I suggest you to read this page on the publisher's website&nbsp;:<br><a class=" tooltip blue-tooltip lienArticle En" href="https://doc.openerp.com/v6.0/developer/2_5_Objects_Fields_Methods/object_inherit.html/" target="_blank">OpenERP Object Inheritance<span>OpenERP Object Inheritance</span></a>. <br>
			Attention, this is the documentation for the version 6.x, but the instructions are still valid for version 7.x of OpenERP. </p>
            <p>We will then just copy the entire original <b>create_from_ui()</b> function in our file.</p>
            <p>Once done, we will add a field to the orders.</p>
            <p class="imgtext-info"><b>A little explanation</b><br>
			Point Of Sale works with JavaScript scripts.<br>
			Orders are stored in the browser (<b>LocalStorage</b>).<br>
			See&nbsp;: <a class=" tooltip blue-tooltip lienArticle Faq" href="http://solutions-entreprise.developpez.com/erp-pgi/faq/openerp/?page=UtilPos#PosRedStatus" target="_blank">Principe de fonctionnement du Point De Vente<span>Principe de fonctionnement du Point De Vente</span></a>.<br>
			As long as you make an order, it is stored in the browser. When you confirm the order, the <b>create_from_ui()</b> function is called. It will send the order to the database of OpenERP.<br>
			In fact, it will send all valid orders that are stored in the browser.<br>
			This allows the Point Of Sale to work in <b>offline mode</b></p>
            <p>In the loop <b>for tmp_order in orders:</b>, we add the <b>cashier_name</b> field din <b>self.create()</b> function like below</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3735">for tmp_order in orders loop:<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3735" onclick="selectionCode('contenuCoded0e3735');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3735" class="contenuCode"> <code class="python_keyword1">for</code> tmp_order <code class="python_keyword1">in</code> orders:
    order <code class="python_operator">=</code> tmp_order[<code class="python_literal1">'</code><code class="python_literal1">data</code><code class="python_literal1">'</code>]
    order_id <code class="python_operator">=</code> self.<code class="python_function">create</code>(cr, uid, {
        <code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>],
        <code class="python_literal1">'</code><code class="python_literal1">user_id</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">user_id</code><code class="python_literal1">'</code>] <code class="python_keyword1">or</code> <code class="python_keyword3">False</code>,
        <code class="python_literal1">'</code><code class="python_literal1">session_id</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">pos_session_id</code><code class="python_literal1">'</code>],
        <code class="python_literal1">'</code><code class="python_literal1">lines</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">lines</code><code class="python_literal1">'</code>],
        <code class="python_literal1">'</code><code class="python_literal1">pos_reference</code><code class="python_literal1">'</code>:order[<code class="python_literal1">'</code><code class="python_literal1">name</code><code class="python_literal1">'</code>],          <code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1">&lt;----------</code><code class="python_comment1"> </code><code class="python_comment1">COMMA</code><code class="python_comment1"> </code><code class="python_comment1"> </code><code class="python_comment1"> </code><code class="python_comment1"> </code><code class="python_comment1"> </code>
        <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>: order[<code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>]   <code class="python_comment1">#</code><code class="python_comment1"> </code><code class="python_comment1">&lt;----------</code><code class="python_comment1"> </code><code class="python_comment1">ADD</code><code class="python_comment1"> </code><code class="python_comment1">THE</code><code class="python_comment1"> </code><code class="python_comment1">FIELD</code><code class="python_comment1"> </code><code class="python_comment1">HERE</code>
    }, context) 
</code></pre></div>
            <p class="imgtext-warning">Do not forget to add a comma at the end of the previous line. </p>
            <p>The cashier's name will be recorded in <b>order[] </b>array.<br>
		We can then send the cashier's name in the <b>cashier_name</b> field of the <b>pos_order </b>table<br><br>
		This is all we add to this function.<br><br>
		The last thing to do is to add the <b>cashier_name</b> field to the <b>pos_order </b>table.<br>
		As in the previous module, simply add the field in the <b>_columns </b>statement</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3928">_columns<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3928" onclick="selectionCode('contenuCoded0e3928');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3928" class="contenuCode"> _columns <code class="python_operator">=</code> {
        <code class="python_literal1">'</code><code class="python_literal1">cashier_name</code><code class="python_literal1">'</code>: fields.<code class="python_function">char</code>(<code class="python_literal1">'</code><code class="python_literal1">Cashier</code><code class="python_literal1">'</code>, size<code class="python_operator">=</code><code class="python_digit">128</code>),
    } 
</code></pre></div>
            <p>We're almost there. It remains the call to the object for OpenERP to take it into account.. </p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3959">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3959" onclick="selectionCode('contenuCoded0e3959');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3959" class="contenuCode"> <code class="python_function">inherit_pos_order_for_cashiers</code>() 
</code></pre></div>
            <p>We achieved <b>pos_cashier</b> Python module.<br>
		Save the file to the root of the module.</p>
          </div>
        </div>
        
		<h3 class="TitreSection2" id="LVII-B-4">VII-B-4. cashier_view.xml file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>This is the file of the views of <b>pos_cashier</b> module. More exact, there are the views of the cashiers. We will put the views of the orders in another file. <br><br>
		In this file we will create the tree_view, the form_view, menus, search_view, and the action of the « <b>Cashiers</b> » menu.<br><br>
		As before, I put the complete code, and we will see that quietly. </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e3995">cashier_view.xml<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e3995" onclick="selectionCode('contenuCoded0e3995');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e3995" class="contenuCode"> <code class="keyword3">&lt;?</code><code class="keyword3">xml</code><code class="keyword3"> </code><code class="keyword3">version="1.0"</code><code class="keyword3"> </code><code class="keyword3">encoding="utf-8"?</code><code class="keyword3">&gt;</code>
<code class="markup">&lt;</code><code class="markup">openerp</code><code class="markup">&gt;</code>
  <code class="markup">&lt;</code><code class="markup">data</code><code class="markup">&gt;</code>

    <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_form</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier.form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">form</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Cashiers</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">version</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">7.0</code><code class="literal1">"</code><code class="markup">&gt;</code>  
          <code class="markup">&lt;</code><code class="markup">group</code><code class="markup"> </code><code class="markup">col</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">4</code><code class="literal1">"</code><code class="markup">&gt;</code>     
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_config_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">widget</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">selection</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">eval</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ref('pos.config.name')</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>  
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">active</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">group</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">form</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>
  
    <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_tree</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier.tree<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">tree</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Cashiers</code><code class="literal1">"</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code> 
          <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_config_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos.config.name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>       
          <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">active</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code> 
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">tree</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>

    <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_search</code><code class="literal1">"</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier.search<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">search</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Point</code><code class="literal1"> </code><code class="literal1">of</code><code class="literal1"> </code><code class="literal1">Sale</code><code class="literal1"> </code><code class="literal1">Cashier</code><code class="literal1">"</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">filter</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">filter_see_all</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">All</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">domain</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">['|',</code><code class="literal1"> </code><code class="literal1">('active',</code><code class="literal1"> </code><code class="literal1">'=',True),</code><code class="literal1"> </code><code class="literal1">('active',</code><code class="literal1"> </code><code class="literal1">'=',False)]</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">filter</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">filter_see_active</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Active</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">domain</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">[('active',</code><code class="literal1"> </code><code class="literal1">'=',True)]</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">filter</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">filter_see_inactive</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Inactive</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">domain</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">[('active',</code><code class="literal1"> </code><code class="literal1">'=',False)]</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">search</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>

    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">L'action</code><code class="comment1"> </code><code class="comment1">du</code><code class="comment1"> </code><code class="comment1">menu</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.actions.act_window</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">action_pos_cashier</code><code class="literal1">"</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>Cashiers<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">type</code><code class="literal1">"</code><code class="markup">&gt;</code>ir.actions.act_window<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">res_model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_type</code><code class="literal1">"</code><code class="markup">&gt;</code>form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_mode</code><code class="literal1">"</code><code class="markup">&gt;</code>tree,form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_tree</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">context</code><code class="literal1">"</code><code class="markup">&gt;</code>{"search_default_filter_see_all":1}<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">help</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">html</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">p</code><code class="markup"> </code><code class="markup">class</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">oe_view_nocontent_create</code><code class="literal1">"</code><code class="markup">&gt;</code>
          Click here to create a cashier for the Point Of Sale.
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">p</code><code class="markup">&gt;</code>
      <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>

    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Menu</code><code class="comment1"> </code><code class="comment1">gauche</code><code class="comment1"> </code><code class="comment1"> </code><code class="comment1">Vendeurs</code><code class="comment1"> </code><code class="comment1">--&gt;</code>   
    <code class="markup">&lt;</code><code class="markup">menuitem</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Cashiers</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">menu_point_of_sale_cashiers</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">parent</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.menu_point_root</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">sequence</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">16</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">groups</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.group_pos_manager</code><code class="literal1">"</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">menuitem</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">menu_action_pos_cashier</code><code class="literal1">"</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">parent</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">menu_point_of_sale_cashiers</code><code class="literal1">"</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">action</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">action_pos_cashier</code><code class="literal1">"</code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">#</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    
  <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">data</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">openerp</code><code class="markup">&gt;</code> 
</code></pre></div>
          <p>OpenERP view file is always built this way</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5696">Structure of an OpenERP view<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5696" onclick="selectionCode('contenuCoded0e5696');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5696" class="contenuCode"> <code class="keyword3">&lt;?</code><code class="keyword3">xml</code><code class="keyword3"> </code><code class="keyword3">version="1.0"</code><code class="keyword3"> </code><code class="keyword3">encoding="utf-8"?</code><code class="keyword3">&gt;</code>
<code class="markup">&lt;</code><code class="markup">openerp</code><code class="markup">&gt;</code>
  <code class="markup">&lt;</code><code class="markup">data</code><code class="markup">&gt;</code>
  
      <code class="markup">&lt;</code><code class="markup">record</code><code class="markup">&gt;</code>
          <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Here</code><code class="comment1"> </code><code class="comment1">the</code><code class="comment1"> </code><code class="comment1">various</code><code class="comment1"> </code><code class="comment1">fields</code><code class="comment1"> </code><code class="comment1">of</code><code class="comment1"> </code><code class="comment1">the</code><code class="comment1"> </code><code class="comment1">view</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
      <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>
      
      <code class="markup">&lt;</code><code class="markup">menuitem</code><code class="markup">/</code><code class="markup">&gt;</code>
      
      <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Etc.</code><code class="comment1"> </code><code class="comment1">--&gt;</code>

  <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">data</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">openerp</code><code class="markup">&gt;</code> 
</code></pre></div>
          
		<h4 class="TitreSection3" id="LVII-B-4-a">VII-B-4-a. The form view<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e5822">pos_cashier_form View<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e5822" onclick="selectionCode('contenuCoded0e5822');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e5822" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_form</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier.form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">form</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Cashiers</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">version</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">7.0</code><code class="literal1">"</code><code class="markup">&gt;</code>  
          <code class="markup">&lt;</code><code class="markup">group</code><code class="markup"> </code><code class="markup">col</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">4</code><code class="literal1">"</code><code class="markup">&gt;</code>     
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_config_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">widget</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">selection</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">eval</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ref('pos.config.name')</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>  
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">active</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">group</code><code class="markup">&gt;</code>
          <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">form</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p><b>The first line contains the identifier of the view and the model used.</b><br><br><b><span style="color:#ff0000;">id="pos_cashier_form"</span></b><br>
		To make it easier to debug later, I recommend you put the module name, followed by the type of view.<br><br><b><span style="color:#ff0000;">model="ir.ui.view"</span></b><br>
		Since this is a « View », the model will always be <b>ir.ui.view</b> (the view is stored in the <b>ir_ui_view</b> table of OpenERP).</p>
            <p>
              <b>The following three fields (mandatory)</b>
            </p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6150">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6150" onclick="selectionCode('contenuCoded0e6150');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6150" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier.form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">other</code><code class="comment1"> </code><code class="comment1">objects</code><code class="comment1"> </code><code class="comment1">inside</code><code class="comment1"> </code><code class="comment1">"arch"</code><code class="comment1"> </code><code class="comment1">field</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p><b><span style="color:#ff0000;">name="name" field</span></b><br>
		This is the name of the view. Return the identifier of the view, but 
replace underscores with a dot so that there is no confusion.<br><br><b><span style="color:#ff0000;">name="model"</span><span style="color:#ff3366;"> field</span></b><br>
		This is the name of the table. Here we use the <b>pos.cashier</b> table.<br><br><b><span style="color:#ff0000;">name="arch" field</span></b> <br>
		It is inside this tag that will put the view itself.<br><br><b>So we will insert a form</b></p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6307">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6307" onclick="selectionCode('contenuCoded0e6307');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6307" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">form</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Cashiers</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">version</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">7.0</code><code class="literal1">"</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">group</code><code class="markup"> </code><code class="markup">col</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">4</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_config_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">widget</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">selection</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">eval</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ref('pos.config.name')</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>  
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">active</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">group</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">form</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p class="imgtext-info">When you add the <b>string</b> 
attribute in a field, this is the text that will be displayed (instead 
of the name of the field in the database, if that is the case). </p>
            <p>So we add the nedded form fields.<br><br><b><span style="color:#ff0000;">name="cashier_name"</span></b><br>
		This is the text field that allows you to enter the name of the cashier.<br><br><b><span style="color:#ff0000;">name="pos_config_id"</span></b><br>
		This field will display the dropdown list of available Points Of Sale through the <b>widget="selection"</b> attribute<br><br>
		With the « eval » attribute, we ask OpenERP to display the name of the Point Of Sale<br><br><b><span style="color:#ff0000;">name="active"</span></b><br>
		This is the checkbox that enables / disable a cashier.<br><br>
		You will notice that the fields are inside a <b>&lt;group&gt; </b>tag.<br>
		This tells OpenERP how to display the fields in the form page<br><br>
		Here we specify, with the <b>col</b> attribute, the number of columns to use.<br><br><b>Form fields appear like this</b></p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/champs_OpenERP.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/champs_OpenERP.jpg" alt="Distribution of the fields in a form with &lt;group&gt; tag and  col=4 attribute" height="314" width="550"></a><figcaption>Distribution of the fields in a form with &lt;group&gt; tag and  col=4 attribute</figcaption></figure>
            <p>
              <b>Here's how the cashiers creation form will be displayed</b>
            </p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_form.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_form.jpg" alt="Creation form of the cashiers" height="140" width="550"></a><figcaption>Creation form of the cashiers</figcaption></figure>
          </div>
          
		<h4 class="TitreSection3" id="LVII-B-4-b">VII-B-4-b. The Tree view<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6539">pos_cashier_tree View<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6539" onclick="selectionCode('contenuCoded0e6539');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6539" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_tree</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier.tree<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">tree</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Cashiers</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code> 
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_config_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos.config.name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>       
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">active</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code> 
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">tree</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>Instead of <b>&lt;form&gt;</b> tag, we will insert a <b>&lt;tree&gt;</b> tag.<br>
		These columns appear in the cashiers table.</p>
          </div>
          
		<h4 class="TitreSection3" id="LVII-B-4-c">VII-B-4-c. The search view<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>This is a special view. It will create search filters 
that appear by clicking the arrow in the search form in the upper right 
of the page.</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e6801">pos_cashier_search View<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e6801" onclick="selectionCode('contenuCoded0e6801');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e6801" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_search</code><code class="literal1">"</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier.search<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">search</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Point</code><code class="literal1"> </code><code class="literal1">of</code><code class="literal1"> </code><code class="literal1">Sale</code><code class="literal1"> </code><code class="literal1">Cashier</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">filter</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">filter_see_all</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">All</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">domain</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">['|',</code><code class="literal1"> </code><code class="literal1">('active',</code><code class="literal1"> </code><code class="literal1">'=',True),</code><code class="literal1"> </code><code class="literal1">('active',</code><code class="literal1"> </code><code class="literal1">'=',False)]</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">filter</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">filter_see_active</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Active</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">domain</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">[('active',</code><code class="literal1"> </code><code class="literal1">'=',True)]</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">filter</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">filter_see_inactive</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Inactive</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">domain</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">[('active',</code><code class="literal1"> </code><code class="literal1">'=',False)]</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">search</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>This time, instead of <b>&lt;tree&gt;</b> tag, we will insert a <b>&lt;search&gt;</b> tag in which we specify a search field and several filters.<br><br>
		So we add the following field</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7180">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7180" onclick="selectionCode('contenuCoded0e7180');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7180" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>We will now add a search filter with the <b>&lt;filter&gt;</b> tag</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7212">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7212" onclick="selectionCode('contenuCoded0e7212');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7212" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">filter</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">filter_see_all</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">string</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">All</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">domain</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">['|',</code><code class="literal1"> </code><code class="literal1">('active',</code><code class="literal1"> </code><code class="literal1">'=',True),</code><code class="literal1"> </code><code class="literal1">('active',</code><code class="literal1"> </code><code class="literal1">'=',False)]</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p><b><span style="color:#ff0000;">name="filter_see_all"</span></b><br>
		Here we call the filter&nbsp;: <b>filter_see_all</b>.<br><br><b><span style="color:#ff0000;">string="All"</span></b><br>
		This is the word that will be displayed in the search form<br><br><b><span style="color:#ff0000;">domain="['|', ('active', '=',True), ('active', '=',False)]"</span></b><br>
		This is the area of research.<br>
		Here we search for active or non-active cashiers. We want to see all cashiers.<br><br>
		The <b>domain</b> attribute is an array in which you put the search parameters<br><br>
		here, the «&nbsp;<b><span style="color:#ff0000;">|</span></b>&nbsp;» (or) operator indicates that at least one condition must be met.</p>
            <p class="imgtext-info">Inactive objects are not visible in 
tree view nor form view by default. We must create a filter to display 
inactive cashiers in order to activate them when needed.</p>
            <p>The other two filters will display the active or inactive cashiers</p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_filter.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_filter.jpg" alt="Search filters appear when we click on the arrow near the search field" height="325" width="412"></a><figcaption>Search filters appear when we click on the arrow near the search field</figcaption></figure>
          </div>
          
		<h4 class="TitreSection3" id="LVII-B-4-d">VII-B-4-d. The Cashiers menu<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>We will now create a <b>Cashiers</b> menu that will appear in<b> Cashiers</b> heading in the Point Of Sale left menu</p>
            <p class="imgtext-info">We could have simply to add only <b>Cashiers</b> menu without adding a Cashiers heading, but it will show you how to create a menu inside a heading.<br>
			Moreover, you will see that this heading will be visible only by one 
user group. If in the future you decide to add a menu in this heading, 
only authorized users in the group can see it.. </p>
            <p class="imgtext-warning">I present to you the creation of 
the menu before the creation of the action for a better understanding, 
but in fact, the code will require that the menu is written after the 
action, because as referring to the action, if the menu is written 
before, Python will return the error <b>action_pos_cashier does not exist.</b></p>
            <p>
              <b>The «&nbsp;Cashiers&nbsp;» heading</b>
            </p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7359">Cashiers heading<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7359" onclick="selectionCode('contenuCoded0e7359');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7359" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">menuitem</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">Cashiers</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">menu_point_of_sale_cashiers</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">parent</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.menu_point_root</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">sequence</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">16</code><code class="literal1">"</code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">groups</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.group_pos_manager</code><code class="literal1">"</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>A menu is written in <b>&lt;menuitem/&gt;</b> tag.<br><br><b><span style="color:#ff0000;">name="Cashiers"</span></b><br>
		This is the name of the heading.<br><br><b><span style="color:#ff0000;">id</span></b><br>
		As usual, it specifies an identifier for the heading.<br><br><b><span style="color:#ff0000;">parent</span></b><br>
		This is what allows us to insert the item in an existing menu. <br>
		Here we insert our menu item in the Point of Sale menu, we must 
retrieve the identifier of the menu in the original file of the Point Of
 Sale. As this menu does not belong to our module, we refer to it by 
using the usual dot syntax.<br><br><b><span style="color:#ff0000;">sequence</span></b><br>
		This is the number that is used to sort the heading. The lower the number, the higher the heading is.<br><br><b><span style="color:#ff0000;">groups</span></b><br>
		We want to restrict access to this menu for <b>POS/Manager</b> user group.</p>
            <p>We use here also dot syntax to refer to the group. We could allow multiple groups, by adding them separated by a comma.</p>
            <p class="imgtext-info">A menu which has no <b>action </b>attribute becomes a heading </p>
            <p>
              <b>The «&nbsp;Cashiers&nbsp;» menu</b>
            </p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7594">Cashiers menu<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7594" onclick="selectionCode('contenuCoded0e7594');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7594" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">menuitem</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">menu_action_pos_cashier</code><code class="literal1">"</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">parent</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">menu_point_of_sale_cashiers</code><code class="literal1">"</code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">action</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">action_pos_cashier</code><code class="literal1">"</code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code>
<code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>This time, we add the <b>action</b> attribute that refers to the action that we will define later.<br>
		You will also notice that the <b>parent</b> menu is the heading we created earlier. Clearly, the menu will be within this heading.<br><br>
		The menu appears in the <b>Menu</b> tab of the <b>POS/Manager</b> group (from <b>Configuration/Groups</b> menu) as shown in the image below.</p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/group_pos_manager.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/group_pos_manager.jpg" alt="The menu appears in POS/Manager group" height="300" width="550"></a><figcaption>The menu appears in POS/Manager group</figcaption></figure>
            <p class="imgtext-idea">Here we can see the sorting of the menus according to their sequence.</p>
          </div>
          
		<h4 class="TitreSection3" id="LVII-B-4-e">VII-B-4-e. The action of the menu<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <p>When we click on the <b>Cashiers</b> menu, the following action will be executed.</p>
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e7752">action_pos_cashier<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e7752" onclick="selectionCode('contenuCoded0e7752');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e7752" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.actions.act_window</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">action_pos_cashier</code><code class="literal1">"</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>Cashiers<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">type</code><code class="literal1">"</code><code class="markup">&gt;</code>ir.actions.act_window<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">res_model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.cashier<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_type</code><code class="literal1">"</code><code class="markup">&gt;</code>form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_mode</code><code class="literal1">"</code><code class="markup">&gt;</code>tree,form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pos_cashier_tree</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">context</code><code class="literal1">"</code><code class="markup">&gt;</code>{"search_default_filter_see_all":1}<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">help</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">html</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">p</code><code class="markup"> </code><code class="markup">class</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">oe_view_nocontent_create</code><code class="literal1">"</code><code class="markup">&gt;</code>
            Click here to create a cashier for the Point Of Sale.
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">p</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>When it comes to action, then we use <b>ir.actions.act_window</b> model (the action will be recorded in the ir_act_window table of OpenERP).<br><br><b><span style="color:#ff0000;">name="type"</span></b><br>
		This is the type of the action<br><br><b><span style="color:#ff0000;">name="res_model"</span></b><br>
		This is the name of the table used<br><br><b><span style="color:#ff0000;">name="view_type"</span></b><br>
		This is the type of the view<br><br><b><span style="color:#ff0000;">name="view_mode"</span></b><br>
		This is the type of available views. Here we will allow form view and tree view. There is another type of view, the <b>Kaban</b> view.<br><br><b><span style="color:#ff0000;">name="view_id"</span></b><br>
		This is the ID of the view that this action will apply. Here, the tree view.<br><br><b><span style="color:#ff0000;">name="context"</span></b><br>
		The context of the view that apply to the tree view. Here, a default filter is applied, the <b>filter_see_all</b> filter we created earlier. So we will see all cashiers.<br><br><b><span style="color:#ff0000;">name="help" type="html"</span></b><br>
		This field will be used to display the content in HTML format if the table is empty.<br>
		Using <b>oe_view_nocontent_create</b> special class, a text will be displayed with an arrow to the <b>Create</b> button.</p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/no_cashier_create.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/no_cashier_create.jpg" alt="If no cashier has been created in the POS, the above text is displayed" height="177" width="550"></a><figcaption>If no cashier has been created in the POS, the above text is displayed</figcaption></figure>
            <p class="imgtext-info">In the Point Of Sale, when we will click on the<b> « Cashiers » </b>menu, the tee view will appear with the <b>« All »</b> filter that will display all cashiers. A <b>« Create »</b> button will be displayed on top of the table.</p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/cashier_menu.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/cashier_menu.jpg" alt="The Cashiers menu in the POS heading" height="325" width="191"></a><figcaption>The Cashiers menu in the POS heading</figcaption></figure>
          </div>
        </div>
        
		<h3 class="TitreSection2" id="LVII-B-5">VII-B-5. The order_cashier_view.xml file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>We will now create the view for orders to the cashier's name appears. </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8159">order_cashier_view.xml<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8159" onclick="selectionCode('contenuCoded0e8159');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8159" class="contenuCode"> <code class="keyword3">&lt;?</code><code class="keyword3">xml</code><code class="keyword3"> </code><code class="keyword3">version="1.0"</code><code class="keyword3"> </code><code class="keyword3">encoding="utf-8"?</code><code class="keyword3">&gt;</code>
<code class="markup">&lt;</code><code class="markup">openerp</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">data</code><code class="markup">&gt;</code>   
        <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Vue</code><code class="comment1"> </code><code class="comment1">formulaire</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
        <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_pos_cashier_form</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.order<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>view.inherit.pos.order.form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_type</code><code class="literal1">"</code><code class="markup">&gt;</code>form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">inherit_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.view_pos_pos_form</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">partner_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">position</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">after</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>

        <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Vue</code><code class="comment1"> </code><code class="comment1">Tree</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
        <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_pos_cashier_tree</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.order<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>view.inherit.pos.order.tree<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_type</code><code class="literal1">"</code><code class="markup">&gt;</code>tree<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">inherit_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.view_pos_order_tree</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">user_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">position</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">replace</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">data</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">openerp</code><code class="markup">&gt;</code> 
</code></pre></div>
          <p>As in the previous file, we will create a « form » view and a « tree » view.<br><br><b>Warning&nbsp;!</b><br>
		If you remember, the<b> inherit_pos_order_for_cashiers</b> object inherits from the <b>pos_order</b> object, the original object of the Point Of Sale. <br><br>
		We must therefore take the header of the original view, change the <b>name</b> field and add the <b>inherit_id</b> field.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8779">inherit_id<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8779" onclick="selectionCode('contenuCoded0e8779');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8779" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">inherit_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.view_pos_order_tree</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code> 
</code></pre></div>
          <p>You will notice that we put the identifier of the original 
view, and do not forget to precede with the name of the original module 
(dot syntax), since this view does not belong to our module, but to its 
parent.<br><br></p>
          
		<h4 class="TitreSection3" id="LVII-B-5-a">VII-B-5-a. The form view<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e8825">Vue formulaire<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e8825" onclick="selectionCode('contenuCoded0e8825');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e8825" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_pos_cashier_form</code><code class="literal1">"</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.order<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>view.inherit.pos.order.form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_type</code><code class="literal1">"</code><code class="markup">&gt;</code>form<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">inherit_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.view_pos_pos_form</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">partner_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">position</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">after</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>We will insert the <b>cashier_name</b> field in the form.<br>
		For this, we use a field that already exists and add the <b>position</b> attribute.</p>
            <p>
              <b>Availble positions</b>
            </p>
            <ul class="ListeDVP">
              <li><b><span style="color:#ff0000;">after&nbsp;:</span></b> the field will be inserted <b>after </b>the one that contains the position attribute&nbsp;;</li>
              <li><b><span style="color:#ff0000;">before&nbsp;:</span></b> the field will be inserted <b>before</b> the one that contains the position attribute;</li>
              <li><b><span style="color:#ff0000;">replace&nbsp;:</span></b> <b>replace</b> the field that contains the position attribute&nbsp;;</li>
            </ul>
            <p>In this case, the <b>cashier_name </b>field will be placed after <b>partner_id</b> field (the client) in the form </p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/order_form.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/order_form.jpg" alt="The cashier_name field in the order form" height="301" width="550"></a><figcaption>The cashier_name field in the order form</figcaption></figure>
          </div>
          
		<h4 class="TitreSection3" id="LVII-B-5-b">VII-B-5-b. The Tree View<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h4><div class="BlocSection3">
            
            <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9150">Tree view<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9150" onclick="selectionCode('contenuCoded0e9150');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9150" class="contenuCode"> <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.ui.view</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_pos_cashier_tree</code><code class="literal1">"</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model</code><code class="literal1">"</code><code class="markup">&gt;</code>pos.order<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>view.inherit.pos.order.tree<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">view_type</code><code class="literal1">"</code><code class="markup">&gt;</code>tree<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">inherit_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">point_of_sale.view_pos_order_tree</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">arch</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">type</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">xml</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">user_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">position</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">replace</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier_name</code><code class="literal1">"</code><code class="markup">/</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code> 
</code></pre></div>
            <p>In the tree view, we will replace the <b>user_id</b> field (User of the Point Of Sale) by<b> cashier_name</b> field.</p>
            <p class="imgtext-idea">Remember that we create this module 
for several cashiers can place orders without having to log in each time
 the cashier changes. This is why we do not want the user name of the 
Point Of Sale, which will be the same for all cashiers, appears in the 
orders view. However, reveal the name of the cashier will allow 
immediately the manager to see wich cashier has made such sale.</p>
            <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/orders_tree.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/orders_tree.jpg" alt="The cashier_name field in tree view of the orders" height="153" width="550"></a><figcaption>The cashier_name field in tree view of the orders</figcaption></figure>
          </div>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="LVII-C">VII-C. Security Settings of the module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>As we have defined the menu access to a particular group, we 
will now apply some security policies on the module to restrict access 
and set a rule on the records.</p>
        
		<h3 class="TitreSection2" id="LVII-C-1">VII-C-1. Access Rights<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>We will create a special file in the <b>security</b> directory of the module.</p>
          <blockquote class="citation"><div>
            <b><span style="color:#0000ff;">/opt/modules-openerp/pos_cashier/security</span> </b>
          </div></blockquote>
          <p>The file that defines the access rights to the database records is a CSV file.<br>
		It has always the same name : <b>ir.model.access.csv.</b></p>
          <p>The first line contains the names of the fields separated by a comma.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9465">CSV fields<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9465" onclick="selectionCode('contenuCoded0e9465');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9465" class="contenuCode"> id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink 
</code></pre></div>
          <p><b><span style="color:#ff0000;">id</span></b><br>
		A unique identifier for the access rule<br><br><b><span style="color:#ff0000;">name</span></b><br>
		The name of the rule. It will appear in the configuration pages of OpenERP.<br><br><b><span style="color:#ff0000;">model_id:id</span></b><br>
		The table to which this rule applies. The table name should always be prefixed with <b>model_</b>.<br><br><b><span style="color:#ff0000;">group_id:id</span></b><br>
		The user group to which this rule applies.<br><br><b><span style="color:#ff0000;">perm_read</span></b><br>
		Permission to read the data (1 or 0).<br><br><b><span style="color:#ff0000;">perm_write</span></b><br>
		Permission to modify the data (1 or 0).<br><br><b><span style="color:#ff0000;">perm_create</span></b><br>
		Permission to create data (1 or 0).<br><br><b><span style="color:#ff0000;">perm_unlink</span></b><br>
		Permission to delete the data (1 or 0).<br><br>
		We will now add two additional lines.</p>
          <p>A line for the rights for the users of the POS (<b>POS/User</b> group) with read rights only.<br>
		And a line for the rights of the managers of the POS (<b>POS/Manager</b> group) with all rights.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9541">CSV fields<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9541" onclick="selectionCode('contenuCoded0e9541');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9541" class="contenuCode"> id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_pos_cashier_u,pos.cashier user,model_pos_cashier,point_of_sale.group_pos_user,1,0,0,0
access_pos_cashier_m,pos.cashier manager,model_pos_cashier,point_of_sale.group_pos_manager,1,1,1,1 
</code></pre></div>
          <p>
            <b>About POS/User group</b>
          </p>
          <ul class="ListeDVP">
            <li><b>id</b> = access_pos_cashier_u </li>
            <li><b>name</b> = pos.cashier user</li>
            <li><b>model_id:id</b> = model_pos_cashier</li>
            <li><b>group_id:id</b> = point_of_sale.group_pos_user</li>
            <li><b>perm_read</b> = 1</li>
            <li><b>perm_write</b> = 0</li>
            <li><b>perm_create</b> = 0</li>
            <li><b>perm_unlink</b> = 0</li>
          </ul>
          <p>
            <b>About POS/Manager group</b>
          </p>
          <ul class="ListeDVP">
            <li><b>id</b> = access_pos_cashier_m </li>
            <li><b>name</b> = pos.cashier manager</li>
            <li><b>model_id:id</b> = model_pos_cashier</li>
            <li><b>group_id:id</b> = point_of_sale.group_pos_manager</li>
            <li><b>perm_read</b> = 1</li>
            <li><b>perm_write</b> = 1</li>
            <li><b>perm_create</b> = 1</li>
            <li><b>perm_unlink</b> = 1</li>
          </ul>
          <p>When you go to the <b>Configuration/Security/Access controls List</b> menu of OpenERP you will see these two lines in the tree view.</p>
          <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_acces.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_acces.jpg" alt="pos_cashier access rights" height="139" width="550"></a><figcaption>pos_cashier access rights</figcaption></figure>
        </div>
        
		<h3 class="TitreSection2" id="LVII-C-2">VII-C-2. Record rules<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Now let's define a record rule to ensure that the manager of a Point Of Sale can create a cashier for its Point Of Sale only.</p>
          <p>When creating a cashier, if the manager selects a Point Of 
Sale in the list which does not belong to him, an error message will be 
displayed.</p>
          <p class="imgtext-idea">The administrator of OpenERP (Admin user) can create cashiers in any Point Of Sale.<br>
			The administrator has full rights to the database. It can therefore 
configure any application. Security rules do not apply to him.</p>
          <p>To do this, still in the <b>security</b> directory of the module, we will create an XML file that we'll call <b>pos_cashier_security.xml</b>.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9676">pos_cashier_security.xml<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9676" onclick="selectionCode('contenuCoded0e9676');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9676" class="contenuCode"> <code class="keyword3">&lt;?</code><code class="keyword3">xml</code><code class="keyword3"> </code><code class="keyword3">version="1.0"</code><code class="keyword3"> </code><code class="keyword3">encoding="utf-8"?</code><code class="keyword3">&gt;</code>
<code class="markup">&lt;</code><code class="markup">openerp</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">data</code><code class="markup"> </code><code class="markup">noupdate</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">0</code><code class="literal1">"</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">record</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">rule_pos_cashier</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">model</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ir.rule</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">name</code><code class="literal1">"</code><code class="markup">&gt;</code>Point Of Sale Cashiers<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model_id</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">ref</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">model_pos_cashier</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">global</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">eval</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">True</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">field</code><code class="markup"> </code><code class="markup">name</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">domain_force</code><code class="literal1">"</code><code class="markup">&gt;</code>[('pos_config_id', '=', user.pos_config.id)]<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">field</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">record</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">data</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">openerp</code><code class="markup">&gt;</code> 
</code></pre></div>
          <p>Here, as it comes to security rules, the model will be always <b>ir.rule</b> (the rule will be recorded in the ir_rule table of OpenERP).<br><br>
		As in previous XML file we will put an identifier, then we will add some fields.<br><br><b><span style="color:#ff0000;">name="model_id"</span></b><br>
		This is the name of the affected table (prefixed with <b>model_</b>).<br><br><b><span style="color:#ff0000;">name="global" eval="True"</span></b><br>
		If this rule is global, it applies to everyone. If it is not global, it must then specify the user groups to which it applies.<br><br><b><span style="color:#ff0000;">name="domain_force"</span></b><br>
		This is the rule itself, </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e9937">domain_force<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e9937" onclick="selectionCode('contenuCoded0e9937');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e9937" class="contenuCode"> [('pos_config_id', '=', user.pos_config.id)] 
</code></pre></div>
          <p>Here, a recording can be done only if the selected Point Of Sale belongs to the user.</p>
          <p>Here is how this rule will appear in the <b>Configuration/Security/Records rules</b> menu of OpenERP</p>
          <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_rule_tree.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_rule_tree.jpg" alt="Record rule for pos_cashier module (tree view)" height="182" width="550"></a><figcaption>Record rule for pos_cashier module (tree view)</figcaption></figure>
          <p>
            <b>If you click on this rule, it appears in the form below.</b>
          </p>
          <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_rule.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_rule.jpg" alt="Record rule for pos_cashier module (form view)" height="314" width="550"></a><figcaption>Record rule for pos_cashier module (form view)</figcaption></figure>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="LVII-D">VII-D. Add an icon to the module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>For your module displays an icon in the <b>Configuration/Modules</b> menu of OpenERP, we'll just create a PNG image of 64 pixels by 64 pixels we call<b> icon.png</b>.</p>
        <p>This icon is put in the <b>img</b> subdirectory of the <b>static</b> directory of the module.</p>
        <blockquote class="citation"><div>
          <b><span style="color:#0000ff;">/opt/modules-openerp/pos_cashier/static/src/img</span> </b>
        </div></blockquote>
        <p>At the loading of OpenERP, and at the loading of the modules, the application looks for <b>icon.png </b>file into this directory to display next to the name of the module.</p>
        <figure class="TextAlign-center"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/module_icon.jpg" alt="Icon is displayed near the module's name" height="161" width="399"><figcaption>Icon is displayed near the module's name</figcaption></figure>
      </div>
      
		<h2 class="TitreSection1" id="LVII-E">VII-E. End of the basic OpenERP module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>We finished the «basic» module for OpenERP<br><br>
		All files that we have created are added to the <b>data[] </b>array in the<b> __ openerp__.py</b> file<br><a class="renvoiSignet" href="#openerppy">See here</a>.<br><br>
		We still can not install our module, because as we stated other files in the <b>__ openerp__.py </b>file, if they are not created, OpenERP will return an error.<br><br><b>We'll have to wait a little</b> <img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/smile-wink.png" alt="Image non disponible" class="image_verticale" height="32" width="32"></p>
      </div>
    </div>
    
		<h1 class="TitreSection0" id="LVIII">VIII. Creation of the Web module for the Point Of Sale<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Now that we have created the module to <span class="mot_souligne">create cashiers</span> in the Point Of Sale, we will create the necessary files that will allow to <span class="mot_souligne">use the cashiers</span> in the Point Of Sale.</p>
      <p>I remind you that the Point Of Sale is not, strictly speaking, 
integrated into OpenERP. This is a completely different web interface.<br><br></p>
      <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_interface_normal.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_interface_normal.jpg" alt="The original POS GUI" height="259" width="550"></a><figcaption>The original POS GUI</figcaption></figure>
      <p>When we are finished, you will see the cashiers list at the 
bottom left of the Point Of Sale, under the keypad, as shown in the 
image below.</p>
      <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_interface.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_interface.jpg" alt="The new POS GUI with cashiers dropdown list" height="272" width="550"></a><figcaption>The new POS GUI with cashiers dropdown list</figcaption></figure>
      
		<h2 class="TitreSection1" id="LVIII-A">VIII-A. The pos_cashier.js file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>Well, here is a little hot. I put you though all the script then I will explain to you the different functions.</p>
        <p>This file is created in the<b> js</b> directory of the module.</p>
        <blockquote class="citation"><div>
          <b><span style="color:#0000ff;">/opt/modules-openerp/pos_cashier/static/src/js</span> </b>
        </div></blockquote>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e10084">pos_cashier.js<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e10084" onclick="selectionCode('contenuCoded0e10084');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e10084" class="contenuCode"> 
<code class="javascript_keyword1">function</code> <code class="javascript_function">openerp_pos_cashier</code>(instance<code class="javascript_operator">,</code> module)<code class="javascript_operator">{</code> <code class="javascript_comment2">//</code><code class="javascript_comment2">module</code><code class="javascript_comment2"> </code><code class="javascript_comment2">is</code><code class="javascript_comment2"> </code><code class="javascript_comment2">instance.point_of_sale</code>
    <code class="javascript_keyword1">var</code> module <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>point_of_sale<code class="javascript_operator">;</code>
    <code class="javascript_keyword1">var</code> QWeb <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code>qweb<code class="javascript_operator">;</code>
    _t <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code>_t<code class="javascript_operator">;</code>

    globalCashier <code class="javascript_operator">=</code> <code class="javascript_literal2">null</code><code class="javascript_operator">;</code>

    module<code class="javascript_operator">.</code>CashierWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PosWidget<code class="javascript_operator">.</code><code class="javascript_function">include</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">PosWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>  

        <code class="javascript_label">init</code>: <code class="javascript_keyword1">function</code>(parent<code class="javascript_operator">,</code> options) <code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>(parent)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code>  self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>    
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">recuperation</code><code class="javascript_comment2"> </code><code class="javascript_comment2">de</code><code class="javascript_comment2"> </code><code class="javascript_comment2">l'ID</code><code class="javascript_comment2"> </code><code class="javascript_comment2">du</code><code class="javascript_comment2"> </code><code class="javascript_comment2">POS</code>
        <code class="javascript_label">get_cur_pos_config_id</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> config <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos_config</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> config_id <code class="javascript_operator">=</code> <code class="javascript_literal2">null</code><code class="javascript_operator">;</code>
                     
            <code class="javascript_keyword1">if</code>(config)<code class="javascript_operator">{</code>
                config_id <code class="javascript_operator">=</code> config<code class="javascript_operator">.</code>id<code class="javascript_operator">;</code>
                
                <code class="javascript_keyword1">return</code> config_id<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>        
            <code class="javascript_keyword1">return</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>    
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">fetch</code>: <code class="javascript_keyword1">function</code>(model<code class="javascript_operator">,</code> fields<code class="javascript_operator">,</code> domain<code class="javascript_operator">,</code> ctx)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_keyword1">new</code> instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code><code class="javascript_function">Model</code>(model)<code class="javascript_operator">.</code><code class="javascript_function">query</code>(fields)<code class="javascript_operator">.</code><code class="javascript_function">filter</code>(domain)<code class="javascript_operator">.</code><code class="javascript_function">context</code>(ctx)<code class="javascript_operator">.</code><code class="javascript_function">all</code>()
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">cashier_change</code>: <code class="javascript_keyword1">function</code>(name)<code class="javascript_operator">{</code>
            globalCashier <code class="javascript_operator">=</code> name<code class="javascript_operator">;</code>

            $(<code class="javascript_literal1">'</code><code class="javascript_literal1">#pay-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(name)<code class="javascript_operator">;</code>
            console<code class="javascript_operator">.</code><code class="javascript_function">log</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_change</code><code class="javascript_literal1"> </code><code class="javascript_literal1">:</code><code class="javascript_literal1"> </code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> name)<code class="javascript_operator">;</code>
            
            <code class="javascript_keyword1">if</code>(name <code class="javascript_operator">!</code><code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">{</code>
                $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">removeAttr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>                 
            <code class="javascript_operator">}</code> <code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>
                $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">attr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">get_cashiers</code>: <code class="javascript_keyword1">function</code>(config_id)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> cashier_list <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>

            <code class="javascript_keyword1">var</code> loaded <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code><code class="javascript_function">fetch</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos.cashier</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">pos_config_id</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> config_id<code class="javascript_operator">]</code><code class="javascript_operator">,</code> <code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">active</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">true</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">]</code>)
                <code class="javascript_operator">.</code><code class="javascript_function">then</code>(<code class="javascript_keyword1">function</code>(cashiers)<code class="javascript_operator">{</code>
                     <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashiers<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
                        cashier_list<code class="javascript_operator">.</code><code class="javascript_function">push</code>(cashiers<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code><code class="javascript_operator">.</code>cashier_name)<code class="javascript_operator">;</code>
                     <code class="javascript_operator">}</code>

                    <code class="javascript_keyword1">if</code>(cashier_list<code class="javascript_operator">.</code>length <code class="javascript_operator">&gt;</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">{</code>
                        
                        <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
                            <code class="javascript_keyword1">var</code> content <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>()<code class="javascript_operator">;</code>
                            <code class="javascript_keyword1">var</code> new_option <code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;option</code><code class="javascript_literal1"> </code><code class="javascript_literal1">value="</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">"&gt;</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;/option&gt;\n</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>
                            self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(content <code class="javascript_operator">+</code> new_option)<code class="javascript_operator">;</code>
                            <code class="javascript_operator">}</code>

                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">none</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>selectedIndex <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">;</code>
                        globalCashier <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
                        self<code class="javascript_operator">.</code><code class="javascript_function">cashier_change</code>(globalCashier)<code class="javascript_operator">;</code>

                    <code class="javascript_operator">}</code> <code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>

                        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">if</code><code class="javascript_comment2"> </code><code class="javascript_comment2">there</code><code class="javascript_comment2"> </code><code class="javascript_comment2">are</code><code class="javascript_comment2"> </code><code class="javascript_comment2">no</code><code class="javascript_comment2"> </code><code class="javascript_comment2">cashier</code>
                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">block</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">attr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                    <code class="javascript_operator">}</code>
                <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code> 

        <code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

            self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">change</code>(<code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">var</code> name <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>value<code class="javascript_operator">;</code>
                self<code class="javascript_operator">.</code><code class="javascript_function">cashier_change</code>(name)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        
        <code class="javascript_label">build_widgets</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Screens</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ProductScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ReceiptScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaymentScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">WelcomeScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ClientPaymentScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScaleInviteScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScaleScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Popups</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HelpPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ProductErrorPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorSessionPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ChooseReceiptPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorNegativePricePopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Misc</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>notification <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">SynchNotificationWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>notification<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>username   <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">UsernameWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>username<code class="javascript_operator">.</code><code class="javascript_function">replace</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">.placeholder-UsernameWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>action_bar <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ActionBarWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>action_bar<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>left_action_bar <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ActionBarWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>left_action_bar<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#leftpane</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">GoToPayWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-GoToPayWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaypadWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-PaypadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>numpad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">NumpadWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>numpad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-NumpadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>order_widget <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OrderWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>order_widget<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-OrderWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>onscreen_keyboard <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OnscreenKeyboardWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code>
                <code class="javascript_literal1">'</code><code class="javascript_literal1">keyboard_model</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">simple</code><code class="javascript_literal1">'</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>onscreen_keyboard<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#content</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code> 

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>close_button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HeaderButtonWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>
                <code class="javascript_label">label</code>: <code class="javascript_function">_t</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">Close</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
                <code class="javascript_label">action</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code> self<code class="javascript_operator">.</code><code class="javascript_function">try_close</code>()<code class="javascript_operator">;</code> <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>close_button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HeaderButtonWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>
                <code class="javascript_label">label</code>: <code class="javascript_function">_t</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">Self-Checkout</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
                <code class="javascript_label">action</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code> self<code class="javascript_operator">.</code>screen_selector<code class="javascript_operator">.</code><code class="javascript_function">set_user_mode</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code> <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            
            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Screen</code><code class="javascript_comment2"> </code><code class="javascript_comment2">Selector</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_selector <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScreenSelector</code>(<code class="javascript_operator">{</code>
                <code class="javascript_label">pos</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">,</code>
                <code class="javascript_label">screen_set</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">products</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">payment</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">client_payment</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">scale_invite</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">scale</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code>    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">receipt</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">welcome</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">popup_set</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">help</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-product</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-session</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-negative-price</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">choose-receipt</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_client_screen</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">welcome</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_cashier_screen</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">products</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_mode</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code>iface_self_checkout <code class="javascript_operator">?</code>  <code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">if</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code>debug)<code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>debug_widget <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">DebugWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>debug_widget<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#content</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>  

    module<code class="javascript_operator">.</code>CashierPayScreenWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PaymentScreenWidget<code class="javascript_operator">.</code><code class="javascript_function">include</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">PaymentScreenWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> 

        <code class="javascript_label">show</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#pay-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(globalCashier)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#ticket-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(globalCashier)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">selectedOrder</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">set_cashier_name</code>(globalCashier)<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaypadWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-PaypadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code> 

    module<code class="javascript_operator">.</code>CashierReceiptScreenWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>ReceiptScreenWidget<code class="javascript_operator">.</code><code class="javascript_function">include</code>(<code class="javascript_operator">{</code>

        <code class="javascript_label">refresh</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>
            $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.pos-receipt-container</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$el)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(QWeb<code class="javascript_operator">.</code><code class="javascript_function">render</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">PosTicket</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>widget<code class="javascript_operator">:</code><code class="javascript_literal2">this</code><code class="javascript_operator">}</code>))<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">if</code>(globalCashier <code class="javascript_operator">!</code><code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#ticket-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(globalCashier)<code class="javascript_operator">;</code>           
            <code class="javascript_operator">}</code>         
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        
    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

    module<code class="javascript_operator">.</code>GoToPayWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PosBaseWidget<code class="javascript_operator">.</code><code class="javascript_function">extend</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">GoToPayWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
        <code class="javascript_label">init</code>: <code class="javascript_keyword1">function</code>(parent<code class="javascript_operator">,</code> options) <code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>(parent)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">var</code> button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">GoToPayButtonWidget</code>(self)<code class="javascript_operator">;</code>
            button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(self<code class="javascript_operator">.</code>$el)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

    module<code class="javascript_operator">.</code>GoToPayButtonWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PosBaseWidget<code class="javascript_operator">.</code><code class="javascript_function">extend</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">GoToPayButtonWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
        <code class="javascript_label">init</code>: <code class="javascript_keyword1">function</code>(parent<code class="javascript_operator">,</code> options) <code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>(parent)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$el<code class="javascript_operator">.</code><code class="javascript_function">click</code>(<code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
                self<code class="javascript_operator">.</code>pos_widget<code class="javascript_operator">.</code>screen_selector<code class="javascript_operator">.</code><code class="javascript_function">set_current_screen</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">payment</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

    
    module<code class="javascript_operator">.</code>Order <code class="javascript_operator">=</code> Backbone<code class="javascript_operator">.</code>Model<code class="javascript_operator">.</code><code class="javascript_function">extend</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">initialize</code>: <code class="javascript_keyword1">function</code>(attributes)<code class="javascript_operator">{</code>
            Backbone<code class="javascript_operator">.</code>Model<code class="javascript_operator">.</code>prototype<code class="javascript_operator">.</code>initialize<code class="javascript_operator">.</code><code class="javascript_function">apply</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> arguments)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_operator">{</code>
                <code class="javascript_label">creationDate</code>:   <code class="javascript_keyword1">new</code> <code class="javascript_keyword3">Date</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">orderLines</code>:     <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OrderlineCollection</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">paymentLines</code>:   <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaymentlineCollection</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">name</code>:           <code class="javascript_literal1">"</code><code class="javascript_literal1">Order</code><code class="javascript_literal1"> </code><code class="javascript_literal1">"</code> <code class="javascript_operator">+</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">generateUniqueId</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">client</code>:         <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>
                <code class="javascript_label">cashier_name</code>:   <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos <code class="javascript_operator">=</code>     attributes<code class="javascript_operator">.</code>pos<code class="javascript_operator">;</code> 
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline <code class="javascript_operator">=</code> undefined<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data <code class="javascript_operator">=</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">;</code>  <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">see</code><code class="javascript_comment2"> </code><code class="javascript_comment2">ScreenSelector</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_type <code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">receipt</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>  <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'receipt'</code><code class="javascript_comment2"> </code><code class="javascript_comment2">||</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'invoice'</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">generateUniqueId</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_keyword1">new</code> <code class="javascript_keyword3">Date</code>()<code class="javascript_operator">.</code><code class="javascript_function">getTime</code>()<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">addProduct</code>: <code class="javascript_keyword1">function</code>(product<code class="javascript_operator">,</code> options)<code class="javascript_operator">{</code>
            options <code class="javascript_operator">=</code> options <code class="javascript_operator">|</code><code class="javascript_operator">|</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> attr <code class="javascript_operator">=</code> product<code class="javascript_operator">.</code><code class="javascript_function">toJSON</code>()<code class="javascript_operator">;</code>
            attr<code class="javascript_operator">.</code>pos <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">;</code>
            attr<code class="javascript_operator">.</code>order <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> line <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">Orderline</code>(<code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code>pos<code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">,</code> order<code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">,</code> product<code class="javascript_operator">:</code> product<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">if</code>(options<code class="javascript_operator">.</code>quantity <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> undefined)<code class="javascript_operator">{</code>
                line<code class="javascript_operator">.</code><code class="javascript_function">set_quantity</code>(options<code class="javascript_operator">.</code>quantity)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
            <code class="javascript_keyword1">if</code>(options<code class="javascript_operator">.</code>price <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> undefined)<code class="javascript_operator">{</code>
                line<code class="javascript_operator">.</code><code class="javascript_function">set_unit_price</code>(options<code class="javascript_operator">.</code>price)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>

            <code class="javascript_keyword1">var</code> last_orderline <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getLastOrderline</code>()<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">if</code>( last_orderline <code class="javascript_operator">&amp;</code><code class="javascript_operator">&amp;</code> last_orderline<code class="javascript_operator">.</code><code class="javascript_function">can_be_merged_with</code>(line) <code class="javascript_operator">&amp;</code><code class="javascript_operator">&amp;</code> options<code class="javascript_operator">.</code>merge <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_literal2">false</code>)<code class="javascript_operator">{</code>
                last_orderline<code class="javascript_operator">.</code><code class="javascript_function">merge</code>(line)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">add</code>(line)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">selectLine</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getLastOrderline</code>())<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">removeOrderline</code>: <code class="javascript_keyword1">function</code>( line )<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">remove</code>(line)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">selectLine</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getLastOrderline</code>())<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getLastOrderline</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">at</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>length <code class="javascript_operator">-</code><code class="javascript_digit">1</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">addPaymentLine</code>: <code class="javascript_keyword1">function</code>(cashRegister) <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> paymentLines <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> newPaymentline <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">Paymentline</code>(<code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>cashRegister<code class="javascript_operator">:</code>cashRegister<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">if</code>(cashRegister<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">journal</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>type <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">cash</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">{</code>
                newPaymentline<code class="javascript_operator">.</code><code class="javascript_function">set_amount</code>( <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getDueLeft</code>() )<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
            paymentLines<code class="javascript_operator">.</code><code class="javascript_function">add</code>(newPaymentline)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getName</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        getSubtotal <code class="javascript_operator">:</code> <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine)<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_display_price</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getTotalTaxIncluded</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_price_with_tax</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getDiscountTotal</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> (orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_unit_price</code>() <code class="javascript_operator">*</code> (orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_discount</code>()<code class="javascript_operator">/</code><code class="javascript_digit">100</code>) <code class="javascript_operator">*</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_quantity</code>())<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getTotalTaxExcluded</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_price_without_tax</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getTax</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_tax</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getPaidTotal</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> paymentLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> paymentLine<code class="javascript_operator">.</code><code class="javascript_function">get_amount</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getChange</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>() <code class="javascript_operator">-</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>()<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getDueLeft</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>() <code class="javascript_operator">-</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>()<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">set_cashier_name</code>: <code class="javascript_keyword1">function</code>(name)<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> name)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">sets</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">type</code><code class="javascript_comment2"> </code><code class="javascript_comment2">of</code><code class="javascript_comment2"> </code><code class="javascript_comment2">receipt</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'receipt'(default)</code><code class="javascript_comment2"> </code><code class="javascript_comment2">or</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'invoice'</code>
        <code class="javascript_label">set_receipt_type</code>: <code class="javascript_keyword1">function</code>(type)<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_type <code class="javascript_operator">=</code> type<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">get_receipt_type</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_type<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">client</code><code class="javascript_comment2"> </code><code class="javascript_comment2">related</code><code class="javascript_comment2"> </code><code class="javascript_comment2">to</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">current</code><code class="javascript_comment2"> </code><code class="javascript_comment2">order.</code>
        <code class="javascript_label">set_client</code>: <code class="javascript_keyword1">function</code>(client)<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>client)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">get_client</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">get_client_name</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> client <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">return</code> client <code class="javascript_operator">?</code> client<code class="javascript_operator">.</code>name <code class="javascript_operator">:</code> <code class="javascript_literal1">"</code><code class="javascript_literal1">"</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">order</code><code class="javascript_comment2"> </code><code class="javascript_comment2">also</code><code class="javascript_comment2"> </code><code class="javascript_comment2">stores</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">screen</code><code class="javascript_comment2"> </code><code class="javascript_comment2">status,</code><code class="javascript_comment2"> </code><code class="javascript_comment2">as</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">PoS</code><code class="javascript_comment2"> </code><code class="javascript_comment2">supports</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">different</code><code class="javascript_comment2"> </code><code class="javascript_comment2">active</code><code class="javascript_comment2"> </code><code class="javascript_comment2">screens</code><code class="javascript_comment2"> </code><code class="javascript_comment2">per</code><code class="javascript_comment2"> </code><code class="javascript_comment2">order.</code><code class="javascript_comment2"> </code><code class="javascript_comment2">This</code><code class="javascript_comment2"> </code><code class="javascript_comment2">method</code><code class="javascript_comment2"> </code><code class="javascript_comment2">is</code><code class="javascript_comment2"> </code><code class="javascript_comment2">used</code><code class="javascript_comment2"> </code><code class="javascript_comment2">to</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">store</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">screen</code><code class="javascript_comment2"> </code><code class="javascript_comment2">status.</code>
        <code class="javascript_label">set_screen_data</code>: <code class="javascript_keyword1">function</code>(key<code class="javascript_operator">,</code>value)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">if</code>(arguments<code class="javascript_operator">.</code>length <code class="javascript_operator">=</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_digit">2</code>)<code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data<code class="javascript_operator">[</code>key<code class="javascript_operator">]</code> <code class="javascript_operator">=</code> value<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_keyword1">else</code> <code class="javascript_keyword1">if</code>(arguments<code class="javascript_operator">.</code>length <code class="javascript_operator">=</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_digit">1</code>)<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">for</code>(key <code class="javascript_keyword1">in</code> arguments<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code>)<code class="javascript_operator">{</code>
                    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data<code class="javascript_operator">[</code>key<code class="javascript_operator">]</code> <code class="javascript_operator">=</code> arguments<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code><code class="javascript_operator">[</code>key<code class="javascript_operator">]</code><code class="javascript_operator">;</code>
                <code class="javascript_operator">}</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2">see</code><code class="javascript_comment2"> </code><code class="javascript_comment2">set_screen_data</code>
        <code class="javascript_label">get_screen_data</code>: <code class="javascript_keyword1">function</code>(key)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data<code class="javascript_operator">[</code>key<code class="javascript_operator">]</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">exports</code><code class="javascript_comment2"> </code><code class="javascript_comment2">a</code><code class="javascript_comment2"> </code><code class="javascript_comment2">JSON</code><code class="javascript_comment2"> </code><code class="javascript_comment2">for</code><code class="javascript_comment2"> </code><code class="javascript_comment2">receipt</code><code class="javascript_comment2"> </code><code class="javascript_comment2">printing</code>
        <code class="javascript_label">export_for_printing</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> orderlines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">each</code>(<code class="javascript_keyword1">function</code>(orderline)<code class="javascript_operator">{</code>
                orderlines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(orderline<code class="javascript_operator">.</code><code class="javascript_function">export_for_printing</code>())<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">var</code> paymentlines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">each</code>(<code class="javascript_keyword1">function</code>(paymentline)<code class="javascript_operator">{</code>
                paymentlines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(paymentline<code class="javascript_operator">.</code><code class="javascript_function">export_for_printing</code>())<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> client  <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> cashier <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">|</code><code class="javascript_operator">|</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">user</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> company <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">company</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> shop    <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">shop</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> date <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> <code class="javascript_keyword3">Date</code>()<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">return</code> <code class="javascript_operator">{</code>
                <code class="javascript_label">orderlines</code>: orderlines<code class="javascript_operator">,</code>
                <code class="javascript_label">paymentlines</code>: paymentlines<code class="javascript_operator">,</code>
                <code class="javascript_label">subtotal</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getSubtotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_with_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_without_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxExcluded</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTax</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_paid</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_discount</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getDiscountTotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">change</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getChange</code>()<code class="javascript_operator">,</code>
                name <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getName</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">client</code>: client <code class="javascript_operator">?</code> client<code class="javascript_operator">.</code>name <code class="javascript_operator">:</code> <code class="javascript_literal2">null</code> <code class="javascript_operator">,</code>
                <code class="javascript_label">invoice_id</code>: <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>   <code class="javascript_comment2">//</code><code class="javascript_comment2">TODO</code>
                <code class="javascript_label">cashier</code>: cashier <code class="javascript_operator">?</code> cashier<code class="javascript_operator">.</code>name <code class="javascript_operator">:</code> <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>
                <code class="javascript_label">date</code>: <code class="javascript_operator">{</code> 
                    <code class="javascript_label">year</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getFullYear</code>()<code class="javascript_operator">,</code> 
                    <code class="javascript_label">month</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getMonth</code>()<code class="javascript_operator">,</code> 
                    <code class="javascript_label">date</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getDate</code>()<code class="javascript_operator">,</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">day</code><code class="javascript_comment2"> </code><code class="javascript_comment2">of</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">month</code><code class="javascript_comment2"> </code>
                    <code class="javascript_label">day</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getDay</code>()<code class="javascript_operator">,</code>         <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">day</code><code class="javascript_comment2"> </code><code class="javascript_comment2">of</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">week</code><code class="javascript_comment2"> </code>
                    <code class="javascript_label">hour</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getHours</code>()<code class="javascript_operator">,</code> 
                    <code class="javascript_label">minute</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getMinutes</code>() 
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
                <code class="javascript_label">company</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_label">email</code>: company<code class="javascript_operator">.</code>email<code class="javascript_operator">,</code>
                    <code class="javascript_label">website</code>: company<code class="javascript_operator">.</code>website<code class="javascript_operator">,</code>
                    <code class="javascript_label">company_registry</code>: company<code class="javascript_operator">.</code>company_registry<code class="javascript_operator">,</code>
                    <code class="javascript_label">contact_address</code>: company<code class="javascript_operator">.</code>contact_address<code class="javascript_operator">,</code> 
                    <code class="javascript_label">vat</code>: company<code class="javascript_operator">.</code>vat<code class="javascript_operator">,</code>
                    <code class="javascript_label">name</code>: company<code class="javascript_operator">.</code>name<code class="javascript_operator">,</code>
                    <code class="javascript_label">phone</code>: company<code class="javascript_operator">.</code>phone<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">shop</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_label">name</code>: shop<code class="javascript_operator">.</code>name<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">currency</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">currency</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">exportAsJSON</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> orderLines<code class="javascript_operator">,</code> paymentLines<code class="javascript_operator">;</code>
            orderLines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">each</code>(_<code class="javascript_operator">.</code><code class="javascript_function">bind</code>( <code class="javascript_keyword1">function</code>(item) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> orderLines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">,</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> item<code class="javascript_operator">.</code><code class="javascript_function">export_as_JSON</code>()<code class="javascript_operator">]</code>)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code>))<code class="javascript_operator">;</code>
            paymentLines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">each</code>(_<code class="javascript_operator">.</code><code class="javascript_function">bind</code>( <code class="javascript_keyword1">function</code>(item) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> paymentLines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">,</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> item<code class="javascript_operator">.</code><code class="javascript_function">export_as_JSON</code>()<code class="javascript_operator">]</code>)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code>))<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_operator">{</code>
                <code class="javascript_label">name</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getName</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_paid</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_total</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTax</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_return</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getChange</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">lines</code>: orderLines<code class="javascript_operator">,</code>
                <code class="javascript_label">statement_ids</code>: paymentLines<code class="javascript_operator">,</code>
                <code class="javascript_label">pos_session_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos_session</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id<code class="javascript_operator">,</code>
                <code class="javascript_label">partner_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">?</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id <code class="javascript_operator">:</code> undefined<code class="javascript_operator">,</code>
                <code class="javascript_label">user_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">?</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">user</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id<code class="javascript_operator">,</code>
                <code class="javascript_label">cashier_name</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">selectedOrder</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getSelectedLine</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">selectLine</code>: <code class="javascript_keyword1">function</code>(line)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">if</code>(line)<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">if</code>(line <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline)<code class="javascript_operator">{</code>
                    <code class="javascript_keyword1">if</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline)<code class="javascript_operator">{</code>
                        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline<code class="javascript_operator">.</code><code class="javascript_function">set_selected</code>(<code class="javascript_literal2">false</code>)<code class="javascript_operator">;</code>
                    <code class="javascript_operator">}</code>
                    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline <code class="javascript_operator">=</code> line<code class="javascript_operator">;</code>
                    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline<code class="javascript_operator">.</code><code class="javascript_function">set_selected</code>(<code class="javascript_literal2">true</code>)<code class="javascript_operator">;</code>
                <code class="javascript_operator">}</code>
            <code class="javascript_operator">}</code><code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline <code class="javascript_operator">=</code> undefined<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

    

<code class="javascript_operator">}</code><code class="javascript_operator">;</code>

openerp<code class="javascript_operator">.</code>point_of_sale <code class="javascript_operator">=</code> <code class="javascript_keyword1">function</code>(instance) <code class="javascript_operator">{</code>
    instance<code class="javascript_operator">.</code>point_of_sale <code class="javascript_operator">=</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">;</code>

    <code class="javascript_keyword1">var</code> module <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>point_of_sale<code class="javascript_operator">;</code>

    <code class="javascript_function">openerp_pos_db</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">db.js</code>
    <code class="javascript_function">openerp_pos_models</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_models.js</code>
    <code class="javascript_function">openerp_pos_basewidget</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>    <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_basewidget.js</code>
    <code class="javascript_function">openerp_pos_keyboard</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>      <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_keyboard_widget.js</code>
    <code class="javascript_function">openerp_pos_scrollbar</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>     <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_scrollbar_widget.js</code>
    <code class="javascript_function">openerp_pos_screens</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_screens.js</code>
    <code class="javascript_function">openerp_pos_widgets</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_widgets.js</code>
    <code class="javascript_function">openerp_pos_devices</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_devices.js</code>

    <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">cashiers</code>
    <code class="javascript_function">openerp_pos_cashier</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">openerp_pos_cashier</code>

    instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code>client_actions<code class="javascript_operator">.</code><code class="javascript_function">add</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos.ui</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">instance.point_of_sale.PosWidget</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">;</code> 
</code></pre></div>
        <p>There are two main functions in this file.<br><br><b><span style="color:#ff0000;">openerp_pos_cashier() </span> function</b><br>
		It will allow us to add the necessary functions to the module and it will also allow us to modify some original features.<br><br><b><span style="color:#ff0000;">openerp.point_of_sale() </span> function</b><br>
		We will change that for our module is taken into account in the Point Of Sale.</p>
        
		<h3 class="TitreSection2" id="LVIII-A-1">VIII-A-1. openerp_pos_cashier() function<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>This function is declared as follows:</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17034">openerp_pos_cashier()function declaration<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17034" onclick="selectionCode('contenuCoded0e17034');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17034" class="contenuCode"> <code class="javascript_keyword1">function</code> <code class="javascript_function">openerp_pos_cashier</code>(instance<code class="javascript_operator">,</code> module)<code class="javascript_operator">{</code> 
<code class="javascript_operator">}</code> 
</code></pre></div>
          <p>This function will be called later in the function that creates the Point Of Sale.</p>
          <p class="imgtext-info">I'm not going to be able to explain 
all, because I'm not an OpenERP Guru. I proceeded by studying the 
scripts of OpenERP modules magnifying glass to try to deduce how to do 
it.<br>
			In fact, if at any time you find an error or an approximation in my 
explanations, or even in the code, do not hesitate to contact me to let 
me know.</p>
          <p>Then we will instantiate some objects:</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17063">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17063" onclick="selectionCode('contenuCoded0e17063');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17063" class="contenuCode"> <code class="javascript_keyword1">var</code> module <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>point_of_sale<code class="javascript_operator">;</code>
<code class="javascript_keyword1">var</code> QWeb <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code>qweb<code class="javascript_operator">;</code>
_t <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code>_t<code class="javascript_operator">;</code> 
</code></pre></div>
          <p>The <b>module</b> will be an instance of the Point Of Sale.<br><b>QWeb</b> is the template rendering engine. I invite you to read the documentation on the OpenERP website: <img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/100000000000000C0000000C111D73E3.jpg" alt="Image non disponible" class="image_verticale" height="12" width="12"><a class=" tooltip blue-tooltip lienArticle https" href="https://doc.openerp.com/trunk/web/qweb/" target="_blank">Documentation QWeb<span>Docummentation QWeb</span></a><br><b>_t</b>
 is an instance of _t (?!??). To be honest, I do not know what it is. 
When I created the module for the first time, this instance does not 
exist in OpenERP version I had. It was been added later. It is used for 
the action of the<b> close</b> button is at the top of the Point Of 
Sale. As you will see later, we import the close button of Point Of 
Sale, this instance is required.<br><br>
		We then declare a global variable. We will use it further to store the name of the selected cashier.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17128">Global variable<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17128" onclick="selectionCode('contenuCoded0e17128');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17128" class="contenuCode"> globalCashier <code class="javascript_operator">=</code> <code class="javascript_literal2">null</code><code class="javascript_operator">;</code> 
</code></pre></div>
          <p class="imgtext-idea">For a variable to be <b>global</b>, it is stated without the <b>var</b> keyword.<br>
			A local variable is declared like this: <b>var myvar = 'something';</b></p>
        </div>
        
		<h3 class="TitreSection2" id="LVIII-A-2">VIII-A-2. The CashierWidget module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Now we will override the original <b>PosWidget</b> module.<br>
		This is in fact the module that contains the entire Point Of Sale.<br><br>
		We are not really going to « overload » the module, we will include additional functions when possible, with the<b> include()</b> function.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e17172">module.CashierWidget<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e17172" onclick="selectionCode('contenuCoded0e17172');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e17172" class="contenuCode"> 
    module<code class="javascript_operator">.</code>CashierWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PosWidget<code class="javascript_operator">.</code><code class="javascript_function">include</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">PosWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>  

        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">recuperation</code><code class="javascript_comment2"> </code><code class="javascript_comment2">de</code><code class="javascript_comment2"> </code><code class="javascript_comment2">l'ID</code><code class="javascript_comment2"> </code><code class="javascript_comment2">du</code><code class="javascript_comment2"> </code><code class="javascript_comment2">POS</code>
        <code class="javascript_label">get_cur_pos_config_id</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> config <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos_config</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> config_id <code class="javascript_operator">=</code> <code class="javascript_literal2">null</code><code class="javascript_operator">;</code>
                     
            <code class="javascript_keyword1">if</code>(config)<code class="javascript_operator">{</code>
                config_id <code class="javascript_operator">=</code> config<code class="javascript_operator">.</code>id<code class="javascript_operator">;</code>
                
                <code class="javascript_keyword1">return</code> config_id<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>        
            <code class="javascript_keyword1">return</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>    
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">fetch</code>: <code class="javascript_keyword1">function</code>(model<code class="javascript_operator">,</code> fields<code class="javascript_operator">,</code> domain<code class="javascript_operator">,</code> ctx)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_keyword1">new</code> instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code><code class="javascript_function">Model</code>(model)<code class="javascript_operator">.</code><code class="javascript_function">query</code>(fields)<code class="javascript_operator">.</code><code class="javascript_function">filter</code>(domain)<code class="javascript_operator">.</code><code class="javascript_function">context</code>(ctx)<code class="javascript_operator">.</code><code class="javascript_function">all</code>()
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">cashier_change</code>: <code class="javascript_keyword1">function</code>(name)<code class="javascript_operator">{</code>
            globalCashier <code class="javascript_operator">=</code> name<code class="javascript_operator">;</code>

            $(<code class="javascript_literal1">'</code><code class="javascript_literal1">#pay-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(name)<code class="javascript_operator">;</code>
            <code class="javascript_comment2">//</code><code class="javascript_comment2">console.log('cashier_change</code><code class="javascript_comment2"> </code><code class="javascript_comment2">:</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'</code><code class="javascript_comment2"> </code><code class="javascript_comment2">+</code><code class="javascript_comment2"> </code><code class="javascript_comment2">name);</code>
            
            <code class="javascript_keyword1">if</code>(name <code class="javascript_operator">!</code><code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">{</code>
                $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">removeAttr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>                 
            <code class="javascript_operator">}</code> <code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>
                $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">attr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        <code class="javascript_label">get_cashiers</code>: <code class="javascript_keyword1">function</code>(config_id)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> cashier_list <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>

            <code class="javascript_keyword1">var</code> loaded <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code><code class="javascript_function">fetch</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos.cashier</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">pos_config_id</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> config_id<code class="javascript_operator">]</code><code class="javascript_operator">,</code> <code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">active</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">true</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">]</code>)
                <code class="javascript_operator">.</code><code class="javascript_function">then</code>(<code class="javascript_keyword1">function</code>(cashiers)<code class="javascript_operator">{</code>
                     <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashiers<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
                        cashier_list<code class="javascript_operator">.</code><code class="javascript_function">push</code>(cashiers<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code><code class="javascript_operator">.</code>cashier_name)<code class="javascript_operator">;</code>
                     <code class="javascript_operator">}</code>

                    <code class="javascript_keyword1">if</code>(cashier_list<code class="javascript_operator">.</code>length <code class="javascript_operator">&gt;</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">{</code>
                        
                        <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
                            <code class="javascript_keyword1">var</code> content <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>()<code class="javascript_operator">;</code>
                            <code class="javascript_keyword1">var</code> new_option <code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;option</code><code class="javascript_literal1"> </code><code class="javascript_literal1">value="</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">"&gt;</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;/option&gt;\n</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>
                            self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(content <code class="javascript_operator">+</code> new_option)<code class="javascript_operator">;</code>
                            <code class="javascript_operator">}</code>

                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">none</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>selectedIndex <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">;</code>
                        globalCashier <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
                        self<code class="javascript_operator">.</code><code class="javascript_function">cashier_change</code>(globalCashier)<code class="javascript_operator">;</code>

                    <code class="javascript_operator">}</code> <code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>

                        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">if</code><code class="javascript_comment2"> </code><code class="javascript_comment2">there</code><code class="javascript_comment2"> </code><code class="javascript_comment2">are</code><code class="javascript_comment2"> </code><code class="javascript_comment2">no</code><code class="javascript_comment2"> </code><code class="javascript_comment2">cashier</code>
                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">block</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">attr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                    <code class="javascript_operator">}</code>
                <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code> 

        <code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

            self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">change</code>(<code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">var</code> name <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>value<code class="javascript_operator">;</code>
                self<code class="javascript_operator">.</code><code class="javascript_function">cashier_change</code>(name)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

        
        <code class="javascript_label">build_widgets</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Screens</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ProductScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ReceiptScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaymentScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">WelcomeScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ClientPaymentScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScaleInviteScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScaleScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Popups</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HelpPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ProductErrorPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorSessionPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ChooseReceiptPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorNegativePricePopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Misc</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>notification <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">SynchNotificationWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>notification<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>username   <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">UsernameWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>username<code class="javascript_operator">.</code><code class="javascript_function">replace</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">.placeholder-UsernameWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>action_bar <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ActionBarWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>action_bar<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>left_action_bar <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ActionBarWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>left_action_bar<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#leftpane</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">GoToPayWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-GoToPayWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaypadWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-PaypadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>numpad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">NumpadWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>numpad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-NumpadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>order_widget <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OrderWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>order_widget<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-OrderWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>onscreen_keyboard <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OnscreenKeyboardWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code>
                <code class="javascript_literal1">'</code><code class="javascript_literal1">keyboard_model</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">simple</code><code class="javascript_literal1">'</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>onscreen_keyboard<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#content</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code> 

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>close_button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HeaderButtonWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>
                <code class="javascript_label">label</code>: <code class="javascript_function">_t</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">Close</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
                <code class="javascript_label">action</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code> self<code class="javascript_operator">.</code><code class="javascript_function">try_close</code>()<code class="javascript_operator">;</code> <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>close_button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HeaderButtonWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>
                <code class="javascript_label">label</code>: <code class="javascript_function">_t</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">Self-Checkout</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
                <code class="javascript_label">action</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code> self<code class="javascript_operator">.</code>screen_selector<code class="javascript_operator">.</code><code class="javascript_function">set_user_mode</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code> <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            
            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Screen</code><code class="javascript_comment2"> </code><code class="javascript_comment2">Selector</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_selector <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScreenSelector</code>(<code class="javascript_operator">{</code>
                <code class="javascript_label">pos</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">,</code>
                <code class="javascript_label">screen_set</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">products</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">payment</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">client_payment</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">scale_invite</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">scale</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code>    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">receipt</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">welcome</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">popup_set</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">help</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-product</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-session</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-negative-price</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">choose-receipt</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_client_screen</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">welcome</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_cashier_screen</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">products</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_mode</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code>iface_self_checkout <code class="javascript_operator">?</code>  <code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">if</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code>debug)<code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>debug_widget <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">DebugWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>debug_widget<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#content</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code> 
</code></pre></div>
          <p class="imgtext-warning">You will notice that the statements or functions within the module are separated by a comma. </p>
          <p>First, we declare the template that will be used for the module.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19929">template<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19929" onclick="selectionCode('contenuCoded0e19929');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19929" class="contenuCode"> <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">PosWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>  
</code></pre></div>
          <p>This means that when the module is loaded, it is also made to the <b>PosWidget</b> view, which we will study further.<br><br>
		We will then create a function that will allow to retrieve the ID of 
the Point Of Sale and then get cashiers who belong to this Point Of 
Sale.</p>
          <a id="gcpci">&nbsp;</a>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e19955">get_cur_pos_config_id()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e19955" onclick="selectionCode('contenuCoded0e19955');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e19955" class="contenuCode"> 
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">recuperation</code><code class="javascript_comment2"> </code><code class="javascript_comment2">de</code><code class="javascript_comment2"> </code><code class="javascript_comment2">l'ID</code><code class="javascript_comment2"> </code><code class="javascript_comment2">du</code><code class="javascript_comment2"> </code><code class="javascript_comment2">POS</code>
        <code class="javascript_label">get_cur_pos_config_id</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> config <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos_config</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> config_id <code class="javascript_operator">=</code> <code class="javascript_literal2">null</code><code class="javascript_operator">;</code>
                     
            <code class="javascript_keyword1">if</code>(config)<code class="javascript_operator">{</code>
                config_id <code class="javascript_operator">=</code> config<code class="javascript_operator">.</code>id<code class="javascript_operator">;</code>
                
                <code class="javascript_keyword1">return</code> config_id<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>        
            <code class="javascript_keyword1">return</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>    
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>This function uses the <b>pos.get() </b>function that was defined in the original module.<br>
		When a function belongs to the original Point Of Sale Module, it is writen like this : <b>pos.the_function()</b>. If a record is found, it returns the ID of the POS currently used.</p>
          <p>We will then add a function that I grabbed from another module. This function allows to make a query to a table of the database.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20089">fetch()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20089" onclick="selectionCode('contenuCoded0e20089');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20089" class="contenuCode"> <code class="javascript_label">fetch</code>: <code class="javascript_keyword1">function</code>(model<code class="javascript_operator">,</code> fields<code class="javascript_operator">,</code> domain<code class="javascript_operator">,</code> ctx)<code class="javascript_operator">{</code>
    <code class="javascript_keyword1">return</code> <code class="javascript_keyword1">new</code> instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code><code class="javascript_function">Model</code>(model)<code class="javascript_operator">.</code><code class="javascript_function">query</code>(fields)<code class="javascript_operator">.</code><code class="javascript_function">filter</code>(domain)<code class="javascript_operator">.</code><code class="javascript_function">context</code>(ctx)<code class="javascript_operator">.</code><code class="javascript_function">all</code>()
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>With the correct settings, you can get the data from the table. We will see this later.</p>
          <p>We will then create a function that will be called from the
 POS interface (when onchange() event of the cashiers list, for 
example).</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20155">cashier_change()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20155" onclick="selectionCode('contenuCoded0e20155');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20155" class="contenuCode"> 
<code class="javascript_label">cashier_change</code>: <code class="javascript_keyword1">function</code>(name)<code class="javascript_operator">{</code>
    globalCashier <code class="javascript_operator">=</code> name<code class="javascript_operator">;</code>

    $(<code class="javascript_literal1">'</code><code class="javascript_literal1">#pay-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(name)<code class="javascript_operator">;</code>
    <code class="javascript_comment2">//</code><code class="javascript_comment2">console.log('cashier_change</code><code class="javascript_comment2"> </code><code class="javascript_comment2">:</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'</code><code class="javascript_comment2"> </code><code class="javascript_comment2">+</code><code class="javascript_comment2"> </code><code class="javascript_comment2">name);</code>
            
    <code class="javascript_keyword1">if</code>(name <code class="javascript_operator">!</code><code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">{</code>
        $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">removeAttr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>                 
    <code class="javascript_operator">}</code> <code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>
        $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">attr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code>
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p class="imgtext-idea">I left you for a special comment:<br><b>//console.log('cashier_change : ' + name);</b> <br>
			If you use Firebug extension, which is very effective for JavaScript 
debugging, and if you uncomment this line, you will see the message in 
the Firebug console each time the <b>cashier_change()</b> function will be called .<br>
			When you build your personal unit, do not hesitate to use this trick 
in your JavaScripts, in particular to verify that the functions are 
executed and your variables do contain the values &#8203;&#8203;you expect.<br>
			Obviously, you do not forget to remove your <b>console.log()</b> commands or comment them before going into production.<br>
			Finally, the last little tip, if you use console.log() by passing an object, you will not forget to use this: <b>console.log(JSON.stringify (myObject));</b></p>
          <p>When the function is called, the name of the cashier will be stored in the <b>globalCashier </b>global variable.<br>
		Then the cashier's name will also be sent to <b>&lt;div id="pay-screen-cashier-name"&gt;&lt;/div&gt;</b> tag which appears on the payment page.<br><br>
		Also, if the cashier's name is empty (so there is no cashier in the Point Of Sale), it will disable the <b>Pay</b> button of the Point Of Sale. No sale must be performed.<br><br></p>
          <p class="imgtext-info"><b>A little explanation&nbsp;!</b> <br>
			The left side of the Point Of Sale normally displays the keypad and some payment buttons.<br>
			There can be as many buttons as you set up payment methods for the Point Of Sale.<br>
			To prohibit the sale if no cashier has been created in the Point Of 
Sale, I moved the payment buttons on the payment page, and instead I put
 a <b>Pay</b> button.<br>
			It is easier to disable one button that is « hard coded » in the 
view, rather than make a function that disables many payment buttons 
that are dynamically generated.</p>
          <div class="TextAlign-center"><table class="tableau" style="border-width:0px;width:100%;" border="0">
            <tbody><tr>
              <td class="colonne" style="text-align:center;"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/old_numpad.jpg"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/old_numpad.jpg" alt="The standart payment interface with several payment buttons" class="ImgCliquable image_verticale" height="325" width="266"></a><br>
		 The standart payment interface with <br>several payment buttons</td>
              <td class="colonne" style="text-align:center;"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_list.jpg"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_list.jpg" alt="The payment interface with only one Pay button + the dropdown list of the cashiers" class="ImgCliquable image_verticale" height="325" width="268"></a><br>
		 The payment interface with only one <b>Pay</b> button<br>
		  + the dropdown list of the cashiers</td>
            </tr>
          </tbody></table></div>
          <p>We will now add the <b>get_cashiers()</b> function that will retrieve the cashiers from the database and build options of the cashiers drop down list.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20381">get_cashiers()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20381" onclick="selectionCode('contenuCoded0e20381');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20381" class="contenuCode"> 
<code class="javascript_label">get_cashiers</code>: <code class="javascript_keyword1">function</code>(config_id)<code class="javascript_operator">{</code>
    <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
    <code class="javascript_keyword1">var</code> cashier_list <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>

    <code class="javascript_keyword1">var</code> loaded <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code><code class="javascript_function">fetch</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos.cashier</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">pos_config_id</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> config_id<code class="javascript_operator">]</code><code class="javascript_operator">,</code> <code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">active</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">true</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">]</code>)
               <code class="javascript_operator">.</code><code class="javascript_function">then</code>(<code class="javascript_keyword1">function</code>(cashiers)<code class="javascript_operator">{</code>
                   <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashiers<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
                       cashier_list<code class="javascript_operator">.</code><code class="javascript_function">push</code>(cashiers<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code><code class="javascript_operator">.</code>cashier_name)<code class="javascript_operator">;</code>
                   <code class="javascript_operator">}</code>

                   <code class="javascript_keyword1">if</code>(cashier_list<code class="javascript_operator">.</code>length <code class="javascript_operator">&gt;</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">{</code>
                        
                       <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
                           <code class="javascript_keyword1">var</code> content <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>()<code class="javascript_operator">;</code>
                           <code class="javascript_keyword1">var</code> new_option <code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;option</code><code class="javascript_literal1"> </code><code class="javascript_literal1">value="</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">"&gt;</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;/option&gt;\n</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>
                           self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(content <code class="javascript_operator">+</code> new_option)<code class="javascript_operator">;</code>
                       <code class="javascript_operator">}</code>

                       self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">none</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                       self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>selectedIndex <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">;</code>
                       globalCashier <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
                       self<code class="javascript_operator">.</code><code class="javascript_function">cashier_change</code>(globalCashier)<code class="javascript_operator">;</code>

                  <code class="javascript_operator">}</code> <code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>

                      <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">if</code><code class="javascript_comment2"> </code><code class="javascript_comment2">there</code><code class="javascript_comment2"> </code><code class="javascript_comment2">are</code><code class="javascript_comment2"> </code><code class="javascript_comment2">no</code><code class="javascript_comment2"> </code><code class="javascript_comment2">cashier</code>
                      self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">block</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                      self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">attr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
                  <code class="javascript_operator">}</code>
              <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>We first create an empty array</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20919">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20919" onclick="selectionCode('contenuCoded0e20919');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20919" class="contenuCode"> <code class="javascript_keyword1">var</code> cashier_list <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code> 
</code></pre></div>
          <p>Then we make a query with the <b>fetch()</b> function that we seen earlier.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e20941">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e20941" onclick="selectionCode('contenuCoded0e20941');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e20941" class="contenuCode"> <code class="javascript_keyword1">var</code> loaded <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code><code class="javascript_function">fetch</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos.cashier</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">,</code><code class="javascript_operator">[</code><code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">pos_config_id</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> config_id<code class="javascript_operator">]</code><code class="javascript_operator">,</code> <code class="javascript_operator">[</code><code class="javascript_literal1">'</code><code class="javascript_literal1">active</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">=</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_literal1">'</code><code class="javascript_literal1">true</code><code class="javascript_literal1">'</code><code class="javascript_operator">]</code><code class="javascript_operator">]</code>) 
</code></pre></div>
          <p>Here, we will perform a query (SELECT) on <b>pos_cashier</b> table, we will retrieve the field <b>cashier_name</b> of the cashiers who belong to the Point Of Sale which <b>pos_config_id</b> is equal to <b>config_id</b> we have passed as a parameter AND that are active!<br><br>
		Then we will create options of the drop down list with the function that is performed after the query.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21049">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21049" onclick="selectionCode('contenuCoded0e21049');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21049" class="contenuCode"> 
<code class="javascript_operator">.</code><code class="javascript_function">then</code>(<code class="javascript_keyword1">function</code>(cashiers)<code class="javascript_operator">{</code>
     <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashiers<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
        cashier_list<code class="javascript_operator">.</code><code class="javascript_function">push</code>(cashiers<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code><code class="javascript_operator">.</code>cashier_name)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code>

    <code class="javascript_keyword1">if</code>(cashier_list<code class="javascript_operator">.</code>length <code class="javascript_operator">&gt;</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">{</code>
                        
        <code class="javascript_keyword1">for</code>(<code class="javascript_keyword1">var</code> i <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> len <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">.</code>length<code class="javascript_operator">;</code> i <code class="javascript_operator">&lt;</code> len<code class="javascript_operator">;</code> i<code class="javascript_operator">+</code><code class="javascript_operator">+</code>)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> content <code class="javascript_operator">=</code> self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>()<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> new_option <code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;option</code><code class="javascript_literal1"> </code><code class="javascript_literal1">value="</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">"&gt;</code><code class="javascript_literal1">'</code> <code class="javascript_operator">+</code> cashier_list<code class="javascript_operator">[</code>i<code class="javascript_operator">]</code> <code class="javascript_operator">+</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">&lt;/option&gt;\n</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>
            self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(content <code class="javascript_operator">+</code> new_option)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code>

        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">none</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>selectedIndex <code class="javascript_operator">=</code> <code class="javascript_digit">0</code><code class="javascript_operator">;</code>
        globalCashier <code class="javascript_operator">=</code> cashier_list<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
        self<code class="javascript_operator">.</code><code class="javascript_function">cashier_change</code>(globalCashier)<code class="javascript_operator">;</code>

    <code class="javascript_operator">}</code> <code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>

        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">if</code><code class="javascript_comment2"> </code><code class="javascript_comment2">there</code><code class="javascript_comment2"> </code><code class="javascript_comment2">are</code><code class="javascript_comment2"> </code><code class="javascript_comment2">no</code><code class="javascript_comment2"> </code><code class="javascript_comment2">cashier</code>
        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#AlertNoCashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">css</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">display</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">block</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
        self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">.gotopay-button</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">attr</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">disabled</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code>
<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code> 
</code></pre></div>
          <p>I let you dissect the function above.<br>
		Note that if there is no cashier, we display an error message in the <b>&lt;div id="AlertNoCashier"&gt;&lt;/div&gt;</b> tag and we disable the <b>Pay </b>button. </p>
          <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_alert_no_cashier.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_alert_no_cashier.jpg" alt="An error message is displayed and the Pay button is inactive" height="325" width="265"></a><figcaption>An error message is displayed and the Pay button is inactive</figcaption></figure>
          <p>You also see that once the list of the cashiers is built, it stores the name of the first cashier in the <b>globalCashier</b> global variable then we call <b>cashier_change()</b> function, passing it the name of the first cashier of the list.<br><br>
		Then we will add a function to be called when loading the module and call the <b>cashier_change() </b>function to initialize the Point Of Sale.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21487">renderElement()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21487" onclick="selectionCode('contenuCoded0e21487');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21487" class="contenuCode"> 
<code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
    <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

    self<code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#cashier-select</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">change</code>(<code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
        <code class="javascript_keyword1">var</code> name <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>value<code class="javascript_operator">;</code>
        self<code class="javascript_operator">.</code><code class="javascript_function">cashier_change</code>(name)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>And finally, we'll copy/paste and modify the original <b>build_widgets()</b> function, which is in <b>widgets.js</b> file of <b>point_of_sale </b>module.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e21586">build_widgets()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e21586" onclick="selectionCode('contenuCoded0e21586');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e21586" class="contenuCode"> <code class="javascript_label">build_widgets</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Screens</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ProductScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ReceiptScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaymentScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">WelcomeScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ClientPaymentScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScaleInviteScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScaleScreenWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Popups</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HelpPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ProductErrorPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorSessionPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ChooseReceiptPopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ErrorNegativePricePopupWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Misc</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>notification <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">SynchNotificationWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>notification<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>username   <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">UsernameWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>username<code class="javascript_operator">.</code><code class="javascript_function">replace</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">.placeholder-UsernameWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>action_bar <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ActionBarWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>action_bar<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#rightpane</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>left_action_bar <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ActionBarWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>left_action_bar<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#leftpane</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">GoToPayWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>         <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">We</code><code class="javascript_comment2"> </code><code class="javascript_comment2">add</code><code class="javascript_comment2"> </code><code class="javascript_comment2">here</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">creation</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-GoToPayWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>     <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">of</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">widget</code><code class="javascript_comment2"> </code><code class="javascript_comment2">that</code><code class="javascript_comment2"> </code><code class="javascript_comment2">displays</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">Pay</code><code class="javascript_comment2"> </code><code class="javascript_comment2">button</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaypadWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-PaypadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>numpad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">NumpadWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>numpad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-NumpadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>order_widget <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OrderWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>order_widget<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-OrderWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>onscreen_keyboard <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OnscreenKeyboardWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code>
                <code class="javascript_literal1">'</code><code class="javascript_literal1">keyboard_model</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">simple</code><code class="javascript_literal1">'</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>onscreen_keyboard<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>($(<code class="javascript_literal1">"</code><code class="javascript_literal1">.point-of-sale</code><code class="javascript_literal1"> </code><code class="javascript_literal1">#content</code><code class="javascript_literal1">"</code>))<code class="javascript_operator">;</code> 

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>close_button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HeaderButtonWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>
                <code class="javascript_label">label</code>: <code class="javascript_function">_t</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">Close</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
                <code class="javascript_label">action</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code> self<code class="javascript_operator">.</code><code class="javascript_function">try_close</code>()<code class="javascript_operator">;</code> <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>close_button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">HeaderButtonWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>
                <code class="javascript_label">label</code>: <code class="javascript_function">_t</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">Self-Checkout</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
                <code class="javascript_label">action</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code> self<code class="javascript_operator">.</code>screen_selector<code class="javascript_operator">.</code><code class="javascript_function">set_user_mode</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code> <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#rightheader</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>

            
            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">--------</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">Screen</code><code class="javascript_comment2"> </code><code class="javascript_comment2">Selector</code><code class="javascript_comment2"> </code><code class="javascript_comment2">---------</code>

            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_selector <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">ScreenSelector</code>(<code class="javascript_operator">{</code>
                <code class="javascript_label">pos</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">,</code>
                <code class="javascript_label">screen_set</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">products</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>product_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">payment</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>payment_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">client_payment</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>client_payment_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">scale_invite</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_invite_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">scale</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code>    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>scale_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">receipt</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_screen<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">welcome</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>welcome_screen<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">popup_set</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">help</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>help_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-product</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_product_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-session</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_session_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">error-negative-price</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>error_negative_price_popup<code class="javascript_operator">,</code>
                    <code class="javascript_literal1">'</code><code class="javascript_literal1">choose-receipt</code><code class="javascript_literal1">'</code><code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>choose_receipt_popup<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_client_screen</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">welcome</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_cashier_screen</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">products</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
                <code class="javascript_label">default_mode</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code>iface_self_checkout <code class="javascript_operator">?</code>  <code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code> <code class="javascript_operator">:</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">if</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code>debug)<code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>debug_widget <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">DebugWidget</code>(<code class="javascript_literal2">this</code>)<code class="javascript_operator">;</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>debug_widget<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#content</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>We add the widget that will display the <b>Pay</b> button we will see later to the list of widgets to build .</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23440">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23440" onclick="selectionCode('contenuCoded0e23440');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23440" class="contenuCode"> 
<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">GoToPayWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>                  
<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>gotopay<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-GoToPayWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>  
</code></pre></div>
          <p>Here it says that the widget will be placed in the <b>&lt;div id="placeholder-GoToPayWidget"&gt;&lt;/ div&gt;</b> tag that we put in the view later.</p>
        </div>
        
		<h3 class="TitreSection2" id="LVIII-A-3">VIII-A-3. The CashierPayScreenWidget module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>This module will allow us to add a function to the original <b>module.PaymentScreenWidget</b> module (which is in <b>screen.js </b>file of <b>point_of_sale</b> module), again with the <b>include()</b> function</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23519">PaymentScreenWidget<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23519" onclick="selectionCode('contenuCoded0e23519');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23519" class="contenuCode"> module<code class="javascript_operator">.</code>CashierPayScreenWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PaymentScreenWidget<code class="javascript_operator">.</code><code class="javascript_function">include</code>(<code class="javascript_operator">{</code>
    <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">PaymentScreenWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> 

    <code class="javascript_label">show</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>
        <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#pay-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(globalCashier)<code class="javascript_operator">;</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#ticket-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(globalCashier)<code class="javascript_operator">;</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">selectedOrder</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">set_cashier_name</code>(globalCashier)<code class="javascript_operator">;</code>

        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaypadWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-PaypadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>  
</code></pre></div>
          <p>The module will be attached to the <b>PaymentScreenWidget </b>template view&nbsp;.<br><br>
		We will add some instructions in the <b>show()</b> function of the module. <br><br>
		We will first of all get the name of the cashier who is in the <b>globalCashier</b> global variable that will be displayed on the payment page and on the receipt.</p>
          <p>It will then record the name of the cashier in the current order with the following function</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23727">set_cashier_name<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23727" onclick="selectionCode('contenuCoded0e23727');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23727" class="contenuCode"> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">selectedOrder</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">set_cashier_name</code>(globalCashier)<code class="javascript_operator">;</code> 
</code></pre></div>
          <p>This function does not exist yet, we'll add it later.<br><br>
		Finally, we will recreate the payment buttons that I removed,. In addition, they will be destroyed at the end of each order. </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23761">PaypadWidget<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23761" onclick="selectionCode('contenuCoded0e23761');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23761" class="contenuCode"> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaypadWidget</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>paypad<code class="javascript_operator">.</code><code class="javascript_function">replace</code>($(<code class="javascript_literal1">'</code><code class="javascript_literal1">#placeholder-PaypadWidget</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">;</code> 
</code></pre></div>
          <p class="imgtext-info">The PaypadWidget module is the 
original one created for the Point Of Sale. This is the one that was 
removed before it was next to the keypad, which was replaced with the <b>Pay </b>button.</p>
        </div>
        
		<h3 class="TitreSection2" id="LVIII-A-4">VIII-A-4. The CashierReceiptScreenWidget module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Here we will add instructions in the original function<b> refresh()</b> of <b>ReceiptScreenWidget</b> module that is in <b>screen.js</b> file of <b>point_of_sale</b> module. This is the module that will display the name of the cashier on the receipt.</p>
          <p>In fact, it will copy the original function and add the last three lines (the if() statement).</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23843">CashierReceiptScreenWidget<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23843" onclick="selectionCode('contenuCoded0e23843');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23843" class="contenuCode"> module<code class="javascript_operator">.</code>CashierReceiptScreenWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>ReceiptScreenWidget<code class="javascript_operator">.</code><code class="javascript_function">include</code>(<code class="javascript_operator">{</code>

    <code class="javascript_label">refresh</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>
        $(<code class="javascript_literal1">'</code><code class="javascript_literal1">.pos-receipt-container</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$el)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(QWeb<code class="javascript_operator">.</code><code class="javascript_function">render</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">PosTicket</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>widget<code class="javascript_operator">:</code><code class="javascript_literal2">this</code><code class="javascript_operator">}</code>))<code class="javascript_operator">;</code>

        <code class="javascript_keyword1">if</code>(globalCashier <code class="javascript_operator">!</code><code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$(<code class="javascript_literal1">'</code><code class="javascript_literal1">#ticket-screen-cashier-name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">html</code>(globalCashier)<code class="javascript_operator">;</code>           
        <code class="javascript_operator">}</code>         
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
 <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code> 
</code></pre></div>
          <p>You see that we get the name of the cashier who is in <b>globalCashier</b> variable to send it to <b>&lt;div id="ticket-screen-cashier-name"&gt;&lt;/ div&gt; </b>tag that is diplayed on the receipt. We'll see that later when we take care of the views (XML).</p>
        </div>
        
		<h3 class="TitreSection2" id="LVIII-A-5">VIII-A-5. GoToPayWidget module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>Now we will create the module that will host the Pay button.<br>
		Warning, this is not the button itself, it is simply the « container » that will host the button.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e23997">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e23997" onclick="selectionCode('contenuCoded0e23997');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e23997" class="contenuCode"> module<code class="javascript_operator">.</code>GoToPayWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PosBaseWidget<code class="javascript_operator">.</code><code class="javascript_function">extend</code>(<code class="javascript_operator">{</code>
    <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">GoToPayWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
    <code class="javascript_label">init</code>: <code class="javascript_keyword1">function</code>(parent<code class="javascript_operator">,</code> options) <code class="javascript_operator">{</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>(parent)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

    <code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
        <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

        <code class="javascript_keyword1">var</code> button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">GoToPayButtonWidget</code>(self)<code class="javascript_operator">;</code>
        button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(self<code class="javascript_operator">.</code>$el)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code> 
</code></pre></div>
          <p>As for the other original Point Of Sale modules, these are extensions of <b>PosBaseWidget</b> module.</p>
          <p>We assign the template view with the following statement:</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24134">&nbsp;<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24134" onclick="selectionCode('contenuCoded0e24134');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24134" class="contenuCode"> <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">GoToPayWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>Then adding the<b> init() </b>function like the original modules.</p>
          <p>We will then add a function that will command QWeb (the rendering engine templates) to add the<b> Pay</b> button, we will see just after this module (in its container, somehow). </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24161">renderElement<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24161" onclick="selectionCode('contenuCoded0e24161');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24161" class="contenuCode"> <code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
    <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

    <code class="javascript_keyword1">var</code> button <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">GoToPayButtonWidget</code>(self)<code class="javascript_operator">;</code>
    button<code class="javascript_operator">.</code><code class="javascript_function">appendTo</code>(self<code class="javascript_operator">.</code>$el)<code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>That's all for this module</p>
        </div>
        
		<h3 class="TitreSection2" id="LVIII-A-6">VIII-A-6. GoToPayButtonWidget module (Pay button)<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>This time, we will create the module of the <b>Pay </b>button.<br>
		As with the previous module, it will be an extension of the basic <b>PosBaseWidget</b> module, we assign the <b>GoToPayButtonWidget</b> template view , we add the <b>init() </b>function that goes well, then we also add the <b>renderElement()</b> function.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24256">GoToPayButtonWidget<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24256" onclick="selectionCode('contenuCoded0e24256');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24256" class="contenuCode"> module<code class="javascript_operator">.</code>GoToPayButtonWidget <code class="javascript_operator">=</code> module<code class="javascript_operator">.</code>PosBaseWidget<code class="javascript_operator">.</code><code class="javascript_function">extend</code>(<code class="javascript_operator">{</code>
    <code class="javascript_label">template</code>: <code class="javascript_literal1">'</code><code class="javascript_literal1">GoToPayButtonWidget</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>
    <code class="javascript_label">init</code>: <code class="javascript_keyword1">function</code>(parent<code class="javascript_operator">,</code> options) <code class="javascript_operator">{</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>(parent)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code>

    <code class="javascript_label">renderElement</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
        <code class="javascript_keyword1">var</code> self <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">_super</code>()<code class="javascript_operator">;</code>

        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$el<code class="javascript_operator">.</code><code class="javascript_function">click</code>(<code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            self<code class="javascript_operator">.</code>pos_widget<code class="javascript_operator">.</code>screen_selector<code class="javascript_operator">.</code><code class="javascript_function">set_current_screen</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">payment</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
         <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
 <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code> 
</code></pre></div>
          <p>We add <b>click()</b> function in <b>renderElement()</b>.<br>
		This function is performed, you guessed it, when clicking on the button (onclick() event).<br>
		This function itself will call the function to display different views of Point Of Sale.<br></p>
          <p>In this case, it will display the payment page.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24416">set_current_screen()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24416" onclick="selectionCode('contenuCoded0e24416');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24416" class="contenuCode"> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>$el<code class="javascript_operator">.</code><code class="javascript_function">click</code>(<code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
    self<code class="javascript_operator">.</code>pos_widget<code class="javascript_operator">.</code>screen_selector<code class="javascript_operator">.</code><code class="javascript_function">set_current_screen</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">payment</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code> 
</code></pre></div>
        </div>
        
		<h3 class="TitreSection2" id="LVIII-A-7">VIII-A-7. Order module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>This is the module that creates the orders, which stores 
them in the browser (LocalStorage), and which then sends the orders to 
the database.</p>
          <p>It is not possible to overload the original module, because
 when initializing, the module returns an object (the order) to the 
Point Of Sale, and we need to modify it to take into account the name of
 the cashier.<br><br>
		We'll copy/paste the entire module you will find in <b>model.js</b> file of <b>point_of_sale</b> module and we will add two or three things.</p>
          <p>I put the code of the module and I'll explain only the functions or objects I added. </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e24486">module.Order<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e24486" onclick="selectionCode('contenuCoded0e24486');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e24486" class="contenuCode"> 
module<code class="javascript_operator">.</code>Order <code class="javascript_operator">=</code> Backbone<code class="javascript_operator">.</code>Model<code class="javascript_operator">.</code><code class="javascript_function">extend</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">initialize</code>: <code class="javascript_keyword1">function</code>(attributes)<code class="javascript_operator">{</code>
            Backbone<code class="javascript_operator">.</code>Model<code class="javascript_operator">.</code>prototype<code class="javascript_operator">.</code>initialize<code class="javascript_operator">.</code><code class="javascript_function">apply</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> arguments)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_operator">{</code>
                <code class="javascript_label">creationDate</code>:   <code class="javascript_keyword1">new</code> <code class="javascript_keyword3">Date</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">orderLines</code>:     <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OrderlineCollection</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">paymentLines</code>:   <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaymentlineCollection</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">name</code>:           <code class="javascript_literal1">"</code><code class="javascript_literal1">Order</code><code class="javascript_literal1"> </code><code class="javascript_literal1">"</code> <code class="javascript_operator">+</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">generateUniqueId</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">client</code>:         <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>
                <code class="javascript_label">cashier_name</code>:   <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos <code class="javascript_operator">=</code>     attributes<code class="javascript_operator">.</code>pos<code class="javascript_operator">;</code> 
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline <code class="javascript_operator">=</code> undefined<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data <code class="javascript_operator">=</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">;</code>  <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">see</code><code class="javascript_comment2"> </code><code class="javascript_comment2">ScreenSelector</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_type <code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">receipt</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>  <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'receipt'</code><code class="javascript_comment2"> </code><code class="javascript_comment2">||</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'invoice'</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">generateUniqueId</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_keyword1">new</code> <code class="javascript_keyword3">Date</code>()<code class="javascript_operator">.</code><code class="javascript_function">getTime</code>()<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">addProduct</code>: <code class="javascript_keyword1">function</code>(product<code class="javascript_operator">,</code> options)<code class="javascript_operator">{</code>
            options <code class="javascript_operator">=</code> options <code class="javascript_operator">|</code><code class="javascript_operator">|</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> attr <code class="javascript_operator">=</code> product<code class="javascript_operator">.</code><code class="javascript_function">toJSON</code>()<code class="javascript_operator">;</code>
            attr<code class="javascript_operator">.</code>pos <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">;</code>
            attr<code class="javascript_operator">.</code>order <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> line <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">Orderline</code>(<code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_operator">{</code>pos<code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">,</code> order<code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">,</code> product<code class="javascript_operator">:</code> product<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">if</code>(options<code class="javascript_operator">.</code>quantity <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> undefined)<code class="javascript_operator">{</code>
                line<code class="javascript_operator">.</code><code class="javascript_function">set_quantity</code>(options<code class="javascript_operator">.</code>quantity)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
            <code class="javascript_keyword1">if</code>(options<code class="javascript_operator">.</code>price <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> undefined)<code class="javascript_operator">{</code>
                line<code class="javascript_operator">.</code><code class="javascript_function">set_unit_price</code>(options<code class="javascript_operator">.</code>price)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>

            <code class="javascript_keyword1">var</code> last_orderline <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getLastOrderline</code>()<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">if</code>( last_orderline <code class="javascript_operator">&amp;</code><code class="javascript_operator">&amp;</code> last_orderline<code class="javascript_operator">.</code><code class="javascript_function">can_be_merged_with</code>(line) <code class="javascript_operator">&amp;</code><code class="javascript_operator">&amp;</code> options<code class="javascript_operator">.</code>merge <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_literal2">false</code>)<code class="javascript_operator">{</code>
                last_orderline<code class="javascript_operator">.</code><code class="javascript_function">merge</code>(line)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">add</code>(line)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">selectLine</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getLastOrderline</code>())<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">removeOrderline</code>: <code class="javascript_keyword1">function</code>( line )<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">remove</code>(line)<code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">selectLine</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getLastOrderline</code>())<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getLastOrderline</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">at</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>length <code class="javascript_operator">-</code><code class="javascript_digit">1</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">addPaymentLine</code>: <code class="javascript_keyword1">function</code>(cashRegister) <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> paymentLines <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> newPaymentline <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">Paymentline</code>(<code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">,</code><code class="javascript_operator">{</code>cashRegister<code class="javascript_operator">:</code>cashRegister<code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">if</code>(cashRegister<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">journal</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>type <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">cash</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">{</code>
                newPaymentline<code class="javascript_operator">.</code><code class="javascript_function">set_amount</code>( <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getDueLeft</code>() )<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
            paymentLines<code class="javascript_operator">.</code><code class="javascript_function">add</code>(newPaymentline)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getName</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        getSubtotal <code class="javascript_operator">:</code> <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine)<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_display_price</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getTotalTaxIncluded</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_price_with_tax</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getDiscountTotal</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> (orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_unit_price</code>() <code class="javascript_operator">*</code> (orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_discount</code>()<code class="javascript_operator">/</code><code class="javascript_digit">100</code>) <code class="javascript_operator">*</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_quantity</code>())<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getTotalTaxExcluded</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_price_without_tax</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getTax</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> orderLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> orderLine<code class="javascript_operator">.</code><code class="javascript_function">get_tax</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getPaidTotal</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">reduce</code>((<code class="javascript_keyword1">function</code>(sum<code class="javascript_operator">,</code> paymentLine) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> sum <code class="javascript_operator">+</code> paymentLine<code class="javascript_operator">.</code><code class="javascript_function">get_amount</code>()<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">,</code> <code class="javascript_digit">0</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getChange</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>() <code class="javascript_operator">-</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>()<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getDueLeft</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>() <code class="javascript_operator">-</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>()<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">set_cashier_name</code>: <code class="javascript_keyword1">function</code>(name)<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> name)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">sets</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">type</code><code class="javascript_comment2"> </code><code class="javascript_comment2">of</code><code class="javascript_comment2"> </code><code class="javascript_comment2">receipt</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'receipt'(default)</code><code class="javascript_comment2"> </code><code class="javascript_comment2">or</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'invoice'</code>
        <code class="javascript_label">set_receipt_type</code>: <code class="javascript_keyword1">function</code>(type)<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_type <code class="javascript_operator">=</code> type<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">get_receipt_type</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_type<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">client</code><code class="javascript_comment2"> </code><code class="javascript_comment2">related</code><code class="javascript_comment2"> </code><code class="javascript_comment2">to</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">current</code><code class="javascript_comment2"> </code><code class="javascript_comment2">order.</code>
        <code class="javascript_label">set_client</code>: <code class="javascript_keyword1">function</code>(client)<code class="javascript_operator">{</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code>client)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">get_client</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">get_client_name</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> client <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">return</code> client <code class="javascript_operator">?</code> client<code class="javascript_operator">.</code>name <code class="javascript_operator">:</code> <code class="javascript_literal1">"</code><code class="javascript_literal1">"</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">order</code><code class="javascript_comment2"> </code><code class="javascript_comment2">also</code><code class="javascript_comment2"> </code><code class="javascript_comment2">stores</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">screen</code><code class="javascript_comment2"> </code><code class="javascript_comment2">status,</code><code class="javascript_comment2"> </code><code class="javascript_comment2">as</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">PoS</code><code class="javascript_comment2"> </code><code class="javascript_comment2">supports</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">different</code><code class="javascript_comment2"> </code><code class="javascript_comment2">active</code><code class="javascript_comment2"> </code><code class="javascript_comment2">screens</code><code class="javascript_comment2"> </code><code class="javascript_comment2">per</code><code class="javascript_comment2"> </code><code class="javascript_comment2">order.</code><code class="javascript_comment2"> </code><code class="javascript_comment2">This</code><code class="javascript_comment2"> </code><code class="javascript_comment2">method</code><code class="javascript_comment2"> </code><code class="javascript_comment2">is</code><code class="javascript_comment2"> </code><code class="javascript_comment2">used</code><code class="javascript_comment2"> </code><code class="javascript_comment2">to</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">store</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">screen</code><code class="javascript_comment2"> </code><code class="javascript_comment2">status.</code>
        <code class="javascript_label">set_screen_data</code>: <code class="javascript_keyword1">function</code>(key<code class="javascript_operator">,</code>value)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">if</code>(arguments<code class="javascript_operator">.</code>length <code class="javascript_operator">=</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_digit">2</code>)<code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data<code class="javascript_operator">[</code>key<code class="javascript_operator">]</code> <code class="javascript_operator">=</code> value<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_keyword1">else</code> <code class="javascript_keyword1">if</code>(arguments<code class="javascript_operator">.</code>length <code class="javascript_operator">=</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_digit">1</code>)<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">for</code>(key <code class="javascript_keyword1">in</code> arguments<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code>)<code class="javascript_operator">{</code>
                    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data<code class="javascript_operator">[</code>key<code class="javascript_operator">]</code> <code class="javascript_operator">=</code> arguments<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">]</code><code class="javascript_operator">[</code>key<code class="javascript_operator">]</code><code class="javascript_operator">;</code>
                <code class="javascript_operator">}</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2">see</code><code class="javascript_comment2"> </code><code class="javascript_comment2">set_screen_data</code>
        <code class="javascript_label">get_screen_data</code>: <code class="javascript_keyword1">function</code>(key)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data<code class="javascript_operator">[</code>key<code class="javascript_operator">]</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">exports</code><code class="javascript_comment2"> </code><code class="javascript_comment2">a</code><code class="javascript_comment2"> </code><code class="javascript_comment2">JSON</code><code class="javascript_comment2"> </code><code class="javascript_comment2">for</code><code class="javascript_comment2"> </code><code class="javascript_comment2">receipt</code><code class="javascript_comment2"> </code><code class="javascript_comment2">printing</code>
        <code class="javascript_label">export_for_printing</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> orderlines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">each</code>(<code class="javascript_keyword1">function</code>(orderline)<code class="javascript_operator">{</code>
                orderlines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(orderline<code class="javascript_operator">.</code><code class="javascript_function">export_for_printing</code>())<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">var</code> paymentlines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">each</code>(<code class="javascript_keyword1">function</code>(paymentline)<code class="javascript_operator">{</code>
                paymentlines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(paymentline<code class="javascript_operator">.</code><code class="javascript_function">export_for_printing</code>())<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> client  <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> cashier <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">|</code><code class="javascript_operator">|</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">user</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> company <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">company</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> shop    <code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">shop</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">var</code> date <code class="javascript_operator">=</code> <code class="javascript_keyword1">new</code> <code class="javascript_keyword3">Date</code>()<code class="javascript_operator">;</code>

            <code class="javascript_keyword1">return</code> <code class="javascript_operator">{</code>
                <code class="javascript_label">orderlines</code>: orderlines<code class="javascript_operator">,</code>
                <code class="javascript_label">paymentlines</code>: paymentlines<code class="javascript_operator">,</code>
                <code class="javascript_label">subtotal</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getSubtotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_with_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_without_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxExcluded</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTax</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_paid</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">total_discount</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getDiscountTotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">change</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getChange</code>()<code class="javascript_operator">,</code>
                name <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getName</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">client</code>: client <code class="javascript_operator">?</code> client<code class="javascript_operator">.</code>name <code class="javascript_operator">:</code> <code class="javascript_literal2">null</code> <code class="javascript_operator">,</code>
                <code class="javascript_label">invoice_id</code>: <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>   <code class="javascript_comment2">//</code><code class="javascript_comment2">TODO</code>
                <code class="javascript_label">cashier</code>: cashier <code class="javascript_operator">?</code> cashier<code class="javascript_operator">.</code>name <code class="javascript_operator">:</code> <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>
                <code class="javascript_label">date</code>: <code class="javascript_operator">{</code> 
                    <code class="javascript_label">year</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getFullYear</code>()<code class="javascript_operator">,</code> 
                    <code class="javascript_label">month</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getMonth</code>()<code class="javascript_operator">,</code> 
                    <code class="javascript_label">date</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getDate</code>()<code class="javascript_operator">,</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">day</code><code class="javascript_comment2"> </code><code class="javascript_comment2">of</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">month</code><code class="javascript_comment2"> </code>
                    <code class="javascript_label">day</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getDay</code>()<code class="javascript_operator">,</code>         <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">day</code><code class="javascript_comment2"> </code><code class="javascript_comment2">of</code><code class="javascript_comment2"> </code><code class="javascript_comment2">the</code><code class="javascript_comment2"> </code><code class="javascript_comment2">week</code><code class="javascript_comment2"> </code>
                    <code class="javascript_label">hour</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getHours</code>()<code class="javascript_operator">,</code> 
                    <code class="javascript_label">minute</code>: date<code class="javascript_operator">.</code><code class="javascript_function">getMinutes</code>() 
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
                <code class="javascript_label">company</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_label">email</code>: company<code class="javascript_operator">.</code>email<code class="javascript_operator">,</code>
                    <code class="javascript_label">website</code>: company<code class="javascript_operator">.</code>website<code class="javascript_operator">,</code>
                    <code class="javascript_label">company_registry</code>: company<code class="javascript_operator">.</code>company_registry<code class="javascript_operator">,</code>
                    <code class="javascript_label">contact_address</code>: company<code class="javascript_operator">.</code>contact_address<code class="javascript_operator">,</code> 
                    <code class="javascript_label">vat</code>: company<code class="javascript_operator">.</code>vat<code class="javascript_operator">,</code>
                    <code class="javascript_label">name</code>: company<code class="javascript_operator">.</code>name<code class="javascript_operator">,</code>
                    <code class="javascript_label">phone</code>: company<code class="javascript_operator">.</code>phone<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">shop</code>:<code class="javascript_operator">{</code>
                    <code class="javascript_label">name</code>: shop<code class="javascript_operator">.</code>name<code class="javascript_operator">,</code>
                <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
                <code class="javascript_label">currency</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">currency</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">exportAsJSON</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
            <code class="javascript_keyword1">var</code> orderLines<code class="javascript_operator">,</code> paymentLines<code class="javascript_operator">;</code>
            orderLines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">each</code>(_<code class="javascript_operator">.</code><code class="javascript_function">bind</code>( <code class="javascript_keyword1">function</code>(item) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> orderLines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">,</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> item<code class="javascript_operator">.</code><code class="javascript_function">export_as_JSON</code>()<code class="javascript_operator">]</code>)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code>))<code class="javascript_operator">;</code>
            paymentLines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
            (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">each</code>(_<code class="javascript_operator">.</code><code class="javascript_function">bind</code>( <code class="javascript_keyword1">function</code>(item) <code class="javascript_operator">{</code>
                <code class="javascript_keyword1">return</code> paymentLines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">,</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> item<code class="javascript_operator">.</code><code class="javascript_function">export_as_JSON</code>()<code class="javascript_operator">]</code>)<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code>))<code class="javascript_operator">;</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_operator">{</code>
                <code class="javascript_label">name</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getName</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_paid</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_total</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTax</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">amount_return</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getChange</code>()<code class="javascript_operator">,</code>
                <code class="javascript_label">lines</code>: orderLines<code class="javascript_operator">,</code>
                <code class="javascript_label">statement_ids</code>: paymentLines<code class="javascript_operator">,</code>
                <code class="javascript_label">pos_session_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos_session</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id<code class="javascript_operator">,</code>
                <code class="javascript_label">partner_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">?</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id <code class="javascript_operator">:</code> undefined<code class="javascript_operator">,</code>
                <code class="javascript_label">user_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">?</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">user</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id<code class="javascript_operator">,</code>
                <code class="javascript_label">cashier_name</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">selectedOrder</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
            <code class="javascript_operator">}</code><code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">getSelectedLine</code>: <code class="javascript_keyword1">function</code>()<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline<code class="javascript_operator">;</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
        <code class="javascript_label">selectLine</code>: <code class="javascript_keyword1">function</code>(line)<code class="javascript_operator">{</code>
            <code class="javascript_keyword1">if</code>(line)<code class="javascript_operator">{</code>
                <code class="javascript_keyword1">if</code>(line <code class="javascript_operator">!</code><code class="javascript_operator">=</code><code class="javascript_operator">=</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline)<code class="javascript_operator">{</code>
                    <code class="javascript_keyword1">if</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline)<code class="javascript_operator">{</code>
                        <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline<code class="javascript_operator">.</code><code class="javascript_function">set_selected</code>(<code class="javascript_literal2">false</code>)<code class="javascript_operator">;</code>
                    <code class="javascript_operator">}</code>
                    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline <code class="javascript_operator">=</code> line<code class="javascript_operator">;</code>
                    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline<code class="javascript_operator">.</code><code class="javascript_function">set_selected</code>(<code class="javascript_literal2">true</code>)<code class="javascript_operator">;</code>
                <code class="javascript_operator">}</code>
            <code class="javascript_operator">}</code><code class="javascript_keyword1">else</code><code class="javascript_operator">{</code>
                <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline <code class="javascript_operator">=</code> undefined<code class="javascript_operator">;</code>
            <code class="javascript_operator">}</code>
        <code class="javascript_operator">}</code><code class="javascript_operator">,</code>
    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>   
</code></pre></div>
          <p>At the beginning of the module, we will add a <b>cashier_name</b> field to the order.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e27708">initialize()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e27708" onclick="selectionCode('contenuCoded0e27708');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e27708" class="contenuCode"> <code class="javascript_label">initialize</code>: <code class="javascript_keyword1">function</code>(attributes)<code class="javascript_operator">{</code>
    Backbone<code class="javascript_operator">.</code>Model<code class="javascript_operator">.</code>prototype<code class="javascript_operator">.</code>initialize<code class="javascript_operator">.</code><code class="javascript_function">apply</code>(<code class="javascript_literal2">this</code><code class="javascript_operator">,</code> arguments)<code class="javascript_operator">;</code>
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_operator">{</code>
        <code class="javascript_label">creationDate</code>:   <code class="javascript_keyword1">new</code> <code class="javascript_keyword3">Date</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">orderLines</code>:     <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">OrderlineCollection</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">paymentLines</code>:   <code class="javascript_keyword1">new</code> module<code class="javascript_operator">.</code><code class="javascript_function">PaymentlineCollection</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">name</code>:           <code class="javascript_literal1">"</code><code class="javascript_literal1">Order</code><code class="javascript_literal1"> </code><code class="javascript_literal1">"</code> <code class="javascript_operator">+</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">generateUniqueId</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">client</code>:         <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>           <code class="javascript_comment1">&lt;!--</code> DO NOT FORGET COMMA <code class="javascript_operator">-</code><code class="javascript_operator">-</code><code class="javascript_operator">&gt;</code>
        <code class="javascript_label">cashier_name</code>:   <code class="javascript_literal2">null</code><code class="javascript_operator">,</code>           <code class="javascript_comment1">&lt;!--</code>  ADD cashier_name FIELD HERE <code class="javascript_operator">-</code><code class="javascript_operator">-</code><code class="javascript_operator">&gt;</code>
    <code class="javascript_operator">}</code>)<code class="javascript_operator">;</code>
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos <code class="javascript_operator">=</code>     attributes<code class="javascript_operator">.</code>pos<code class="javascript_operator">;</code> 
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>selected_orderline <code class="javascript_operator">=</code> undefined<code class="javascript_operator">;</code>
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>screen_data <code class="javascript_operator">=</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">;</code>  <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">see</code><code class="javascript_comment2"> </code><code class="javascript_comment2">ScreenSelector</code>
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>receipt_type <code class="javascript_operator">=</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">receipt</code><code class="javascript_literal1">'</code><code class="javascript_operator">;</code>  <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'receipt'</code><code class="javascript_comment2"> </code><code class="javascript_comment2">||</code><code class="javascript_comment2"> </code><code class="javascript_comment2">'invoice'</code>
    <code class="javascript_keyword1">return</code> <code class="javascript_literal2">this</code><code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>As you can see, the order contains multiple fields. We simply add the <b>cashier_name </b>field.<br>
		Now that the field is created, we can send the name of the cashier to the order when needed.</p>
          <p>Then we will add a function in the list of functions that already exist.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e27966">set_cashier_name()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e27966" onclick="selectionCode('contenuCoded0e27966');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e27966" class="contenuCode"> <code class="javascript_label">set_cashier_name</code>: <code class="javascript_keyword1">function</code>(name)<code class="javascript_operator">{</code>
    <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">set</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> name)<code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>When <b>set_cashier_name()</b> function is called, it will send the name of the cashier in the field we added earlier.</p>
          <p class="imgtext-idea">If you well remember, this function is called in the <b>show()</b> function of <b>CashierPayScreenWidget </b>module.<br>
			So when the payment page will be displayed, the name of the cashier will be sent to the order.</p>
          <p>Now we will modify the function that sends the order to the database.<br></p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e28023">exportAsJSON()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e28023" onclick="selectionCode('contenuCoded0e28023');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e28023" class="contenuCode"> <code class="javascript_label">exportAsJSON</code>: <code class="javascript_keyword1">function</code>() <code class="javascript_operator">{</code>
    <code class="javascript_keyword1">var</code> orderLines<code class="javascript_operator">,</code> paymentLines<code class="javascript_operator">;</code>
    orderLines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
    (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">orderLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">each</code>(_<code class="javascript_operator">.</code><code class="javascript_function">bind</code>( <code class="javascript_keyword1">function</code>(item) <code class="javascript_operator">{</code>
        <code class="javascript_keyword1">return</code> orderLines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">,</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> item<code class="javascript_operator">.</code><code class="javascript_function">export_as_JSON</code>()<code class="javascript_operator">]</code>)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code>))<code class="javascript_operator">;</code>
    paymentLines <code class="javascript_operator">=</code> <code class="javascript_operator">[</code><code class="javascript_operator">]</code><code class="javascript_operator">;</code>
    (<code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">paymentLines</code><code class="javascript_literal1">'</code>))<code class="javascript_operator">.</code><code class="javascript_function">each</code>(_<code class="javascript_operator">.</code><code class="javascript_function">bind</code>( <code class="javascript_keyword1">function</code>(item) <code class="javascript_operator">{</code>
        <code class="javascript_keyword1">return</code> paymentLines<code class="javascript_operator">.</code><code class="javascript_function">push</code>(<code class="javascript_operator">[</code><code class="javascript_digit">0</code><code class="javascript_operator">,</code> <code class="javascript_digit">0</code><code class="javascript_operator">,</code> item<code class="javascript_operator">.</code><code class="javascript_function">export_as_JSON</code>()<code class="javascript_operator">]</code>)<code class="javascript_operator">;</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">,</code> <code class="javascript_literal2">this</code>))<code class="javascript_operator">;</code>
    <code class="javascript_keyword1">return</code> <code class="javascript_operator">{</code>
        <code class="javascript_label">name</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getName</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">amount_paid</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getPaidTotal</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">amount_total</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTotalTaxIncluded</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">amount_tax</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getTax</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">amount_return</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code><code class="javascript_function">getChange</code>()<code class="javascript_operator">,</code>
        <code class="javascript_label">lines</code>: orderLines<code class="javascript_operator">,</code>
        <code class="javascript_label">statement_ids</code>: paymentLines<code class="javascript_operator">,</code>
        <code class="javascript_label">pos_session_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos_session</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id<code class="javascript_operator">,</code>
        <code class="javascript_label">partner_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">?</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">client</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id <code class="javascript_operator">:</code> undefined<code class="javascript_operator">,</code>
        <code class="javascript_label">user_id</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>) <code class="javascript_operator">?</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id <code class="javascript_operator">:</code> <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">user</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code>id<code class="javascript_operator">,</code>
        <code class="javascript_label">cashier_name</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">selectedOrder</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code>
    <code class="javascript_operator">}</code><code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">,</code> 
</code></pre></div>
          <p>We added the <b>cashier_name</b> field in the return of the function.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e28486">cashier_name<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e28486" onclick="selectionCode('contenuCoded0e28486');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e28486" class="contenuCode"> <code class="javascript_label">cashier_name</code>: <code class="javascript_literal2">this</code><code class="javascript_operator">.</code>pos<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">selectedOrder</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">.</code><code class="javascript_function">get</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">cashier_name</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">,</code> 
</code></pre></div>
          <p>This time, we get the name of the cashier who was sent to the order earlier.<br><br><b>The openerp_pos_cashier module() is finished!</b></p>
        </div>
        
		<h3 class="TitreSection2" id="LVIII-A-8">VIII-A-8. The best for last<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>The JavaScript file is almost complete.<br>
		We now include our module inside the Point Of Sale.</p>
          <p>For this, there is no other way than to take the function that creates the Point Of Sale and add our module.</p>
          <p>So we add, following the module, the <b>openerp.point_of_sale() </b>function that is in the <b>main.js</b> file of <b>point_of_sale</b> module. </p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e28557">openerp.point_of_sale()<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e28557" onclick="selectionCode('contenuCoded0e28557');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e28557" class="contenuCode"> openerp<code class="javascript_operator">.</code>point_of_sale <code class="javascript_operator">=</code> <code class="javascript_keyword1">function</code>(instance) <code class="javascript_operator">{</code>
    instance<code class="javascript_operator">.</code>point_of_sale <code class="javascript_operator">=</code> <code class="javascript_operator">{</code><code class="javascript_operator">}</code><code class="javascript_operator">;</code>

    <code class="javascript_keyword1">var</code> module <code class="javascript_operator">=</code> instance<code class="javascript_operator">.</code>point_of_sale<code class="javascript_operator">;</code>

    <code class="javascript_function">openerp_pos_db</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>            <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">db.js</code>
    <code class="javascript_function">openerp_pos_models</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>        <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_models.js</code>
    <code class="javascript_function">openerp_pos_basewidget</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>    <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_basewidget.js</code>
    <code class="javascript_function">openerp_pos_keyboard</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>      <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_keyboard_widget.js</code>
    <code class="javascript_function">openerp_pos_scrollbar</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>     <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_scrollbar_widget.js</code>
    <code class="javascript_function">openerp_pos_screens</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_screens.js</code>
    <code class="javascript_function">openerp_pos_widgets</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_widgets.js</code>
    <code class="javascript_function">openerp_pos_devices</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">pos_devices.js</code>

    <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">cashiers</code>
    <code class="javascript_function">openerp_pos_cashier</code>(instance<code class="javascript_operator">,</code>module)<code class="javascript_operator">;</code>       <code class="javascript_comment2">//</code><code class="javascript_comment2"> </code><code class="javascript_comment2">import</code><code class="javascript_comment2"> </code><code class="javascript_comment2">openerp_pos_cashier</code>

    instance<code class="javascript_operator">.</code>web<code class="javascript_operator">.</code>client_actions<code class="javascript_operator">.</code><code class="javascript_function">add</code>(<code class="javascript_literal1">'</code><code class="javascript_literal1">pos.ui</code><code class="javascript_literal1">'</code><code class="javascript_operator">,</code> <code class="javascript_literal1">'</code><code class="javascript_literal1">instance.point_of_sale.PosWidget</code><code class="javascript_literal1">'</code>)<code class="javascript_operator">;</code>
<code class="javascript_operator">}</code><code class="javascript_operator">;</code> 
</code></pre></div>
          <p>We add the <b>openerp_pos_cashier</b> line.</p>
          <p>
            <b>And that's it for the pos_cashier.js file&nbsp;!!!</b>
          </p>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="LVIII-B">VIII-B. the pos_cashier.xml file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>This is the file of views needed to display the data in the Point Of Sale.</p>
        <p>This file is placed in the <b>xml</b> directory of the module.</p>
        <blockquote class="citation"><div>
          <b><span style="color:#0000ff;">/opt/modules-openerp/pos_cashiers/static/src/xml</span> </b>
        </div></blockquote>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e28857">pos_cashier.xml<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e28857" onclick="selectionCode('contenuCoded0e28857');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e28857" class="contenuCode"> <code class="keyword3">&lt;?</code><code class="keyword3">xml</code><code class="keyword3"> </code><code class="keyword3">version="1.0"</code><code class="keyword3"> </code><code class="keyword3">encoding="UTF-8"?</code><code class="keyword3">&gt;</code>
<code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">vim:fdl=1:</code>
<code class="comment1">--&gt;</code>
<code class="markup">&lt;</code><code class="markup">templates</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">template</code><code class="literal1">"</code><code class="markup"> </code><code class="label">xml</code><code class="markup">:</code><code class="markup">space</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">preserve</code><code class="literal1">"</code><code class="markup">&gt;</code>

    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Cashiers</code><code class="comment1"> </code><code class="comment1">drop-down</code><code class="comment1"> </code><code class="comment1">list</code><code class="comment1"> </code><code class="comment1">under</code><code class="comment1"> </code><code class="comment1">NumPad</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-extend</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">PosWidget</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-jquery</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">footer</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">t-operation</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">append</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">AlertNoCashier</code><code class="literal1">"</code><code class="markup">&gt;</code>You must create at least one cashier!<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-footer</code><code class="literal1">"</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-title</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    Select a cashier :            
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-frame</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-esc</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">widget.get_cashiers(widget.get_cur_pos_config_id())</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">select</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-select</code><code class="literal1">"</code><code class="markup">&gt;</code><code class="markup">&lt;</code><code class="markup">/</code><code class="markup">select</code><code class="markup">&gt;</code>   
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>           
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>

    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Name</code><code class="comment1"> </code><code class="comment1">of</code><code class="comment1"> </code><code class="comment1">the</code><code class="comment1"> </code><code class="comment1">cashier</code><code class="comment1"> </code><code class="comment1">on</code><code class="comment1"> </code><code class="comment1">Payement</code><code class="comment1"> </code><code class="comment1">Page</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-extend</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">PaymentScreenWidget</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-jquery</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">.pos-step-container</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">t-operation</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">prepend</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pay-screen-cashier</code><code class="literal1">"</code><code class="markup">&gt;</code>Cashier : 
                <code class="markup">&lt;</code><code class="markup">span</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pay-screen-cashier-name</code><code class="literal1">"</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">span</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>

    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Name</code><code class="comment1"> </code><code class="comment1">of</code><code class="comment1"> </code><code class="comment1">the</code><code class="comment1"> </code><code class="comment1">cashier</code><code class="comment1"> </code><code class="comment1">on</code><code class="comment1"> </code><code class="comment1">Ticket</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-extend</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">PosTicket</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-jquery</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">#header-ticket</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">t-operation</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">append</code><code class="literal1">"</code><code class="markup">&gt;</code>
            Cashier : <code class="markup">&lt;</code><code class="markup">span</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ticket-screen-cashier-name</code><code class="literal1">"</code><code class="markup">&gt;</code><code class="markup">&lt;</code><code class="markup">/</code><code class="markup">span</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>

<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">templates</code><code class="markup">&gt;</code> 
</code></pre></div>
        <p>Here we will use special tags that will allow <b>Qweb</b> rendering engine to insert objects in the page.</p>
        
		<h3 class="TitreSection2" id="LVIII-B-1">VIII-B-1. The dropdown cashiers<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h3><div class="BlocSection2">
          
          <p>We will place the dropdown cashiers under the keypad.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e29491">PosWidget<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e29491" onclick="selectionCode('contenuCoded0e29491');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e29491" class="contenuCode"> 
    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Cashiers</code><code class="comment1"> </code><code class="comment1">drop-down</code><code class="comment1"> </code><code class="comment1">list</code><code class="comment1"> </code><code class="comment1">under</code><code class="comment1"> </code><code class="comment1">NumPad</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-extend</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">PosWidget</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-jquery</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">footer</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">t-operation</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">append</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">AlertNoCashier</code><code class="literal1">"</code><code class="markup">&gt;</code>You must create at least one cashier!<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-footer</code><code class="literal1">"</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-title</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    Select a cashier :            
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-frame</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-esc</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">widget.get_cashiers(widget.get_cur_pos_config_id())</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">select</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-select</code><code class="literal1">"</code><code class="markup">&gt;</code><code class="markup">&lt;</code><code class="markup">/</code><code class="markup">select</code><code class="markup">&gt;</code>   
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>           
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code> 
</code></pre></div>
          <p>To modify the original view, we use the<b> t-extend</b> attribute.<br></p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e29760">t-extend<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e29760" onclick="selectionCode('contenuCoded0e29760');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e29760" class="contenuCode"> 
    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Cashiers</code><code class="comment1"> </code><code class="comment1">drop-down</code><code class="comment1"> </code><code class="comment1">list</code><code class="comment1"> </code><code class="comment1">under</code><code class="comment1"> </code><code class="comment1">NumPad</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-extend</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">PosWidget</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">&gt;</code>
        -
        -
        -
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code> 
</code></pre></div>
          <p>As you see above, a template is written inside <b>&lt;t&gt;&lt;/t&gt; </b>tags.</p>
          <p class="imgtext-idea">To see the different attributes and functions, I invite you to read this page on the publisher's website:<br><a class=" tooltip blue-tooltip lienArticle En" href="https://doc.openerp.com/trunk/web/qweb/" target="_blank">Documentation QWeb<span>Documentation QWeb</span></a> </p>
          <p>Then, just as in the XML views of Python module where we used the <b>position</b> attribute to place objects before, after or in place of the objects of the original template, we will use here the <b>t-operation</b> attribute preceded with the <b>t-jquery</b> attribute to specify the object of original template.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e29845">t-jquery<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e29845" onclick="selectionCode('contenuCoded0e29845');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e29845" class="contenuCode"> 
        <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-jquery</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">footer</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">t-operation</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">append</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">AlertNoCashier</code><code class="literal1">"</code><code class="markup">&gt;</code>You must create at least one cashier!<code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-footer</code><code class="literal1">"</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-title</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    Select a cashier :            
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-frame</code><code class="literal1">"</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-esc</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">widget.get_cashiers(widget.get_cur_pos_config_id())</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
                    <code class="markup">&lt;</code><code class="markup">select</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-select</code><code class="literal1">"</code><code class="markup">&gt;</code><code class="markup">&lt;</code><code class="markup">/</code><code class="markup">select</code><code class="markup">&gt;</code>   
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>           
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code> 
</code></pre></div>
          <p>Here, we wish to add objects to<b> &lt;footer&gt;&lt;/ footer&gt;</b> tag , following those of the original <b>PosWidget</b> template.</p>
          <p>We can see the tag which contains the error message in case of no cashier, followed by the drop-down list of cashiers.</p>
          <div class="TextAlign-center"><table class="tableau" style="border-width:0px;width:100%;" border="0">
            <tbody><tr>
              <td class="colonne" style="text-align:center;"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_list.jpg"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_list.jpg" alt="The dropdown list" class="ImgCliquable image_verticale" height="325" width="268"></a><br>
		 La liste déroulante</td>
              <td class="colonne" style="text-align:center;"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_alert_no_cashier.jpg"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_alert_no_cashier.jpg" alt="The error message if no cashier" class="ImgCliquable image_verticale" height="325" width="265"></a><br>
		 Le message d'erreur pour défaut de caissier</td>
            </tr>
          </tbody></table></div>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e30078">Cashiers dorpdown list<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e30078" onclick="selectionCode('contenuCoded0e30078');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e30078" class="contenuCode"> 
<code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-esc</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">widget.get_cashiers(widget.get_cur_pos_config_id())</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">/</code><code class="markup">&gt;</code>
<code class="markup">&lt;</code><code class="markup">select</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">cashier-select</code><code class="literal1">"</code><code class="markup">&gt;</code><code class="markup">&lt;</code><code class="markup">/</code><code class="markup">select</code><code class="markup">&gt;</code>   
</code></pre></div>
          <p>The first tag uses the<b> t-esc</b> attribute that can insert standard JavaScript commands.<br>
		At the loading of the Point Of Sale, we get the ID of the Point Of Sale with <a class="renvoiSignet" href="#gcpci">get_cur_pos_config_id()</a> function.</p>
          <p>Then, just below, we insert the dropdown list of cashiers who belong to this Point Of Sale.</p>
          <p>To display the name of the cashier on the payment page, we will extend the original <b>PaymentScreenWidget</b> module.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e30151">PaymentScreenWidget<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e30151" onclick="selectionCode('contenuCoded0e30151');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e30151" class="contenuCode"> 
    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Name</code><code class="comment1"> </code><code class="comment1">of</code><code class="comment1"> </code><code class="comment1">the</code><code class="comment1"> </code><code class="comment1">cashier</code><code class="comment1"> </code><code class="comment1">on</code><code class="comment1"> </code><code class="comment1">Payement</code><code class="comment1"> </code><code class="comment1">Page</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-extend</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">PaymentScreenWidget</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-jquery</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">.pos-step-container</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">t-operation</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">prepend</code><code class="literal1">"</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">div</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pay-screen-cashier</code><code class="literal1">"</code><code class="markup">&gt;</code>Cashier : 
                <code class="markup">&lt;</code><code class="markup">span</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">pay-screen-cashier-name</code><code class="literal1">"</code><code class="markup">&gt;</code>
                <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">span</code><code class="markup">&gt;</code>
            <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">div</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code> 
</code></pre></div>
          <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_pay_screen.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_pay_screen.jpg" alt="Name of the cashier on Payement Page" height="325" width="528"></a><figcaption>Name of the cashier on Payement Page</figcaption></figure>
          <p>Finally, the cashier's name must also appear on the receipt, so we will also extend the original <b>PosTicket </b>module.</p>
          <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e30323">PosTicket<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e30323" onclick="selectionCode('contenuCoded0e30323');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e30323" class="contenuCode"> 
    <code class="comment1">&lt;!--</code><code class="comment1"> </code><code class="comment1">Name</code><code class="comment1"> </code><code class="comment1">of</code><code class="comment1"> </code><code class="comment1">the</code><code class="comment1"> </code><code class="comment1">cashier</code><code class="comment1"> </code><code class="comment1">on</code><code class="comment1"> </code><code class="comment1">Ticket</code><code class="comment1"> </code><code class="comment1">--&gt;</code>
    <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-extend</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">PosTicket</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">t</code><code class="markup"> </code><code class="markup">t-jquery</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">#header-ticket</code><code class="literal1">"</code><code class="markup"> </code><code class="markup">t-operation</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">append</code><code class="literal1">"</code><code class="markup">&gt;</code>
            Cashier : <code class="markup">&lt;</code><code class="markup">span</code><code class="markup"> </code><code class="markup">id</code><code class="markup">=</code><code class="literal1">"</code><code class="literal1">ticket-screen-cashier-name</code><code class="literal1">"</code><code class="markup">&gt;</code><code class="markup">&lt;</code><code class="markup">/</code><code class="markup">span</code><code class="markup">&gt;</code>
        <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code>
    <code class="markup">&lt;</code><code class="markup">/</code><code class="markup">t</code><code class="markup">&gt;</code> 
</code></pre></div>
          <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_ticket.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_ticket.jpg" alt="Name of the cashier on receipt" height="325" width="431"></a><figcaption>Name of the cashier on receipt</figcaption></figure>
          <p>
            <b>That's it for the XML file.</b>
          </p>
        </div>
      </div>
      
		<h2 class="TitreSection1" id="LVIII-C">VIII-C. pos_cashier.css file<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h2><div class="BlocSection1">
        
        <p>A simple *.CSS file to put in <b>css</b> directory of the module&nbsp;: </p>
        <blockquote class="citation"><div>
          <b><span style="color:#0000ff;">/opt/modules-openerp/pos_cashiers/static/src/css</span> </b>
        </div></blockquote>
        <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e30483">pos_cashier.css<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e30483" onclick="selectionCode('contenuCoded0e30483');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e30483" class="contenuCode"> 
<code class="literal2">#</code><code class="literal2">cashier-title</code><code class="operator">{</code>
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/vertical-align"><span>vertical-align</span></a><code class="operator">:</code> <code class="keyword3">middle</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/display"><span>display</span></a><code class="operator">:</code>inline-block;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/text-align"><span>text-align</span></a><code class="operator">:</code> <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/left"><span>left</span></a>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-size"><span>font-size</span></a><code class="operator">:</code> <code class="digit">16px</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-weight"><span>font-weight</span></a><code class="operator">:</code> <code class="keyword3">normal</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-style"><span>font-style</span></a><code class="operator">:</code> <code class="keyword3">italic</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/width"><span>width</span></a><code class="operator">:</code> <code class="digit">45%</code>;
<code class="operator">}</code>

<code class="literal2">#</code><code class="literal2">cashier-frame</code> <code class="operator">{</code>
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/text-align"><span>text-align</span></a><code class="operator">:</code> <code class="keyword3">center</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/vertical-align"><span>vertical-align</span></a><code class="operator">:</code> <code class="keyword3">middle</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/display"><span>display</span></a><code class="operator">:</code>inline-block;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/border"><span>border</span></a><code class="operator">:</code> <code class="digit">1px</code> <code class="keyword3">solid</code> <code class="literal2">#</code><code class="literal2">000000</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/width"><span>width</span></a><code class="operator">:</code> <code class="digit">55%</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/padding"><span>padding</span></a><code class="operator">:</code> <code class="digit">5px</code> <code class="digit">0px</code> <code class="digit">5px</code> <code class="digit">0px</code>;
<code class="operator">}</code>

<code class="literal2">#</code><code class="literal2">cashier-select</code><code class="operator">{</code>
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/width"><span>width</span></a><code class="operator">:</code><code class="digit">95%</code>;
<code class="operator">}</code>

<code class="literal2">#</code><code class="literal2">cashier-footer</code><code class="operator">{</code>
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/background"><span>background</span></a><code class="operator">:</code> linear-gradient(<code class="literal1">#</code><code class="literal1">7B7979</code><code class="literal1">,</code><code class="literal1"> </code><code class="literal1">#</code><code class="literal1">393939</code>) <code class="keyword3">repeat</code> <code class="keyword3">scroll</code> <code class="digit">0</code> <code class="digit">0</code> <code class="keyword3">transparent</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/display"><span>display</span></a><code class="operator">:</code><code class="keyword3">block</code>;  
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/color"><span>color</span></a><code class="operator">:</code> <code class="literal2">#</code><code class="literal2">ffcc00</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/padding"><span>padding</span></a><code class="operator">:</code> <code class="digit">10px</code> <code class="digit">5px</code> <code class="digit">10px</code> <code class="digit">5px</code>;
<code class="operator">}</code>

<code class="literal2">#</code><code class="literal2">pay-screen-cashier</code><code class="operator">{</code>
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/color"><span>color</span></a><code class="operator">:</code> <code class="keyword3">black</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/border-bottom"><span>border-bottom</span></a><code class="operator">:</code> <code class="digit">1px</code> <code class="keyword3">dashed</code> <code class="literal2">#</code><code class="literal2">666666</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/padding"><span>padding</span></a><code class="operator">:</code> <code class="digit">2px</code> <code class="digit">2px</code> <code class="digit">2px</code> <code class="digit">2px</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/text-align"><span>text-align</span></a><code class="operator">:</code> <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/left"><span>left</span></a>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-size"><span>font-size</span></a><code class="operator">:</code> <code class="digit">14px</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-weight"><span>font-weight</span></a><code class="operator">:</code> <code class="keyword3">normal</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-style"><span>font-style</span></a><code class="operator">:</code> <code class="keyword3">italic</code>;
<code class="operator">}</code>

<code class="literal2">#</code><code class="literal2">ticket-screen-cashier</code><code class="operator">{</code>
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-style"><span>font-style</span></a><code class="operator">:</code> <code class="keyword3">italic</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/border-bottom"><span>border-bottom</span></a> <code class="operator">:</code> <code class="digit">1px</code> <code class="keyword3">solid</code> <code class="keyword3">gray</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/padding-bottom"><span>padding-bottom</span></a><code class="operator">:</code> <code class="digit">2px</code>;
<code class="operator">}</code>

<code class="literal2">#</code><code class="literal2">AlertNoCashier</code><code class="operator">{</code>
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/background"><span>background</span></a><code class="operator">:</code> <code class="keyword3">red</code> <code class="keyword3">url</code>(<code class="literal1">"</code><code class="literal1">.</code><code class="literal1">.</code><code class="literal1">/</code><code class="literal1">img</code><code class="literal1">/</code><code class="literal1">error</code><code class="literal1">.</code><code class="literal1">png</code><code class="literal1">"</code>) <code class="keyword3">no-repeat</code> <code class="digit">4px</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/color"><span>color</span></a><code class="operator">:</code> <code class="keyword3">white</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-size"><span>font-size</span></a><code class="operator">:</code> <code class="digit">14px</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/font-weight"><span>font-weight</span></a><code class="operator">:</code> <code class="keyword3">bold</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/padding"><span>padding</span></a><code class="operator">:</code> <code class="digit">12px</code> <code class="digit">4px</code> <code class="digit">4px</code> <code class="digit">30px</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/height"><span>height</span></a><code class="operator">:</code> <code class="digit">24px</code>;
    <a class="keyword2 lien_documentation_code" target="_blank" href="http://www.w3.org/community/webed/wiki/CSS/Properties/text-transform"><span>text-transform</span></a><code class="operator">:</code> <code class="keyword3">uppercase</code>;
<code class="operator">}</code> 
</code></pre></div>
        <p>Here you can put your additional styles for your module, and you can also edit the original ones, if needed,</p>
      </div>
    </div>
    
		<h1 class="TitreSection0" id="LIX">IX. Installation of the module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>This time, we can install our module.<br>
		Connect to OpenERP as an administrator, and then click the Configuration menu.</p>
      <p>Click on <b>« Update list of modules » </b>link<br>
		Then click <b>« Installed Modules »</b> and delete the <b>« Installed »</b> filter in the search bar.</p>
      <p>Our module will appear.</p>
      <p>Click the <b>Install </b>button and wait until the end of the installation.</p>
      <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_module.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_module.jpg" alt="The POS Cashiers module in installed modules" height="279" width="550"></a><figcaption>The POS Cashiers module in installed modules</figcaption></figure>
    </div>
    
		<h1 class="TitreSection0" id="LX">X. Internationalisation<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>You have noticed that the text, labels and titles were all in English?<br><b>There are two reasons for this.</b></p>
      <ul class="ListeDVP">
        <li>The first one , is that the module is fully functional, it 
may therefore be useful to other people. It will just make them 
translated into their language. I could do it, but I speak not very well
 Hungarian nor Korean ...</li>
        <li>The second reason is that I wanted to explain how to do the translation of a module. This is the best reason, finally.</li>
      </ul>
      <p>The international system is a bit complex.<br>
		Know that we need to create a<b> pos_cashier.pot</b> file, we put in the <b>i18n</b> directory.</p>
      <blockquote class="citation"><div>
        <b><span style="color:#0000ff;">/opt/modules-openerp/pos_cashier/i18n</span> </b>
      </div></blockquote>
      <p>From this <b>pos_cashier.pot</b> file, we can create files for different languages&#8203;&#8203;.</p>
      <p>A <b>*.pot</b> file is a translation template file. It contains only the original terms, it does not contain the translated words.</p>
      <p>But creating a<b> *.pot</b> from A to Z is a bit complicated.<br>
		Fortunately, our beloved OpenERP Dev Team have thought of everything.</p>
      <p><b>Make a *.pot file</b> </p>
      <ul class="ListeDVP">
        <li>Connect to OpenERP as administrator</li>
        <li>click <b>Configuration</b> in top menu.</li>
        <li>In <b>Translation</b> heading, click <b>Export translation</b>.</li>
        <li>The form below appears</li>
      </ul>
      <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_cashier_pot.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_pot.jpg" alt="Export translation file" height="286" width="550"></a><figcaption>Export translation file</figcaption></figure>
      <ul class="ListeDVP">
        <li>In <b>Langage</b> field, select <b>New Language</b>.</li>
        <li>In <b>File format</b>, select <b>PO File</b>.</li>
        <li>In <b>Modules to export</b>, select <b>POS Cashiers</b>.</li>
        <li>Click <b>Export</b>.</li>
        <li>A second window is displayed.</li>
      </ul>
      <figure class="TextAlign-center"><a data-rel="lightbox[article]" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/images/pos_export.jpg"><img class="ImgCliquable" src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_export.jpg" alt="Download translation file" height="230" width="550"></a><figcaption>Download translation file</figcaption></figure>
      <ul class="ListeDVP">
        <li>Download the file by clicking the download link.</li>
        <li>Rename the file to <b>pos_cashier.pot</b>.</li>
        <li>And open it with your text editor.</li>
      </ul>
      <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e31132">pos_cashier.pot<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e31132" onclick="selectionCode('contenuCoded0e31132');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e31132" class="contenuCode"> 
# Translation of OpenERP Server.
# This file contains the translation of the following modules:
#    * pos_cashier
#
msgid ""
msgstr ""
"Project-Id-Version: OpenERP Server 7.0-20130703-231023\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-07-13 00:04+0000\n"
"PO-Revision-Date: 2013-07-13 00:04+0000\n"
"Last-Translator: &lt;&gt;\n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: \n"
"Plural-Forms: \n"

#. module: pos_cashier
#: view:pos.cashier:0
msgid "All"
msgstr ""

#. module: pos_cashier
#: model:ir.model,name:pos_cashier.model_pos_order
msgid "Point of Sale"
msgstr ""

#. module: pos_cashier
#: model:ir.actions.act_window,help:pos_cashier.action_pos_cashier
msgid "&lt;p class=\"oe_view_nocontent_create\"&gt;\n"
"          Click here to create a cashier for the Point Of Sale.\n"
"        &lt;/p&gt;\n"
"      "
msgstr ""

#. module: pos_cashier
#: view:pos.cashier:0
msgid "Point of Sale Cashier"
msgstr ""

#. module: pos_cashier
#: field:pos.cashier,cashier_name:0
#: field:pos.order,cashier_name:0
msgid "Cashier"
msgstr ""

#. module: pos_cashier
#: view:pos.cashier:0
msgid "Inactive"
msgstr ""

#. module: pos_cashier
#: help:pos.cashier,active:0
msgid "If a cashier is not active, it will not be displayed in POS"
msgstr ""

#. module: pos_cashier
#: sql_constraint:pos.cashier:0
msgid "A cashier already exists with this name in this Point Of sale. Cashier's name must be unique!"
msgstr ""

#. module: pos_cashier
#: view:pos.cashier:0
#: field:pos.cashier,active:0
msgid "Active"
msgstr ""

#. module: pos_cashier
#: model:ir.model,name:pos_cashier.model_pos_cashier
msgid "pos.cashier"
msgstr ""

#. module: pos_cashier
#: model:ir.actions.act_window,name:pos_cashier.action_pos_cashier
#: model:ir.ui.menu,name:pos_cashier.menu_action_pos_cashier
#: model:ir.ui.menu,name:pos_cashier.menu_point_of_sale_cashiers
#: view:pos.cashier:0
msgid "Cashiers"
msgstr ""

#. module: pos_cashier
#: field:pos.cashier,pos_config_id:0
msgid "Point Of Sale"
msgstr ""
</code></pre></div>
      <p>Here's what looks like a<b> *.pot</b>.</p>
      <p>Before the copy, we will add some instructions.<br>
		You may have noticed that the words that are in this file are the 
names of the fields, constraints or comments that we have created in the
 tables.</p>
      <p>We also want to translate words that we « hard coded » in the XML files of some views.</p>
      <p>In particular, we want to translate the error message that 
appears in the Point Of Sale when there is no cashier, we also want to 
translate the word « cashier », etc..</p>
      <p>We will add portions of code as below.</p>
      <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e31155">pos_cashier.pot<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e31155" onclick="selectionCode('contenuCoded0e31155');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e31155" class="contenuCode">
#. module: pos_cashier
#. openerp-web
#: code:static/src/xml/pos_cashier.xml:9
#, python-format
msgid "You must create at least one cashier!"
msgstr ""
</code></pre></div>
      <p>Again, since there is no documentation on this, I poked around in the translation files of other modules.<br>
		It can translate a word or phrase in an XML file specifying the source
 of the file (from the root module) followed by the line number.<br></p>
      <p>In the example above, the sentence to be translated is line<b> 9</b> of<b> static/src/xml/pos_cashier.xml</b> file.</p>
      <p>Then we add the following two translations.</p>
      <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e31176">pos_cashier.pot<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e31176" onclick="selectionCode('contenuCoded0e31176');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e31176" class="contenuCode">
#. module: pos_cashier
#. openerp-web
#: code:static/src/xml/pos_cashier.xml:12
#, python-format
msgid "Select a cashier :"
msgstr ""

#. module: pos_cashier
#. openerp-web
#: code:static/src/xml/pos_cashier.xml:26
#: code:static/src/xml/pos_cashier.xml:36
#, python-format
msgid "Cashier :"
msgstr ""
</code></pre></div>
      <p>Please note that the string to be translated is in front of the<b> msgid</b> keyword. This is the identifier of the chain. On the next line, we have the <b>msgstr </b>keyword followed by an empty string.<br>
		Save the file, then copy the file renaming, this time to <b>fr.po</b>.
 This will be our translation file for the French language. Obviously, 
you'll understand it then just add the translations of the strings in 
the corresponding <b>msgstr</b>.<br><br><b>Here is an excerpt of fr.po&nbsp; file:</b></p>
      <div class="code_et_titre"><div class="titre_des_codes" id="IdTitreCode-d0e31200">fr.po<div class="selectionner_code"><span class="selectionner_code LienSelectionne" id="code-d0e31200" onclick="selectionCode('contenuCoded0e31200');">Sélectionnez</span></div></div><pre class="code_uniquement" style="overflow:auto;"><code id="contenuCoded0e31200" class="contenuCode">
#. module: pos_cashier
#: help:pos.cashier,active:0
msgid "If a cashier is not active, it will not be displayed in POS"
msgstr "Un caissier désactivé ne sera pas visible dans le Point De Vente"

#. module: pos_cashier
#: sql_constraint:pos.cashier:0
msgid ""
"A cashier already exists with this name in this Point Of sale. Cashier's "
"name must be unique!"
msgstr ""
"Un caissier existe déjà avec le même nom dans ce Point De Vente. Le nom du "
"caissier doit être unique!" 
</code></pre></div>
      <p>If you want to translate into several languages&#8203;&#8203;, simply copy and rename the<b> pos_cashier.pot</b> file to a <b>xx.po</b> file . For different languages &#8203;&#8203;taken into account, just look in the i18n directory of the other modules.</p>
      <p>While you're there, then duplicate the fr.po file for Belgium and Switzerland.</p>
      <p>When you have completed the translation files, you will need to restart OpenERP sure everything loads properly.</p>
      <p>Then you will be able to go into the POS, tickle the drop-down list after creating two or three cashiers! </p>
    </div>
    
		<h1 class="TitreSection0" id="LXI">XI. Conclusion<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p><b>In this tutorial we have seen a lot of things, finally</b>:</p>
      <ul class="ListeDVP">
        <li>the creation of a Python&nbsp;object;</li>
        <li>the creation of XML views (form view and tree view)&nbsp;;</li>
        <li>the creation of search filters;</li>
        <li>the creation of a menu&nbsp;;</li>
        <li>the module access rights;</li>
        <li>the records rules&nbsp;;</li>
        <li>add an icon to the module&nbsp;;</li>
        <li>modify the Point Of sale (add a dropdown list and a button)&nbsp;;</li>
        <li>QWeb&nbsp; and templates;</li>
        <li>the installation of a module&nbsp;;</li>
        <li>the translation of a module.</li>
      </ul>
      <p><b>Do not hesitate to look at documentation on the publisher's website, including&nbsp;:</b> </p>
      <ul class="ListeDVP">
        <li><a class=" tooltip blue-tooltip lienArticle En" href="https://doc.openerp.com/trunk/server/" target="_blank">OpenERP Server Developers Documentation<span>OpenERP Server Developers Documentation</span></a>&nbsp;;</li>
        <li><a class=" tooltip blue-tooltip lienArticle En" href="https://doc.openerp.com/trunk/web/" target="_blank">OpenERP Web's documentation<span>OpenERP Web's documentation</span></a>&nbsp;;</li>
        <li><a class=" tooltip blue-tooltip lienArticle En" href="https://doc.openerp.com/trunk/web/qweb/" target="_blank">QWeb<span>QWeb</span></a>&nbsp;;</li>
        <li><a class=" tooltip blue-tooltip lienArticle En" href="https://www.openerp.com/files/memento/OpenERP_Technical_Memento_latest.pdf" target="_blank">OpenERP technical Memento<span>OpenERP technical Memento</span></a>. </li>
      </ul>
      <p>If you have any improvements or even corrections, do not hesitate to send me your comments.</p>
      <p>Thank you. </p>
    </div>
    
		<h1 class="TitreSection0" id="LXII">XII. Download module<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/pos_cashier_icon.jpg" alt="pos_cashier_icon.jpg" class="image_verticale" height="64" width="64"> <a class=" tooltip blue-tooltip lienArticle Fr" href="http://thierry-godin.developpez.com/openerp/tutorial-module-creation-pos-modification-english-version/fichiers/pos_cashier.zip" target="_blank">Download POS Cashier Module<span>Download POS Cashier Module</span></a> </p>
    </div>
    
		<h1 class="TitreSection0" id="LXIII">XIII. Thanks<a class="HautPage" href="#" title="Haut de page">&#9650;</a></h1><div class="BlocSection0">
      
      <p>Many thanks to the members of the Developpez.com team for their advice and corrections.</p>
      <ul class="ListeDVP">
        <li><a class=" tooltip blue-tooltip lienArticle Fr" href="http://www.developpez.net/forums/u114666/fafabzh6/">fafabzh6<span>Responsable SAS et Business Intelligence</span></a> </li>
        <li><a class=" tooltip blue-tooltip lienArticle Fr" href="http://www.developpez.net/forums/u124512/claudeleloup/">Claude Leloup<span>Claude Leloup</span></a> </li>
      </ul>
    </div>
  </section>
</article>
		<div class="clear">&nbsp;&nbsp;</div>
<img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/compter-91.gif" alt=""><script type="text/javascript">$(function(){$("#bu91ko0y").load("/template/bu91ko0y.jpg");});</script>
<p style="margin-left: 331px;" class="licence">Copyright © 2013 Thierry Godin. 
Aucune reproduction, même partielle, ne peut être faite 
de ce site et de l'ensemble de son contenu&nbsp;: textes, documents, images, etc.
sans l'autorisation expresse de l'auteur. Sinon vous encourez selon la loi jusqu'à 
trois ans de prison et jusqu'à 300&nbsp;000&nbsp; de dommages et intérêts. 
</p></div>
</section>

<footer>
<div id="gabarit_responsable">
	Responsable bénévole de la rubrique ERP / PGI :
	le Service Publications -		<script type="text/javascript">
	<!--
	Ch=new Array(4);Res=new Array(4);
	Ch[0]='le_club_des_developeur';Ch[1]='ÙÆÈÏàä';
	Ch[2]='¬×ÄÇÍØÖÈÓÓ';Ch[3]='ÐÊÕÈØäÒÏÉß¡ÂÓÒ';
	for(y=1;y<4;y++){Res[y]="";for(x=0;x<Ch[y].length;x++)
	Res[y]+=String.fromCharCode(Ch[y].charCodeAt(x)-Ch[0].charCodeAt(x));}
	var st = '<a href="'+Res[1]+':solutions-entreprise'+Res[2]+'-'+Res[3]+'">Contacter par email<\/a>';	document.write(st);
	//-->
	</script><a href="mailto:solutions-entreprise@redaction-developpez.com">Contacter par email</a>

</div>

<ul id="gabarit_pied">
	<li><a href="http://club.developpez.com/contacts/">Nous contacter</a>
	</li><li><a href="http://www.developpez.com/participez/">Participez</a>
	</li><li><a href="http://www.developpez.com/hebergement/">Hébergement</a>
	</li><li><a href="http://www.developpez.com/legal/">Informations légales</a>
</li></ul>

<p id="gabarit_copyright">Copyright © 2000-2016 - www.developpez.com</p>

</footer>
<!-- Google Analytics général -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28115938-1']);
  _gaq.push(['_setDomainName', 'developpez.com']);
  _gaq.push(['_setCustomVar', 1, 'rubrique', 'erp-/-pgi', 3]);
  _gaq.push(['_setCustomVar', 2, 'type', 'Autre', 3]);
  _gaq.push(['_trackPageview']);

  (function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>






		
<div style="display: none;" id="lightboxOverlay"></div><div style="display: none;" id="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image"><div class="lb-nav"><a class="lb-prev"></a><a class="lb-next"></a></div><div class="lb-loader"><a class="lb-cancel"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/lightbox-ico-loading.gif"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"><img src="OpenERP%20Tutorial%20%20Module%20creation%20and%20modification%20of%20the%20Point%20Of%20Sale_files/lightbox-btn-close.png"></a></div></div></div></div><table class="gstl_50 gssb_c" style="width: 182px; display: none; top: 30px; left: 1099px; position: absolute;" cellpadding="0" cellspacing="0"><tbody><tr><td class="gssb_f"></td><td style="width: 100%;" class="gssb_e"></td></tr></tbody></table></body></html>